/*
 *
 * Wijmo Library 3.20141.34
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 * ----
 * Credits: Wijmo includes some MIT-licensed software, see copyright notices below.
 */
/*! globalize - v0.1.1 - 2013-12-13
* https://github.com/jquery/globalize
* Copyright 2013 ; Licensed MIT */
!function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;c=function(a){return new c.prototype.init(a)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=c:a.Globalize=c,c.cultures={},c.prototype={constructor:c,init:function(a){return this.cultures=c.cultures,this.cultureSelector=a,this}},c.prototype.init.prototype=c.prototype,c.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},c.cultures["default"].calendar=c.cultures["default"].calendars.standard,c.cultures.en=c.cultures["default"],c.cultureSelector="en",d=/^0x[a-f0-9]+$/i,e=/^[+\-]?infinity$/i,f=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,g=/^\s+|\s+$/g,h=function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},i=function(a,b){return a.substr(a.length-b.length)===b},j=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,n=arguments.length,o=!1;for("boolean"==typeof h&&(o=h,h=arguments[1]||{},i=2),"object"==typeof h||l(h)||(h={});n>i;i++)if(null!=(a=arguments[i]))for(c in a)d=h[c],e=a[c],h!==e&&(o&&e&&(m(e)||(f=k(e)))?(f?(f=!1,g=d&&k(d)?d:[]):g=d&&m(d)?d:{},h[c]=j(o,g,e)):e!==b&&(h[c]=e));return h},k=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},l=function(a){return"[object Function]"===Object.prototype.toString.call(a)},m=function(a){return"[object Object]"===Object.prototype.toString.call(a)},n=function(a,b){return 0===a.indexOf(b)},o=function(a){return(a+"").replace(g,"")},p=function(a){return isNaN(a)?0/0:Math[0>a?"ceil":"floor"](a)},q=function(a,b,c){var d;for(d=a.length;b>d;d+=1)a=c?"0"+a:a+"0";return a},r=function(a,b){for(var c=0,d=!1,e=0,f=a.length;f>e;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},s=function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},t=function(a,b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=u[b-2]+d,c.substr(c.length-b,b)):c=d}function e(){return o||p?o:(o=y.test(b),p=!0,o)}function f(a,b){if(q)return q[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate();default:throw"Invalid part value "+b}}var g,h=c.calendar,i=h.convert;if(!b||!b.length||"i"===b){if(c&&c.name.length)if(i)g=t(a,h.patterns.F,c);else{var j=new Date(a.getTime()),k=w(a,h.eras);j.setFullYear(x(a,h,k)),g=j.toLocaleString()}else g=a.toString();return g}var l=h.eras,m="s"===b;b=s(h,b),g=[];var n,o,p,q,u=["0","00","000"],y=/([^d]|^)(d|dd)([^d]|$)/g,z=0,A=v();for(!m&&i&&(q=i.fromGregorian(a));;){var B=A.lastIndex,C=A.exec(b),D=b.slice(B,C?C.index:b.length);if(z+=r(D,g),!C)break;if(z%2)g.push(C[0]);else{var E=C[0],F=E.length;switch(E){case"ddd":case"dddd":var G=3===F?h.days.namesAbbr:h.days.names;g.push(G[a.getDay()]);break;case"d":case"dd":o=!0,g.push(d(f(a,2),F));break;case"MMM":case"MMMM":var H=f(a,1);g.push(h.monthsGenitive&&e()?h.monthsGenitive[3===F?"namesAbbr":"names"][H]:h.months[3===F?"namesAbbr":"names"][H]);break;case"M":case"MM":g.push(d(f(a,1)+1,F));break;case"y":case"yy":case"yyyy":H=q?q[0]:x(a,h,w(a,l),m),4>F&&(H%=100),g.push(d(H,F));break;case"h":case"hh":n=a.getHours()%12,0===n&&(n=12),g.push(d(n,F));break;case"H":case"HH":g.push(d(a.getHours(),F));break;case"m":case"mm":g.push(d(a.getMinutes(),F));break;case"s":case"ss":g.push(d(a.getSeconds(),F));break;case"t":case"tt":H=a.getHours()<12?h.AM?h.AM[0]:" ":h.PM?h.PM[0]:" ",g.push(1===F?H.charAt(0):H);break;case"f":case"ff":case"fff":g.push(d(a.getMilliseconds(),3).substr(0,F));break;case"z":case"zz":n=a.getTimezoneOffset()/60,g.push((0>=n?"+":"-")+d(Math.floor(Math.abs(n)),F));break;case"zzz":n=a.getTimezoneOffset()/60,g.push((0>=n?"+":"-")+d(Math.floor(Math.abs(n)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":h.eras&&g.push(h.eras[w(a,l)].name);break;case"/":g.push(h["/"]);break;default:throw"Invalid date format pattern '"+E+"'."}}}return g.join("")},function(){var a;a=function(a,b,c){var d=c.groupSizes,e=d[0],f=1,g=Math.pow(10,b),h=Math.round(a*g)/g;isFinite(h)||(h=a),a=h;var i=a+"",j="",k=i.split(/e/i),l=k.length>1?parseInt(k[1],10):0;i=k[0],k=i.split("."),i=k[0],j=k.length>1?k[1]:"",l>0?(j=q(j,l,!1),i+=j.slice(0,l),j=j.substr(l)):0>l&&(l=-l,i=q(i,l+1,!0),j=i.slice(-l,i.length)+j,i=i.slice(0,-l)),j=b>0?c["."]+(j.length>b?j.slice(0,b):q(j,b)):"";for(var m=i.length-1,n=c[","],o="";m>=0;){if(0===e||e>m)return i.slice(0,m+1)+(o.length?n+o+j:j);o=i.slice(m-e+1,m+1)+(o.length?n+o:""),m-=e,f<d.length&&(e=d[f],f++)}return i.slice(0,m+1)+n+o+j},u=function(b,c,d){if(!isFinite(b))return 1/0===b?d.numberFormat.positiveInfinity:b===-1/0?d.numberFormat.negativeInfinity:d.numberFormat.NaN;if(!c||"i"===c)return d.name.length?b.toLocaleString():b.toString();c=c||"D";var e,f=d.numberFormat,g=Math.abs(b),h=-1;c.length>1&&(h=parseInt(c.slice(1),10));var i,j=c.charAt(0).toUpperCase();switch(j){case"D":e="n",g=p(g),-1!==h&&(g=q(""+g,h,!0)),0>b&&(g="-"+g);break;case"N":i=f;case"C":i=i||f.currency;case"P":i=i||f.percent,e=0>b?i.pattern[0]:i.pattern[1]||"n",-1===h&&(h=i.decimals),g=a(g*("P"===j?100:1),h,i);break;default:throw"Bad number format specifier: "+j}for(var k=/n|\$|-|%/g,l="";;){var m=k.lastIndex,n=k.exec(e);if(l+=e.slice(m,n?n.index:e.length),!n)break;switch(n[0]){case"n":l+=g;break;case"$":l+=f.currency.symbol;break;case"-":/[1-9]/.test(g)&&(l+=f["-"]);break;case"%":l+=f.percent.symbol}}return l}}(),v=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},w=function(a,b){if(!b)return 0;for(var c,d=a.getTime(),e=0,f=b.length;f>e;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},x=function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},function(){var a,b,c,d,e,f,g;a=function(a,b){if(100>b){var c=new Date,d=w(c),e=x(c,a,d),f=a.twoDigitYearMax;f="string"==typeof f?(new Date).getFullYear()%100+parseInt(f,10):f,b+=e-e%100,b>f&&(b-=100)}return b},b=function(a,b,c){var d,e=a.days,i=a._upperDays;return i||(a._upperDays=i=[g(e.names),g(e.namesAbbr),g(e.namesShort)]),b=f(b),c?(d=h(i[1],b),-1===d&&(d=h(i[2],b))):d=h(i[0],b),d},c=function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,i=a._upperMonths,j=a._upperMonthsGen;i||(a._upperMonths=i=[g(d.names),g(d.namesAbbr)],a._upperMonthsGen=j=[g(e.names),g(e.namesAbbr)]),b=f(b);var k=h(c?i[1]:i[0],b);return 0>k&&(k=h(c?j[1]:j[0],b)),k},d=function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=s(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=v();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=r(l,g),j%2)g.push(e[0]);else{var m,n=e[0],o=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m="(\\D+)";break;case"tt":case"t":m="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":m="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m="(\\d\\d?)";break;case"zzz":m="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":m="([+-]?\\d\\d?)";break;case"/":m="(\\/)";break;default:throw"Invalid date format pattern '"+n+"'."}m&&g.push(m),h.push(e[0])}}r(f.slice(i),g),g.push("$");var p=g.join("").replace(/\s+/g,"\\s+"),q={regExp:p,groups:h};return c[b]=q},e=function(a,b,c){return b>a||a>c},f=function(a){return a.split("\xa0").join(" ").toUpperCase()},g=function(a){for(var b=[],c=0,d=a.length;d>c;c++)b[c]=f(a[c]);return b},y=function(f,g,h){f=o(f);var i=h.calendar,j=d(i,g),k=new RegExp(j.regExp).exec(f);if(null===k)return null;for(var l,m=j.groups,p=null,q=null,r=null,s=null,t=null,u=0,v=0,w=0,x=0,y=null,z=!1,A=0,B=m.length;B>A;A++){var C=k[A+1];if(C){var D=m[A],E=D.length,F=parseInt(C,10);switch(D){case"dd":case"d":if(s=F,e(s,1,31))return null;break;case"MMM":case"MMMM":if(r=c(i,C,3===E),e(r,0,11))return null;break;case"M":case"MM":if(r=F-1,e(r,0,11))return null;break;case"y":case"yy":case"yyyy":if(q=4>E?a(i,F):F,e(q,0,9999))return null;break;case"h":case"hh":if(u=F,12===u&&(u=0),e(u,0,11))return null;break;case"H":case"HH":if(u=F,e(u,0,23))return null;break;case"m":case"mm":if(v=F,e(v,0,59))return null;break;case"s":case"ss":if(w=F,e(w,0,59))return null;break;case"tt":case"t":if(z=i.PM&&(C===i.PM[0]||C===i.PM[1]||C===i.PM[2]),!z&&(!i.AM||C!==i.AM[0]&&C!==i.AM[1]&&C!==i.AM[2]))return null;break;case"f":case"ff":case"fff":if(x=F*Math.pow(10,3-E),e(x,0,999))return null;break;case"ddd":case"dddd":if(t=b(i,C,3===E),e(t,0,6))return null;break;case"zzz":var G=C.split(/:/);if(2!==G.length)return null;if(l=parseInt(G[0],10),e(l,-12,13))return null;var H=parseInt(G[1],10);if(e(H,0,59))return null;y=60*l+(n(C,"-")?-H:H);break;case"z":case"zz":if(l=F,e(l,-12,13))return null;y=60*l;break;case"g":case"gg":var I=C;if(!I||!i.eras)return null;I=o(I.toLowerCase());for(var J=0,K=i.eras.length;K>J;J++)if(I===i.eras[J].name.toLowerCase()){p=J;break}if(null===p)return null}}}var L,M=new Date,N=i.convert;if(L=N?N.fromGregorian(M)[0]:M.getFullYear(),null===q?q=L:i.eras&&(q+=i.eras[p||0].offset),null===r&&(r=0),null===s&&(s=1),N){if(M=N.toGregorian(q,r,s),null===M)return null}else{if(M.setFullYear(q,r,s),M.getDate()!==s)return null;if(null!==t&&M.getDay()!==t)return null}if(z&&12>u&&(u+=12),M.setHours(u,v,w,x),null!==y){var O=M.getMinutes()-(y+M.getTimezoneOffset());M.setHours(M.getHours()+parseInt(O/60,10),O%60)}return M}}(),z=function(a,b,c){var d,e=b["-"],f=b["+"];switch(c){case"n -":e=" "+e,f=" "+f;case"n-":i(a,e)?d=["-",a.substr(0,a.length-e.length)]:i(a,f)&&(d=["+",a.substr(0,a.length-f.length)]);break;case"- n":e+=" ",f+=" ";case"-n":n(a,e)?d=["-",a.substr(e.length)]:n(a,f)&&(d=["+",a.substr(f.length)]);break;case"(n)":n(a,"(")&&i(a,")")&&(d=["-",a.substr(1,a.length-2)])}return d||["",a]},c.prototype.findClosestCulture=function(a){return c.findClosestCulture.call(this,a)},c.prototype.format=function(a,b,d){return c.format.call(this,a,b,d)},c.prototype.localize=function(a,b){return c.localize.call(this,a,b)},c.prototype.parseInt=function(a,b,d){return c.parseInt.call(this,a,b,d)},c.prototype.parseFloat=function(a,b,d){return c.parseFloat.call(this,a,b,d)},c.prototype.culture=function(a){return c.culture.call(this,a)},c.addCultureInfo=function(a,b,c){var d={},e=!1;"string"!=typeof a?(c=a,a=this.culture().name,d=this.cultures[a]):"string"!=typeof b?(c=b,e=null==this.cultures[a],d=this.cultures[a]||this.cultures["default"]):(e=!0,d=this.cultures[b]),this.cultures[a]=j(!0,{},d,c),e&&(this.cultures[a].calendar=this.cultures[a].calendars.standard)},c.findClosestCulture=function(a){var b;if(!a)return this.findClosestCulture(this.cultureSelector)||this.cultures["default"];if("string"==typeof a&&(a=a.split(",")),k(a)){var c,d,e=this.cultures,f=a,g=f.length,h=[];for(d=0;g>d;d++){a=o(f[d]);var i,j=a.split(";");c=o(j[0]),1===j.length?i=1:(a=o(j[1]),0===a.indexOf("q=")?(a=a.substr(2),i=parseFloat(a),i=isNaN(i)?0:i):i=1),h.push({lang:c,pri:i})}for(h.sort(function(a,b){return a.pri<b.pri?1:a.pri>b.pri?-1:0}),d=0;g>d;d++)if(c=h[d].lang,b=e[c])return b;for(d=0;g>d;d++)for(c=h[d].lang;;){var l=c.lastIndexOf("-");if(-1===l)break;if(c=c.substr(0,l),b=e[c])return b}for(d=0;g>d;d++){c=h[d].lang;for(var m in e){var n=e[m];if(n.language===c)return n}}}else if("object"==typeof a)return a;return b||null},c.format=function(a,b,c){var d=this.findClosestCulture(c);return a instanceof Date?a=t(a,b,d):"number"==typeof a&&(a=u(a,b,d)),a},c.localize=function(a,b){return this.findClosestCulture(b).messages[a]||this.cultures["default"].messages[a]},c.parseDate=function(a,b,c){c=this.findClosestCulture(c);var d,e,f;if(b){if("string"==typeof b&&(b=[b]),b.length)for(var g=0,h=b.length;h>g;g++){var i=b[g];if(i&&(d=y(a,i,c)))break}}else{f=c.calendar.patterns;for(e in f)if(d=y(a,f[e],c))break}return d||null},c.parseInt=function(a,b,d){return p(c.parseFloat(a,b,d))},c.parseFloat=function(a,b,c){"number"!=typeof b&&(c=b,b=10);var g=this.findClosestCulture(c),h=0/0,i=g.numberFormat;if(a.indexOf(g.numberFormat.currency.symbol)>-1&&(a=a.replace(g.numberFormat.currency.symbol,""),a=a.replace(g.numberFormat.currency["."],g.numberFormat["."])),a.indexOf(g.numberFormat.percent.symbol)>-1&&(a=a.replace(g.numberFormat.percent.symbol,"")),a=a.replace(/ /g,""),e.test(a))h=parseFloat(a);else if(!b&&d.test(a))h=parseInt(a,16);else{var j=z(a,i,i.pattern[0]),k=j[0],l=j[1];""===k&&"(n)"!==i.pattern[0]&&(j=z(a,i,"(n)"),k=j[0],l=j[1]),""===k&&"-n"!==i.pattern[0]&&(j=z(a,i,"-n"),k=j[0],l=j[1]),k=k||"+";var m,n,o=l.indexOf("e");0>o&&(o=l.indexOf("E")),0>o?(n=l,m=null):(n=l.substr(0,o),m=l.substr(o+1));var p,q,r=i["."],s=n.indexOf(r);0>s?(p=n,q=null):(p=n.substr(0,s),q=n.substr(s+r.length));var t=i[","];p=p.split(t).join("");var u=t.replace(/\u00A0/g," ");t!==u&&(p=p.split(u).join(""));var v=k+p;if(null!==q&&(v+="."+q),null!==m){var w=z(m,i,"-n");v+="e"+(w[0]||"+")+w[1]}f.test(v)&&(h=parseFloat(v))}return h},c.culture=function(a){return"undefined"!=typeof a&&(this.cultureSelector=a),this.findClosestCulture(a)||this.cultures["default"]}}(this);;
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version 3.0.1
 *
 * Requires jQuery >= 1.2.6
 */
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof exports?module.exports=b:b(jQuery)})(function(b){function c(a){return a&&a.constructor===Number?a+"px":a}b.fn.bgiframe=function(a){a=b.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:!0,src:"javascript:false;",conditional:/MSIE 6\.0/.test(navigator.userAgent)},a);if(!b.isFunction(a.conditional)){var g=a.conditional;a.conditional=function(){return g}}var h=b('<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+ a.src+'"style="display:block;position:absolute;z-index:-1;"/>');return this.each(function(){var d=b(this);if(!1!==a.conditional(this)){var e=d.children("iframe.bgiframe"),f=0===e.length?h.clone():e;f.css({top:"auto"==a.top?-1*(parseInt(d.css("borderTopWidth"),10)||0)+"px":c(a.top),left:"auto"==a.left?-1*(parseInt(d.css("borderLeftWidth"),10)||0)+"px":c(a.left),width:"auto"==a.width?this.offsetWidth+"px":c(a.width),height:"auto"==a.height?this.offsetHeight+"px":c(a.height),opacity:!0===a.opacity?0: void 0});0===e.length&&d.prepend(f)}})};b.fn.bgIframe=b.fn.bgiframe});;
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
* Licensed under the MIT License (LICENSE.txt).
*
* Version: 3.1.9
*
* Requires: jQuery 1.2.2+
*/
(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):"object"===typeof exports?module.exports=d:d(jQuery)})(function(d){function m(a){var c=a||window.event,k=r.call(arguments,1),f=0,e=0,b=0,g=0;a=d.event.fix(c);a.type="mousewheel";"detail"in c&&(b=-1*c.detail);"wheelDelta"in c&&(b=c.wheelDelta);"wheelDeltaY"in c&&(b=c.wheelDeltaY);"wheelDeltaX"in c&&(e=-1*c.wheelDeltaX);"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(e=-1*b,b=0);f=0===b?e:b;"deltaY"in c&&(f=b=-1*c.deltaY);"deltaX"in c&& (e=c.deltaX,0===b&&(f=-1*e));if(0!==b||0!==e){1===c.deltaMode?(g=d.data(this,"mousewheel-line-height"),f*=g,b*=g,e*=g):2===c.deltaMode&&(g=d.data(this,"mousewheel-page-height"),f*=g,b*=g,e*=g);g=Math.max(Math.abs(b),Math.abs(e));if(!h||g<h)h=g,l.settings.adjustOldDeltas&&"mousewheel"===c.type&&0===g%120&&(h/=40);l.settings.adjustOldDeltas&&"mousewheel"===c.type&&0===g%120&&(f/=40,e/=40,b/=40);f=Math[1<=f?"floor":"ceil"](f/h);e=Math[1<=e?"floor":"ceil"](e/h);b=Math[1<=b?"floor":"ceil"](b/h);a.deltaX= e;a.deltaY=b;a.deltaFactor=h;a.deltaMode=0;k.unshift(a,f,e,b);n&&clearTimeout(n);n=setTimeout(s,200);return(d.event.dispatch||d.event.handle).apply(this,k)}}function s(){h=null}var p=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],k="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice,n,h;if(d.event.fixHooks)for(var q=p.length;q;)d.event.fixHooks[p[--q]]=d.event.mouseHooks;var l=d.event.special.mousewheel= {version:"3.1.9",setup:function(){if(this.addEventListener)for(var a=k.length;a;)this.addEventListener(k[--a],m,!1);else this.onmousewheel=m;d.data(this,"mousewheel-line-height",l.getLineHeight(this));d.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=k.length;a;)this.removeEventListener(k[--a],m,!1);else this.onmousewheel=null},getLineHeight:function(a){return parseInt(d(a)["offsetParent"in d.fn?"offsetParent":"parent"]().css("fontSize"), 10)},getPageHeight:function(a){return d(a).height()},settings:{adjustOldDeltas:!0}};d.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});;
/*!
 * jQuery Cookie Plugin v1.4.0
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):d(jQuery)})(function(d){function n(b){b=f.json?JSON.stringify(b):String(b);return f.raw?b:encodeURIComponent(b)}function l(b,e){var a;if(f.raw)a=b;else a:{var c=b;0===c.indexOf('"')&&(c=c.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{c=decodeURIComponent(c.replace(m," "))}catch(g){a=void 0;break a}try{a=f.json?JSON.parse(c):c;break a}catch(l){}a=void 0}return d.isFunction(e)?e(a):a}var m=/\+/g,f=d.cookie=function(b, e,a){if(void 0!==e&&!d.isFunction(e)){a=d.extend({},f.defaults,a);if("number"===typeof a.expires){var c=a.expires,g=a.expires=new Date;g.setDate(g.getDate()+c)}return document.cookie=[f.raw?b:encodeURIComponent(b),"=",n(e),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}a=b?void 0:{};for(var c=document.cookie?document.cookie.split("; "):[],g=0,m=c.length;g<m;g++){var h=c[g].split("="),k;k=h.shift();k=f.raw? k:decodeURIComponent(k);h=h.join("=");if(b&&b===k){a=l(h,e);break}b||void 0===(h=l(h))||(a[k]=h)}return a};f.defaults={};d.removeCookie=function(b,e){return void 0!==d.cookie(b)?(d.cookie(b,"",d.extend({},e,{expires:-1})),!0):!1}});;
// в”Њв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”ђ \\
// в”‚ RaphaГ«l 2.0.1 - JavaScript Vector Library                           в”‚ \\
// в”њв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”¤ \\
// в”‚ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   в”‚ \\
// в”‚ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             в”‚ \\
// в”‚ Licensed under the MIT (http://raphaeljs.com/license.html) license. в”‚ \\
// в””в”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв”Ђв” \\
(function (a) { var b = "0.4.0", c = "hasOwnProperty", d = /[\.\/]/, e = "*", f = function () { }, g = function (a, b) { return a - b }, h, i, j = { n: {} }, k = function (a, b) { var c = j, d = i, e = Array.prototype.slice.call(arguments, 2), f = k.listeners(a), l = 0, m = !1, n, o = [], p = {}, q = [], r = []; h = a, i = 0; for (var s = 0, t = f.length; s < t; s++) "zIndex" in f[s] && (o.push(f[s].zIndex), f[s].zIndex < 0 && (p[f[s].zIndex] = f[s])); o.sort(g); while (o[l] < 0) { n = p[o[l++]], q.push(n.apply(b, e)); if (i) { i = d; return q } } for (s = 0; s < t; s++) { n = f[s]; if ("zIndex" in n) if (n.zIndex == o[l]) { q.push(n.apply(b, e)); if (i) { i = d; return q } do { l++, n = p[o[l]], n && q.push(n.apply(b, e)); if (i) { i = d; return q } } while (n) } else p[n.zIndex] = n; else { q.push(n.apply(b, e)); if (i) { i = d; return q } } } i = d; return q.length ? q : null }; k.listeners = function (a) { var b = a.split(d), c = j, f, g, h, i, k, l, m, n, o = [c], p = []; for (i = 0, k = b.length; i < k; i++) { n = []; for (l = 0, m = o.length; l < m; l++) { c = o[l].n, g = [c[b[i]], c[e]], h = 2; while (h--) f = g[h], f && (n.push(f), p = p.concat(f.f || [])) } o = n } return p }, k.on = function (a, b) { var c = a.split(d), e = j; for (var g = 0, h = c.length; g < h; g++) e = e.n, !e[c[g]] && (e[c[g]] = { n: {} }), e = e[c[g]]; e.f = e.f || []; for (g = 0, h = e.f.length; g < h; g++) if (e.f[g] == b) return f; e.f.push(b); return function (a) { +a == +a && (b.zIndex = +a) } }, k.stop = function () { i = 1 }, k.nt = function (a) { if (a) return (new RegExp("(?:\\.|\\/|^)" + a + "(?:\\.|\\/|$)")).test(h); return h }, k.unbind = function (a, b) { var f = a.split(d), g, h, i, k, l, m, n, o = [j]; for (k = 0, l = f.length; k < l; k++) for (m = 0; m < o.length; m += i.length - 2) { i = [m, 1], g = o[m].n; if (f[k] != e) g[f[k]] && i.push(g[f[k]]); else for (h in g) g[c](h) && i.push(g[h]); o.splice.apply(o, i) } for (k = 0, l = o.length; k < l; k++) { g = o[k]; while (g.n) { if (b) { if (g.f) { for (m = 0, n = g.f.length; m < n; m++) if (g.f[m] == b) { g.f.splice(m, 1); break } !g.f.length && delete g.f } for (h in g.n) if (g.n[c](h) && g.n[h].f) { var p = g.n[h].f; for (m = 0, n = p.length; m < n; m++) if (p[m] == b) { p.splice(m, 1); break } !p.length && delete g.n[h].f } } else { delete g.f; for (h in g.n) g.n[c](h) && g.n[h].f && delete g.n[h].f } g = g.n } } }, k.once = function (a, b) { var c = function () { b.apply(this, arguments), k.unbind(a, c) }; return k.on(a, c) }, k.version = b, k.toString = function () { return "You are running Eve " + b }, typeof module != "undefined" && module.exports ? module.exports = k : a.eve = k })(this), function () { function cr(b, d, e, f, h, i) { e = Q(e); var j, k, l, m = [], o, p, q, t = b.ms, u = {}, v = {}, w = {}; if (f) for (y = 0, z = cl.length; y < z; y++) { var x = cl[y]; if (x.el.id == d.id && x.anim == b) { x.percent != e ? (cl.splice(y, 1), l = 1) : k = x, d.attr(x.totalOrigin); break } } else f = +v; for (var y = 0, z = b.percents.length; y < z; y++) { if (b.percents[y] == e || b.percents[y] > f * b.top) { e = b.percents[y], p = b.percents[y - 1] || 0, t = t / b.top * (e - p), o = b.percents[y + 1], j = b.anim[e]; break } f && d.attr(b.anim[b.percents[y]]) } if (!!j) { if (!k) { for (var A in j) if (j[g](A)) if (U[g](A) || d.paper.customAttributes[g](A)) { u[A] = d.attr(A), u[A] == null && (u[A] = T[A]), v[A] = j[A]; switch (U[A]) { case C: w[A] = (v[A] - u[A]) / t; break; case "colour": u[A] = a.getRGB(u[A]); var B = a.getRGB(v[A]); w[A] = { r: (B.r - u[A].r) / t, g: (B.g - u[A].g) / t, b: (B.b - u[A].b) / t }; break; case "path": var D = bG(u[A], v[A]), E = D[1]; u[A] = D[0], w[A] = []; for (y = 0, z = u[A].length; y < z; y++) { w[A][y] = [0]; for (var F = 1, G = u[A][y].length; F < G; F++) w[A][y][F] = (E[y][F] - u[A][y][F]) / t } break; case "transform": var H = d._, I = bP(H[A], v[A]); if (I) { u[A] = I.from, v[A] = I.to, w[A] = [], w[A].real = !0; for (y = 0, z = u[A].length; y < z; y++) { w[A][y] = [u[A][y][0]]; for (F = 1, G = u[A][y].length; F < G; F++) w[A][y][F] = (v[A][y][F] - u[A][y][F]) / t } } else { var J = d.matrix || new bQ, K = { _: { transform: H.transform }, getBBox: function () { return d.getBBox(1) } }; u[A] = [J.a, J.b, J.c, J.d, J.e, J.f], bN(K, v[A]), v[A] = K._.transform, w[A] = [(K.matrix.a - J.a) / t, (K.matrix.b - J.b) / t, (K.matrix.c - J.c) / t, (K.matrix.d - J.d) / t, (K.matrix.e - J.e) / t, (K.matrix.e - J.f) / t] } break; case "csv": var L = r(j[A])[s](c), M = r(u[A])[s](c); if (A == "clip-rect") { u[A] = M, w[A] = [], y = M.length; while (y--) w[A][y] = (L[y] - u[A][y]) / t } v[A] = L; break; default: L = [][n](j[A]), M = [][n](u[A]), w[A] = [], y = d.paper.customAttributes[A].length; while (y--) w[A][y] = ((L[y] || 0) - (M[y] || 0)) / t } } var O = j.easing, P = a.easing_formulas[O]; if (!P) { P = r(O).match(N); if (P && P.length == 5) { var R = P; P = function (a) { return cp(a, +R[1], +R[2], +R[3], +R[4], t) } } else P = be } q = j.start || b.start || +(new Date), x = { anim: b, percent: e, timestamp: q, start: q + (b.del || 0), status: 0, initstatus: f || 0, stop: !1, ms: t, easing: P, from: u, diff: w, to: v, el: d, callback: j.callback, prev: p, next: o, repeat: i || b.times, origin: d.attr(), totalOrigin: h }, cl.push(x); if (f && !k && !l) { x.stop = !0, x.start = new Date - t * f; if (cl.length == 1) return cn() } l && (x.start = new Date - x.ms * f), cl.length == 1 && cm(cn) } else k.initstatus = f, k.start = new Date - k.ms * f; eve("anim.start." + d.id, d, b) } } function cq(a, b) { var c = [], d = {}; this.ms = b, this.times = 1; if (a) { for (var e in a) a[g](e) && (d[Q(e)] = a[e], c.push(Q(e))); c.sort(bc) } this.anim = d, this.top = c[c.length - 1], this.percents = c } function cp(a, b, c, d, e, f) { function o(a, b) { var c, d, e, f, j, k; for (e = a, k = 0; k < 8; k++) { f = m(e) - a; if (z(f) < b) return e; j = (3 * i * e + 2 * h) * e + g; if (z(j) < 1e-6) break; e = e - f / j } c = 0, d = 1, e = a; if (e < c) return c; if (e > d) return d; while (c < d) { f = m(e); if (z(f - a) < b) return e; a > f ? c = e : d = e, e = (d - c) / 2 + c } return e } function n(a, b) { var c = o(a, b); return ((l * c + k) * c + j) * c } function m(a) { return ((i * a + h) * a + g) * a } var g = 3 * b, h = 3 * (d - b) - g, i = 1 - g - h, j = 3 * c, k = 3 * (e - c) - j, l = 1 - j - k; return n(a, 1 / (200 * f)) } function cd() { return this.x + q + this.y + q + this.width + " Г— " + this.height } function cc() { return this.x + q + this.y } function bQ(a, b, c, d, e, f) { a != null ? (this.a = +a, this.b = +b, this.c = +c, this.d = +d, this.e = +e, this.f = +f) : (this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.e = 0, this.f = 0) } function bw(a) { var b = []; for (var c = 0, d = a.length; d - 2 > c; c += 2) { var e = [{ x: +a[c], y: +a[c + 1] }, { x: +a[c], y: +a[c + 1] }, { x: +a[c + 2], y: +a[c + 3] }, { x: +a[c + 4], y: +a[c + 5]}]; d - 4 == c ? (e[0] = { x: +a[c - 2], y: +a[c - 1] }, e[3] = e[2]) : c && (e[0] = { x: +a[c - 2], y: +a[c - 1] }), b.push(["C", (-e[0].x + 6 * e[1].x + e[2].x) / 6, (-e[0].y + 6 * e[1].y + e[2].y) / 6, (e[1].x + 6 * e[2].x - e[3].x) / 6, (e[1].y + 6 * e[2].y - e[3].y) / 6, e[2].x, e[2].y]) } return b } function bv() { return this.hex } function bt(a, b, c) { function d() { var e = Array.prototype.slice.call(arguments, 0), f = e.join("вђЂ"), h = d.cache = d.cache || {}, i = d.count = d.count || []; if (h[g](f)) { bs(i, f); return c ? c(h[f]) : h[f] } i.length >= 1e3 && delete h[i.shift()], i.push(f), h[f] = a[m](b, e); return c ? c(h[f]) : h[f] } return d } function bs(a, b) { for (var c = 0, d = a.length; c < d; c++) if (a[c] === b) return a.push(a.splice(c, 1)[0]) } function a(c) { if (a.is(c, "function")) return b ? c() : eve.on("DOMload", c); if (a.is(c, E)) return a._engine.create[m](a, c.splice(0, 3 + a.is(c[0], C))).add(c); var d = Array.prototype.slice.call(arguments, 0); if (a.is(d[d.length - 1], "function")) { var e = d.pop(); return b ? e.call(a._engine.create[m](a, d)) : eve.on("DOMload", function () { e.call(a._engine.create[m](a, d)) }) } return a._engine.create[m](a, arguments) } a.version = "2.0.1", a.eve = eve; var b, c = /[, ]+/, d = { circle: 1, rect: 1, path: 1, ellipse: 1, text: 1, image: 1 }, e = /\{(\d+)\}/g, f = "prototype", g = "hasOwnProperty", h = { doc: document, win: window }, i = { was: Object.prototype[g].call(h.win, "Raphael"), is: h.win.Raphael }, j = function () { this.ca = this.customAttributes = {} }, k, l = "appendChild", m = "apply", n = "concat", o = "createTouch" in h.doc, p = "", q = " ", r = String, s = "split", t = "click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[s](q), u = { mousedown: "touchstart", mousemove: "touchmove", mouseup: "touchend" }, v = r.prototype.toLowerCase, w = Math, x = w.max, y = w.min, z = w.abs, A = w.pow, B = w.PI, C = "number", D = "string", E = "array", F = "toString", G = "fill", H = Object.prototype.toString, I = {}, J = "push", K = a._ISURL = /^url\(['"]?([^\)]+?)['"]?\)$/i, L = /^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i, M = { NaN: 1, Infinity: 1, "-Infinity": 1 }, N = /^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/, O = w.round, P = "setAttribute", Q = parseFloat, R = parseInt, S = r.prototype.toUpperCase, T = a._availableAttrs = { "arrow-end": "none", "arrow-start": "none", blur: 0, "clip-rect": "0 0 1e9 1e9", cursor: "default", cx: 0, cy: 0, fill: "#fff", "fill-opacity": 1, font: '10px "Arial"', "font-family": '"Arial"', "font-size": "10", "font-style": "normal", "font-weight": 400, gradient: 0, height: 0, href: "http://raphaeljs.com/", "letter-spacing": 0, opacity: 1, path: "M0,0", r: 0, rx: 0, ry: 0, src: "", stroke: "#000", "stroke-dasharray": "", "stroke-linecap": "butt", "stroke-linejoin": "butt", "stroke-miterlimit": 0, "stroke-opacity": 1, "stroke-width": 1, target: "_blank", "text-anchor": "middle", title: "Raphael", transform: "", width: 0, x: 0, y: 0 }, U = a._availableAnimAttrs = { blur: C, "clip-rect": "csv", cx: C, cy: C, fill: "colour", "fill-opacity": C, "font-size": C, height: C, opacity: C, path: "path", r: C, rx: C, ry: C, stroke: "colour", "stroke-opacity": C, "stroke-width": C, transform: "transform", width: C, x: C, y: C }, V = /\s*,\s*/, W = { hs: 1, rg: 1 }, X = /,?([achlmqrstvxz]),?/gi, Y = /([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig, Z = /([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig, $ = /(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/ig, _ = a._radial_gradient = /^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/, ba = {}, bb = function (a, b) { return a.key - b.key }, bc = function (a, b) { return Q(a) - Q(b) }, bd = function () { }, be = function (a) { return a }, bf = a._rectPath = function (a, b, c, d, e) { if (e) return [["M", a + e, b], ["l", c - e * 2, 0], ["a", e, e, 0, 0, 1, e, e], ["l", 0, d - e * 2], ["a", e, e, 0, 0, 1, -e, e], ["l", e * 2 - c, 0], ["a", e, e, 0, 0, 1, -e, -e], ["l", 0, e * 2 - d], ["a", e, e, 0, 0, 1, e, -e], ["z"]]; return [["M", a, b], ["l", c, 0], ["l", 0, d], ["l", -c, 0], ["z"]] }, bg = function (a, b, c, d) { d == null && (d = c); return [["M", a, b], ["m", 0, -d], ["a", c, d, 0, 1, 1, 0, 2 * d], ["a", c, d, 0, 1, 1, 0, -2 * d], ["z"]] }, bh = a._getPath = { path: function (a) { return a.attr("path") }, circle: function (a) { var b = a.attrs; return bg(b.cx, b.cy, b.r) }, ellipse: function (a) { var b = a.attrs; return bg(b.cx, b.cy, b.rx, b.ry) }, rect: function (a) { var b = a.attrs; return bf(b.x, b.y, b.width, b.height, b.r) }, image: function (a) { var b = a.attrs; return bf(b.x, b.y, b.width, b.height) }, text: function (a) { var b = a._getBBox(); return bf(b.x, b.y, b.width, b.height) } }, bi = a.mapPath = function (a, b) { if (!b) return a; var c, d, e, f, g, h, i; a = bG(a); for (e = 0, g = a.length; e < g; e++) { i = a[e]; for (f = 1, h = i.length; f < h; f += 2) c = b.x(i[f], i[f + 1]), d = b.y(i[f], i[f + 1]), i[f] = c, i[f + 1] = d } return a }; a._g = h, a.type = h.win.SVGAngle || h.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") ? "SVG" : "VML"; if (a.type == "VML") { var bj = h.doc.createElement("div"), bk; bj.innerHTML = '<v:shape adj="1"/>', bk = bj.firstChild, bk.style.behavior = "url(#default#VML)"; if (!bk || typeof bk.adj != "object") return a.type = p; bj = null } a.svg = !(a.vml = a.type == "VML"), a._Paper = j, a.fn = k = j.prototype = a.prototype, a._id = 0, a._oid = 0, a.is = function (a, b) { b = v.call(b); if (b == "finite") return !M[g](+a); if (b == "array") return a instanceof Array; return b == "null" && a === null || b == typeof a && a !== null || b == "object" && a === Object(a) || b == "array" && Array.isArray && Array.isArray(a) || H.call(a).slice(8, -1).toLowerCase() == b }, a.angle = function (b, c, d, e, f, g) { if (f == null) { var h = b - d, i = c - e; if (!h && !i) return 0; return (180 + w.atan2(-i, -h) * 180 / B + 360) % 360 } return a.angle(b, c, f, g) - a.angle(d, e, f, g) }, a.rad = function (a) { return a % 360 * B / 180 }, a.deg = function (a) { return a * 180 / B % 360 }, a.snapTo = function (b, c, d) { d = a.is(d, "finite") ? d : 10; if (a.is(b, E)) { var e = b.length; while (e--) if (z(b[e] - c) <= d) return b[e] } else { b = +b; var f = c % b; if (f < d) return c - f; if (f > b - d) return c - f + b } return c }; var bl = a.createUUID = function (a, b) { return function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a, b).toUpperCase() } } (/[xy]/g, function (a) { var b = w.random() * 16 | 0, c = a == "x" ? b : b & 3 | 8; return c.toString(16) }); a.setWindow = function (b) { eve("setWindow", a, h.win, b), h.win = b, h.doc = h.win.document, a._engine.initWin && a._engine.initWin(h.win) }; var bm = function (b) { if (a.vml) { var c = /^\s+|\s+$/g, d; try { var e = new ActiveXObject("htmlfile"); e.write("<body>"), e.close(), d = e.body } catch (f) { d = createPopup().document.body } var g = d.createTextRange(); bm = bt(function (a) { try { d.style.color = r(a).replace(c, p); var b = g.queryCommandValue("ForeColor"); b = (b & 255) << 16 | b & 65280 | (b & 16711680) >>> 16; return "#" + ("000000" + b.toString(16)).slice(-6) } catch (e) { return "none" } }) } else { var i = h.doc.createElement("i"); i.title = "RaphaГ«l Colour Picker", i.style.display = "none", h.doc.body.appendChild(i), bm = bt(function (a) { i.style.color = a; return h.doc.defaultView.getComputedStyle(i, p).getPropertyValue("color") }) } return bm(b) }, bn = function () { return "hsb(" + [this.h, this.s, this.b] + ")" }, bo = function () { return "hsl(" + [this.h, this.s, this.l] + ")" }, bp = function () { return this.hex }, bq = function (b, c, d) { c == null && a.is(b, "object") && "r" in b && "g" in b && "b" in b && (d = b.b, c = b.g, b = b.r); if (c == null && a.is(b, D)) { var e = a.getRGB(b); b = e.r, c = e.g, d = e.b } if (b > 1 || c > 1 || d > 1) b /= 255, c /= 255, d /= 255; return [b, c, d] }, br = function (b, c, d, e) { b *= 255, c *= 255, d *= 255; var f = { r: b, g: c, b: d, hex: a.rgb(b, c, d), toString: bp }; a.is(e, "finite") && (f.opacity = e); return f }; a.color = function (b) { var c; a.is(b, "object") && "h" in b && "s" in b && "b" in b ? (c = a.hsb2rgb(b), b.r = c.r, b.g = c.g, b.b = c.b, b.hex = c.hex) : a.is(b, "object") && "h" in b && "s" in b && "l" in b ? (c = a.hsl2rgb(b), b.r = c.r, b.g = c.g, b.b = c.b, b.hex = c.hex) : (a.is(b, "string") && (b = a.getRGB(b)), a.is(b, "object") && "r" in b && "g" in b && "b" in b ? (c = a.rgb2hsl(b), b.h = c.h, b.s = c.s, b.l = c.l, c = a.rgb2hsb(b), b.v = c.b) : (b = { hex: "none" }, b.r = b.g = b.b = b.h = b.s = b.v = b.l = -1)), b.toString = bp; return b }, a.hsb2rgb = function (a, b, c, d) { this.is(a, "object") && "h" in a && "s" in a && "b" in a && (c = a.b, b = a.s, a = a.h, d = a.o), a *= 360; var e, f, g, h, i; a = a % 360 / 60, i = c * b, h = i * (1 - z(a % 2 - 1)), e = f = g = c - i, a = ~ ~a, e += [i, h, 0, 0, h, i][a], f += [h, i, i, h, 0, 0][a], g += [0, 0, h, i, i, h][a]; return br(e, f, g, d) }, a.hsl2rgb = function (a, b, c, d) { this.is(a, "object") && "h" in a && "s" in a && "l" in a && (c = a.l, b = a.s, a = a.h); if (a > 1 || b > 1 || c > 1) a /= 360, b /= 100, c /= 100; a *= 360; var e, f, g, h, i; a = a % 360 / 60, i = 2 * b * (c < .5 ? c : 1 - c), h = i * (1 - z(a % 2 - 1)), e = f = g = c - i / 2, a = ~ ~a, e += [i, h, 0, 0, h, i][a], f += [h, i, i, h, 0, 0][a], g += [0, 0, h, i, i, h][a]; return br(e, f, g, d) }, a.rgb2hsb = function (a, b, c) { c = bq(a, b, c), a = c[0], b = c[1], c = c[2]; var d, e, f, g; f = x(a, b, c), g = f - y(a, b, c), d = g == 0 ? null : f == a ? (b - c) / g : f == b ? (c - a) / g + 2 : (a - b) / g + 4, d = (d + 360) % 6 * 60 / 360, e = g == 0 ? 0 : g / f; return { h: d, s: e, b: f, toString: bn} }, a.rgb2hsl = function (a, b, c) { c = bq(a, b, c), a = c[0], b = c[1], c = c[2]; var d, e, f, g, h, i; g = x(a, b, c), h = y(a, b, c), i = g - h, d = i == 0 ? null : g == a ? (b - c) / i : g == b ? (c - a) / i + 2 : (a - b) / i + 4, d = (d + 360) % 6 * 60 / 360, f = (g + h) / 2, e = i == 0 ? 0 : f < .5 ? i / (2 * f) : i / (2 - 2 * f); return { h: d, s: e, l: f, toString: bo} }, a._path2string = function () { return this.join(",").replace(X, "$1") }; var bu = a._preload = function (a, b) { var c = h.doc.createElement("img"); c.style.cssText = "position:absolute;left:-9999em;top:-9999em", c.onload = function () { b.call(this), this.onload = null, h.doc.body.removeChild(this) }, c.onerror = function () { h.doc.body.removeChild(this) }, h.doc.body.appendChild(c), c.src = a }; a.getRGB = bt(function (b) { if (!b || !!((b = r(b)).indexOf("-") + 1)) return { r: -1, g: -1, b: -1, hex: "none", error: 1, toString: bv }; if (b == "none") return { r: -1, g: -1, b: -1, hex: "none", toString: bv }; !W[g](b.toLowerCase().substring(0, 2)) && b.charAt() != "#" && (b = bm(b)); var c, d, e, f, h, i, j, k = b.match(L); if (k) { k[2] && (f = R(k[2].substring(5), 16), e = R(k[2].substring(3, 5), 16), d = R(k[2].substring(1, 3), 16)), k[3] && (f = R((i = k[3].charAt(3)) + i, 16), e = R((i = k[3].charAt(2)) + i, 16), d = R((i = k[3].charAt(1)) + i, 16)), k[4] && (j = k[4][s](V), d = Q(j[0]), j[0].slice(-1) == "%" && (d *= 2.55), e = Q(j[1]), j[1].slice(-1) == "%" && (e *= 2.55), f = Q(j[2]), j[2].slice(-1) == "%" && (f *= 2.55), k[1].toLowerCase().slice(0, 4) == "rgba" && (h = Q(j[3])), j[3] && j[3].slice(-1) == "%" && (h /= 100)); if (k[5]) { j = k[5][s](V), d = Q(j[0]), j[0].slice(-1) == "%" && (d *= 2.55), e = Q(j[1]), j[1].slice(-1) == "%" && (e *= 2.55), f = Q(j[2]), j[2].slice(-1) == "%" && (f *= 2.55), (j[0].slice(-3) == "deg" || j[0].slice(-1) == "В°") && (d /= 360), k[1].toLowerCase().slice(0, 4) == "hsba" && (h = Q(j[3])), j[3] && j[3].slice(-1) == "%" && (h /= 100); return a.hsb2rgb(d, e, f, h) } if (k[6]) { j = k[6][s](V), d = Q(j[0]), j[0].slice(-1) == "%" && (d *= 2.55), e = Q(j[1]), j[1].slice(-1) == "%" && (e *= 2.55), f = Q(j[2]), j[2].slice(-1) == "%" && (f *= 2.55), (j[0].slice(-3) == "deg" || j[0].slice(-1) == "В°") && (d /= 360), k[1].toLowerCase().slice(0, 4) == "hsla" && (h = Q(j[3])), j[3] && j[3].slice(-1) == "%" && (h /= 100); return a.hsl2rgb(d, e, f, h) } k = { r: d, g: e, b: f, toString: bv }, k.hex = "#" + (16777216 | f | e << 8 | d << 16).toString(16).slice(1), a.is(h, "finite") && (k.opacity = h); return k } return { r: -1, g: -1, b: -1, hex: "none", error: 1, toString: bv} }, a), a.hsb = bt(function (b, c, d) { return a.hsb2rgb(b, c, d).hex }), a.hsl = bt(function (b, c, d) { return a.hsl2rgb(b, c, d).hex }), a.rgb = bt(function (a, b, c) { return "#" + (16777216 | c | b << 8 | a << 16).toString(16).slice(1) }), a.getColor = function (a) { var b = this.getColor.start = this.getColor.start || { h: 0, s: 1, b: a || .75 }, c = this.hsb2rgb(b.h, b.s, b.b); b.h += .075, b.h > 1 && (b.h = 0, b.s -= .2, b.s <= 0 && (this.getColor.start = { h: 0, s: 1, b: b.b })); return c.hex }, a.getColor.reset = function () { delete this.start }, a.parsePathString = bt(function (b) { if (!b) return null; var c = { a: 7, c: 6, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, z: 0 }, d = []; a.is(b, E) && a.is(b[0], E) && (d = by(b)), d.length || r(b).replace(Y, function (a, b, e) { var f = [], g = b.toLowerCase(); e.replace($, function (a, b) { b && f.push(+b) }), g == "m" && f.length > 2 && (d.push([b][n](f.splice(0, 2))), g = "l", b = b == "m" ? "l" : "L"); if (g == "r") d.push([b][n](f)); else while (f.length >= c[g]) { d.push([b][n](f.splice(0, c[g]))); if (!c[g]) break } }), d.toString = a._path2string; return d }), a.parseTransformString = bt(function (b) { if (!b) return null; var c = { r: 3, s: 4, t: 2, m: 6 }, d = []; a.is(b, E) && a.is(b[0], E) && (d = by(b)), d.length || r(b).replace(Z, function (a, b, c) { var e = [], f = v.call(b); c.replace($, function (a, b) { b && e.push(+b) }), d.push([b][n](e)) }), d.toString = a._path2string; return d }), a.findDotsAtSegment = function (a, b, c, d, e, f, g, h, i) { var j = 1 - i, k = A(j, 3), l = A(j, 2), m = i * i, n = m * i, o = k * a + l * 3 * i * c + j * 3 * i * i * e + n * g, p = k * b + l * 3 * i * d + j * 3 * i * i * f + n * h, q = a + 2 * i * (c - a) + m * (e - 2 * c + a), r = b + 2 * i * (d - b) + m * (f - 2 * d + b), s = c + 2 * i * (e - c) + m * (g - 2 * e + c), t = d + 2 * i * (f - d) + m * (h - 2 * f + d), u = j * a + i * c, v = j * b + i * d, x = j * e + i * g, y = j * f + i * h, z = 90 - w.atan2(q - s, r - t) * 180 / B; (q > s || r < t) && (z += 180); return { x: o, y: p, m: { x: q, y: r }, n: { x: s, y: t }, start: { x: u, y: v }, end: { x: x, y: y }, alpha: z} }, a._removedFactory = function (a) { return function () { throw new Error("RaphaГ«l: you are calling to method вЂњ" + a + "вЂќ of removed object") } }; var bx = bt(function (a) { if (!a) return { x: 0, y: 0, width: 0, height: 0 }; a = bG(a); var b = 0, c = 0, d = [], e = [], f; for (var g = 0, h = a.length; g < h; g++) { f = a[g]; if (f[0] == "M") b = f[1], c = f[2], d.push(b), e.push(c); else { var i = bF(b, c, f[1], f[2], f[3], f[4], f[5], f[6]); d = d[n](i.min.x, i.max.x), e = e[n](i.min.y, i.max.y), b = f[5], c = f[6] } } var j = y[m](0, d), k = y[m](0, e); return { x: j, y: k, width: x[m](0, d) - j, height: x[m](0, e) - k} }, null, function (a) { return { x: a.x, y: a.y, width: a.width, height: a.height} }), by = function (b) { var c = []; if (!a.is(b, E) || !a.is(b && b[0], E)) b = a.parsePathString(b); for (var d = 0, e = b.length; d < e; d++) { c[d] = []; for (var f = 0, g = b[d].length; f < g; f++) c[d][f] = b[d][f] } c.toString = a._path2string; return c }, bz = a._pathToRelative = bt(function (b) { if (!a.is(b, E) || !a.is(b && b[0], E)) b = a.parsePathString(b); var c = [], d = 0, e = 0, f = 0, g = 0, h = 0; b[0][0] == "M" && (d = b[0][1], e = b[0][2], f = d, g = e, h++, c.push(["M", d, e])); for (var i = h, j = b.length; i < j; i++) { var k = c[i] = [], l = b[i]; if (l[0] != v.call(l[0])) { k[0] = v.call(l[0]); switch (k[0]) { case "a": k[1] = l[1], k[2] = l[2], k[3] = l[3], k[4] = l[4], k[5] = l[5], k[6] = +(l[6] - d).toFixed(3), k[7] = +(l[7] - e).toFixed(3); break; case "v": k[1] = +(l[1] - e).toFixed(3); break; case "m": f = l[1], g = l[2]; default: for (var m = 1, n = l.length; m < n; m++) k[m] = +(l[m] - (m % 2 ? d : e)).toFixed(3) } } else { k = c[i] = [], l[0] == "m" && (f = l[1] + d, g = l[2] + e); for (var o = 0, p = l.length; o < p; o++) c[i][o] = l[o] } var q = c[i].length; switch (c[i][0]) { case "z": d = f, e = g; break; case "h": d += +c[i][q - 1]; break; case "v": e += +c[i][q - 1]; break; default: d += +c[i][q - 2], e += +c[i][q - 1] } } c.toString = a._path2string; return c }, 0, by), bA = a._pathToAbsolute = bt(function (b) { if (!a.is(b, E) || !a.is(b && b[0], E)) b = a.parsePathString(b); if (!b || !b.length) return [["M", 0, 0]]; var c = [], d = 0, e = 0, f = 0, g = 0, h = 0; b[0][0] == "M" && (d = +b[0][1], e = +b[0][2], f = d, g = e, h++, c[0] = ["M", d, e]); for (var i, j, k = h, l = b.length; k < l; k++) { c.push(i = []), j = b[k]; if (j[0] != S.call(j[0])) { i[0] = S.call(j[0]); switch (i[0]) { case "A": i[1] = j[1], i[2] = j[2], i[3] = j[3], i[4] = j[4], i[5] = j[5], i[6] = +(j[6] + d), i[7] = +(j[7] + e); break; case "V": i[1] = +j[1] + e; break; case "H": i[1] = +j[1] + d; break; case "R": var m = [d, e][n](j.slice(1)); for (var o = 2, p = m.length; o < p; o++) m[o] = +m[o] + d, m[++o] = +m[o] + e; c.pop(), c = c[n](bw(m)); break; case "M": f = +j[1] + d, g = +j[2] + e; default: for (o = 1, p = j.length; o < p; o++) i[o] = +j[o] + (o % 2 ? d : e) } } else if (j[0] == "R") m = [d, e][n](j.slice(1)), c.pop(), c = c[n](bw(m)), i = ["R"][n](j.slice(-2)); else for (var q = 0, r = j.length; q < r; q++) i[q] = j[q]; switch (i[0]) { case "Z": d = f, e = g; break; case "H": d = i[1]; break; case "V": e = i[1]; break; case "M": f = i[i.length - 2], g = i[i.length - 1]; default: d = i[i.length - 2], e = i[i.length - 1] } } c.toString = a._path2string; return c }, null, by), bB = function (a, b, c, d) { return [a, b, c, d, c, d] }, bC = function (a, b, c, d, e, f) { var g = 1 / 3, h = 2 / 3; return [g * a + h * c, g * b + h * d, g * e + h * c, g * f + h * d, e, f] }, bD = function (a, b, c, d, e, f, g, h, i, j) { var k = B * 120 / 180, l = B / 180 * (+e || 0), m = [], o, p = bt(function (a, b, c) { var d = a * w.cos(c) - b * w.sin(c), e = a * w.sin(c) + b * w.cos(c); return { x: d, y: e} }); if (!j) { o = p(a, b, -l), a = o.x, b = o.y, o = p(h, i, -l), h = o.x, i = o.y; var q = w.cos(B / 180 * e), r = w.sin(B / 180 * e), t = (a - h) / 2, u = (b - i) / 2, v = t * t / (c * c) + u * u / (d * d); v > 1 && (v = w.sqrt(v), c = v * c, d = v * d); var x = c * c, y = d * d, A = (f == g ? -1 : 1) * w.sqrt(z((x * y - x * u * u - y * t * t) / (x * u * u + y * t * t))), C = A * c * u / d + (a + h) / 2, D = A * -d * t / c + (b + i) / 2, E = w.asin(((b - D) / d).toFixed(9)), F = w.asin(((i - D) / d).toFixed(9)); E = a < C ? B - E : E, F = h < C ? B - F : F, E < 0 && (E = B * 2 + E), F < 0 && (F = B * 2 + F), g && E > F && (E = E - B * 2), !g && F > E && (F = F - B * 2) } else E = j[0], F = j[1], C = j[2], D = j[3]; var G = F - E; if (z(G) > k) { var H = F, I = h, J = i; F = E + k * (g && F > E ? 1 : -1), h = C + c * w.cos(F), i = D + d * w.sin(F), m = bD(h, i, c, d, e, 0, g, I, J, [F, H, C, D]) } G = F - E; var K = w.cos(E), L = w.sin(E), M = w.cos(F), N = w.sin(F), O = w.tan(G / 4), P = 4 / 3 * c * O, Q = 4 / 3 * d * O, R = [a, b], S = [a + P * L, b - Q * K], T = [h + P * N, i - Q * M], U = [h, i]; S[0] = 2 * R[0] - S[0], S[1] = 2 * R[1] - S[1]; if (j) return [S, T, U][n](m); m = [S, T, U][n](m).join()[s](","); var V = []; for (var W = 0, X = m.length; W < X; W++) V[W] = W % 2 ? p(m[W - 1], m[W], l).y : p(m[W], m[W + 1], l).x; return V }, bE = function (a, b, c, d, e, f, g, h, i) { var j = 1 - i; return { x: A(j, 3) * a + A(j, 2) * 3 * i * c + j * 3 * i * i * e + A(i, 3) * g, y: A(j, 3) * b + A(j, 2) * 3 * i * d + j * 3 * i * i * f + A(i, 3) * h} }, bF = bt(function (a, b, c, d, e, f, g, h) { var i = e - 2 * c + a - (g - 2 * e + c), j = 2 * (c - a) - 2 * (e - c), k = a - c, l = (-j + w.sqrt(j * j - 4 * i * k)) / 2 / i, n = (-j - w.sqrt(j * j - 4 * i * k)) / 2 / i, o = [b, h], p = [a, g], q; z(l) > "1e12" && (l = .5), z(n) > "1e12" && (n = .5), l > 0 && l < 1 && (q = bE(a, b, c, d, e, f, g, h, l), p.push(q.x), o.push(q.y)), n > 0 && n < 1 && (q = bE(a, b, c, d, e, f, g, h, n), p.push(q.x), o.push(q.y)), i = f - 2 * d + b - (h - 2 * f + d), j = 2 * (d - b) - 2 * (f - d), k = b - d, l = (-j + w.sqrt(j * j - 4 * i * k)) / 2 / i, n = (-j - w.sqrt(j * j - 4 * i * k)) / 2 / i, z(l) > "1e12" && (l = .5), z(n) > "1e12" && (n = .5), l > 0 && l < 1 && (q = bE(a, b, c, d, e, f, g, h, l), p.push(q.x), o.push(q.y)), n > 0 && n < 1 && (q = bE(a, b, c, d, e, f, g, h, n), p.push(q.x), o.push(q.y)); return { min: { x: y[m](0, p), y: y[m](0, o) }, max: { x: x[m](0, p), y: x[m](0, o)}} }), bG = a._path2curve = bt(function (a, b) { var c = bA(a), d = b && bA(b), e = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null }, f = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null }, g = function (a, b) { var c, d; if (!a) return ["C", b.x, b.y, b.x, b.y, b.x, b.y]; !(a[0] in { T: 1, Q: 1 }) && (b.qx = b.qy = null); switch (a[0]) { case "M": b.X = a[1], b.Y = a[2]; break; case "A": a = ["C"][n](bD[m](0, [b.x, b.y][n](a.slice(1)))); break; case "S": c = b.x + (b.x - (b.bx || b.x)), d = b.y + (b.y - (b.by || b.y)), a = ["C", c, d][n](a.slice(1)); break; case "T": b.qx = b.x + (b.x - (b.qx || b.x)), b.qy = b.y + (b.y - (b.qy || b.y)), a = ["C"][n](bC(b.x, b.y, b.qx, b.qy, a[1], a[2])); break; case "Q": b.qx = a[1], b.qy = a[2], a = ["C"][n](bC(b.x, b.y, a[1], a[2], a[3], a[4])); break; case "L": a = ["C"][n](bB(b.x, b.y, a[1], a[2])); break; case "H": a = ["C"][n](bB(b.x, b.y, a[1], b.y)); break; case "V": a = ["C"][n](bB(b.x, b.y, b.x, a[1])); break; case "Z": a = ["C"][n](bB(b.x, b.y, b.X, b.Y)) } return a }, h = function (a, b) { if (a[b].length > 7) { a[b].shift(); var e = a[b]; while (e.length) a.splice(b++, 0, ["C"][n](e.splice(0, 6))); a.splice(b, 1), k = x(c.length, d && d.length || 0) } }, i = function (a, b, e, f, g) { a && b && a[g][0] == "M" && b[g][0] != "M" && (b.splice(g, 0, ["M", f.x, f.y]), e.bx = 0, e.by = 0, e.x = a[g][1], e.y = a[g][2], k = x(c.length, d && d.length || 0)) }; for (var j = 0, k = x(c.length, d && d.length || 0); j < k; j++) { c[j] = g(c[j], e), h(c, j), d && (d[j] = g(d[j], f)), d && h(d, j), i(c, d, e, f, j), i(d, c, f, e, j); var l = c[j], o = d && d[j], p = l.length, q = d && o.length; e.x = l[p - 2], e.y = l[p - 1], e.bx = Q(l[p - 4]) || e.x, e.by = Q(l[p - 3]) || e.y, f.bx = d && (Q(o[q - 4]) || f.x), f.by = d && (Q(o[q - 3]) || f.y), f.x = d && o[q - 2], f.y = d && o[q - 1] } return d ? [c, d] : c }, null, by), bH = a._parseDots = bt(function (b) { var c = []; for (var d = 0, e = b.length; d < e; d++) { var f = {}, g = b[d].match(/^([^:]*):?([\d\.]*)/); f.color = a.getRGB(g[1]); if (f.color.error) return null; f.color = f.color.hex, g[2] && (f.offset = g[2] + "%"), c.push(f) } for (d = 1, e = c.length - 1; d < e; d++) if (!c[d].offset) { var h = Q(c[d - 1].offset || 0), i = 0; for (var j = d + 1; j < e; j++) if (c[j].offset) { i = c[j].offset; break } i || (i = 100, j = e), i = Q(i); var k = (i - h) / (j - d + 1); for (; d < j; d++) h += k, c[d].offset = h + "%" } return c }), bI = a._tear = function (a, b) { a == b.top && (b.top = a.prev), a == b.bottom && (b.bottom = a.next), a.next && (a.next.prev = a.prev), a.prev && (a.prev.next = a.next) }, bJ = a._tofront = function (a, b) { b.top !== a && (bI(a, b), a.next = null, a.prev = b.top, b.top.next = a, b.top = a) }, bK = a._toback = function (a, b) { b.bottom !== a && (bI(a, b), a.next = b.bottom, a.prev = null, b.bottom.prev = a, b.bottom = a) }, bL = a._insertafter = function (a, b, c) { bI(a, c), b == c.top && (c.top = a), b.next && (b.next.prev = a), a.next = b.next, a.prev = b, b.next = a }, bM = a._insertbefore = function (a, b, c) { bI(a, c), b == c.bottom && (c.bottom = a), b.prev && (b.prev.next = a), a.prev = b.prev, b.prev = a, a.next = b }, bN = a._extractTransform = function (b, c) { if (c == null) return b._.transform; c = r(c).replace(/\.{3}|\u2026/g, b._.transform || p); var d = a.parseTransformString(c), e = 0, f = 0, g = 0, h = 1, i = 1, j = b._, k = new bQ; j.transform = d || []; if (d) for (var l = 0, m = d.length; l < m; l++) { var n = d[l], o = n.length, q = r(n[0]).toLowerCase(), s = n[0] != q, t = s ? k.invert() : 0, u, v, w, x, y; q == "t" && o == 3 ? s ? (u = t.x(0, 0), v = t.y(0, 0), w = t.x(n[1], n[2]), x = t.y(n[1], n[2]), k.translate(w - u, x - v)) : k.translate(n[1], n[2]) : q == "r" ? o == 2 ? (y = y || b.getBBox(1), k.rotate(n[1], y.x + y.width / 2, y.y + y.height / 2), e += n[1]) : o == 4 && (s ? (w = t.x(n[2], n[3]), x = t.y(n[2], n[3]), k.rotate(n[1], w, x)) : k.rotate(n[1], n[2], n[3]), e += n[1]) : q == "s" ? o == 2 || o == 3 ? (y = y || b.getBBox(1), k.scale(n[1], n[o - 1], y.x + y.width / 2, y.y + y.height / 2), h *= n[1], i *= n[o - 1]) : o == 5 && (s ? (w = t.x(n[3], n[4]), x = t.y(n[3], n[4]), k.scale(n[1], n[2], w, x)) : k.scale(n[1], n[2], n[3], n[4]), h *= n[1], i *= n[2]) : q == "m" && o == 7 && k.add(n[1], n[2], n[3], n[4], n[5], n[6]), j.dirtyT = 1, b.matrix = k } b.matrix = k, j.sx = h, j.sy = i, j.deg = e, j.dx = f = k.e, j.dy = g = k.f, h == 1 && i == 1 && !e && j.bbox ? (j.bbox.x += +f, j.bbox.y += +g) : j.dirtyT = 1 }, bO = function (a) { var b = a[0]; switch (b.toLowerCase()) { case "t": return [b, 0, 0]; case "m": return [b, 1, 0, 0, 1, 0, 0]; case "r": return a.length == 4 ? [b, 0, a[2], a[3]] : [b, 0]; case "s": return a.length == 5 ? [b, 1, 1, a[3], a[4]] : a.length == 3 ? [b, 1, 1] : [b, 1] } }, bP = a._equaliseTransform = function (b, c) { c = r(c).replace(/\.{3}|\u2026/g, b), b = a.parseTransformString(b) || [], c = a.parseTransformString(c) || []; var d = x(b.length, c.length), e = [], f = [], g = 0, h, i, j, k; for (; g < d; g++) { j = b[g] || bO(c[g]), k = c[g] || bO(j); if (j[0] != k[0] || j[0].toLowerCase() == "r" && (j[2] != k[2] || j[3] != k[3]) || j[0].toLowerCase() == "s" && (j[3] != k[3] || j[4] != k[4])) return; e[g] = [], f[g] = []; for (h = 0, i = x(j.length, k.length); h < i; h++) h in j && (e[g][h] = j[h]), h in k && (f[g][h] = k[h]) } return { from: e, to: f} }; a._getContainer = function (b, c, d, e) { var f; f = e == null && !a.is(b, "object") ? h.doc.getElementById(b) : b; if (f != null) { if (f.tagName) return c == null ? { container: f, width: f.style.pixelWidth || f.offsetWidth, height: f.style.pixelHeight || f.offsetHeight} : { container: f, width: c, height: d }; return { container: 1, x: b, y: c, width: d, height: e} } }, a.pathToRelative = bz, a._engine = {}, a.path2curve = bG, a.matrix = function (a, b, c, d, e, f) { return new bQ(a, b, c, d, e, f) }, function (b) { function d(a) { var b = w.sqrt(c(a)); a[0] && (a[0] /= b), a[1] && (a[1] /= b) } function c(a) { return a[0] * a[0] + a[1] * a[1] } b.add = function (a, b, c, d, e, f) { var g = [[], [], []], h = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]], i = [[a, c, e], [b, d, f], [0, 0, 1]], j, k, l, m; a && a instanceof bQ && (i = [[a.a, a.c, a.e], [a.b, a.d, a.f], [0, 0, 1]]); for (j = 0; j < 3; j++) for (k = 0; k < 3; k++) { m = 0; for (l = 0; l < 3; l++) m += h[j][l] * i[l][k]; g[j][k] = m } this.a = g[0][0], this.b = g[1][0], this.c = g[0][1], this.d = g[1][1], this.e = g[0][2], this.f = g[1][2] }, b.invert = function () { var a = this, b = a.a * a.d - a.b * a.c; return new bQ(a.d / b, -a.b / b, -a.c / b, a.a / b, (a.c * a.f - a.d * a.e) / b, (a.b * a.e - a.a * a.f) / b) }, b.clone = function () { return new bQ(this.a, this.b, this.c, this.d, this.e, this.f) }, b.translate = function (a, b) { this.add(1, 0, 0, 1, a, b) }, b.scale = function (a, b, c, d) { b == null && (b = a), (c || d) && this.add(1, 0, 0, 1, c, d), this.add(a, 0, 0, b, 0, 0), (c || d) && this.add(1, 0, 0, 1, -c, -d) }, b.rotate = function (b, c, d) { b = a.rad(b), c = c || 0, d = d || 0; var e = +w.cos(b).toFixed(9), f = +w.sin(b).toFixed(9); this.add(e, f, -f, e, c, d), this.add(1, 0, 0, 1, -c, -d) }, b.x = function (a, b) { return a * this.a + b * this.c + this.e }, b.y = function (a, b) { return a * this.b + b * this.d + this.f }, b.get = function (a) { return +this[r.fromCharCode(97 + a)].toFixed(4) }, b.toString = function () { return a.svg ? "matrix(" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + ")" : [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join() }, b.toFilter = function () { return "progid:DXImageTransform.Microsoft.Matrix(M11=" + this.get(0) + ", M12=" + this.get(2) + ", M21=" + this.get(1) + ", M22=" + this.get(3) + ", Dx=" + this.get(4) + ", Dy=" + this.get(5) + ", sizingmethod='auto expand')" }, b.offset = function () { return [this.e.toFixed(4), this.f.toFixed(4)] }, b.split = function () { var b = {}; b.dx = this.e, b.dy = this.f; var e = [[this.a, this.c], [this.b, this.d]]; b.scalex = w.sqrt(c(e[0])), d(e[0]), b.shear = e[0][0] * e[1][0] + e[0][1] * e[1][1], e[1] = [e[1][0] - e[0][0] * b.shear, e[1][1] - e[0][1] * b.shear], b.scaley = w.sqrt(c(e[1])), d(e[1]), b.shear /= b.scaley; var f = -e[0][1], g = e[1][1]; g < 0 ? (b.rotate = a.deg(w.acos(g)), f < 0 && (b.rotate = 360 - b.rotate)) : b.rotate = a.deg(w.asin(f)), b.isSimple = ! +b.shear.toFixed(9) && (b.scalex.toFixed(9) == b.scaley.toFixed(9) || !b.rotate), b.isSuperSimple = ! +b.shear.toFixed(9) && b.scalex.toFixed(9) == b.scaley.toFixed(9) && !b.rotate, b.noRotation = ! +b.shear.toFixed(9) && !b.rotate; return b }, b.toTransformString = function (a) { var b = a || this[s](); if (b.isSimple) { b.scalex = +b.scalex.toFixed(4), b.scaley = +b.scaley.toFixed(4), b.rotate = +b.rotate.toFixed(4); return (b.dx && b.dy ? "t" + [b.dx, b.dy] : p) + (b.scalex != 1 || b.scaley != 1 ? "s" + [b.scalex, b.scaley, 0, 0] : p) + (b.rotate ? "r" + [b.rotate, 0, 0] : p) } return "m" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)] } } (bQ.prototype); var bR = navigator.userAgent.match(/Version\/(.*?)\s/) || navigator.userAgent.match(/Chrome\/(\d+)/); navigator.vendor == "Apple Computer, Inc." && (bR && bR[1] < 4 || navigator.platform.slice(0, 2) == "iP") || navigator.vendor == "Google Inc." && bR && bR[1] < 8 ? k.safari = function () { var a = this.rect(-99, -99, this.width + 99, this.height + 99).attr({ stroke: "none" }); setTimeout(function () { a.remove() }) } : k.safari = bd; var bS = function () { this.returnValue = !1 }, bT = function () { return this.originalEvent.preventDefault() }, bU = function () { this.cancelBubble = !0 }, bV = function () { return this.originalEvent.stopPropagation() }, bW = function () { if (h.doc.addEventListener) return function (a, b, c, d) { var e = o && u[b] ? u[b] : b, f = function (e) { var f = h.doc.documentElement.scrollTop || h.doc.body.scrollTop, i = h.doc.documentElement.scrollLeft || h.doc.body.scrollLeft, j = e.clientX + i, k = e.clientY + f; if (o && u[g](b)) for (var l = 0, m = e.targetTouches && e.targetTouches.length; l < m; l++) if (e.targetTouches[l].target == a) { var n = e; e = e.targetTouches[l], e.originalEvent = n, e.preventDefault = bT, e.stopPropagation = bV; break } return c.call(d, e, j, k) }; a.addEventListener(e, f, !1); return function () { a.removeEventListener(e, f, !1); return !0 } }; if (h.doc.attachEvent) return function (a, b, c, d) { var e = function (a) { a = a || h.win.event; var b = h.doc.documentElement.scrollTop || h.doc.body.scrollTop, e = h.doc.documentElement.scrollLeft || h.doc.body.scrollLeft, f = a.clientX + e, g = a.clientY + b; a.preventDefault = a.preventDefault || bS, a.stopPropagation = a.stopPropagation || bU; return c.call(d, a, f, g) }; a.attachEvent("on" + b, e); var f = function () { a.detachEvent("on" + b, e); return !0 }; return f } } (), bX = [], bY = function (a) { var b = a.clientX, c = a.clientY, d = h.doc.documentElement.scrollTop || h.doc.body.scrollTop, e = h.doc.documentElement.scrollLeft || h.doc.body.scrollLeft, f, g = bX.length; while (g--) { f = bX[g]; if (o) { var i = a.touches.length, j; while (i--) { j = a.touches[i]; if (j.identifier == f.el._drag.id) { b = j.clientX, c = j.clientY, (a.originalEvent ? a.originalEvent : a).preventDefault(); break } } } else a.preventDefault(); var k = f.el.node, l, m = k.nextSibling, n = k.parentNode, p = k.style.display; h.win.opera && n.removeChild(k), k.style.display = "none", l = f.el.paper.getElementByPoint(b, c), k.style.display = p, h.win.opera && (m ? n.insertBefore(k, m) : n.appendChild(k)), l && eve("drag.over." + f.el.id, f.el, l), b += e, c += d, eve("drag.move." + f.el.id, f.move_scope || f.el, b - f.el._drag.x, c - f.el._drag.y, b, c, a) } }, bZ = function (b) { a.unmousemove(bY).unmouseup(bZ); var c = bX.length, d; while (c--) d = bX[c], d.el._drag = {}, eve("drag.end." + d.el.id, d.end_scope || d.start_scope || d.move_scope || d.el, b); bX = [] }, b$ = a.el = {}; for (var b_ = t.length; b_--; ) (function (b) { a[b] = b$[b] = function (c, d) { a.is(c, "function") && (this.events = this.events || [], this.events.push({ name: b, f: c, unbind: bW(this.shape || this.node || h.doc, b, c, d || this) })); return this }, a["un" + b] = b$["un" + b] = function (a) { var c = this.events, d = c.length; while (d--) if (c[d].name == b && c[d].f == a) { c[d].unbind(), c.splice(d, 1), !c.length && delete this.events; return this } return this } })(t[b_]); b$.data = function (b, c) { var d = ba[this.id] = ba[this.id] || {}; if (arguments.length == 1) { if (a.is(b, "object")) { for (var e in b) b[g](e) && this.data(e, b[e]); return this } eve("data.get." + this.id, this, d[b], b); return d[b] } d[b] = c, eve("data.set." + this.id, this, c, b); return this }, b$.removeData = function (a) { a == null ? ba[this.id] = {} : ba[this.id] && delete ba[this.id][a]; return this }, b$.hover = function (a, b, c, d) { return this.mouseover(a, c).mouseout(b, d || c) }, b$.unhover = function (a, b) { return this.unmouseover(a).unmouseout(b) }; var ca = []; b$.drag = function (b, c, d, e, f, g) { function i(i) { (i.originalEvent || i).preventDefault(); var j = h.doc.documentElement.scrollTop || h.doc.body.scrollTop, k = h.doc.documentElement.scrollLeft || h.doc.body.scrollLeft; this._drag.x = i.clientX + k, this._drag.y = i.clientY + j, this._drag.id = i.identifier, !bX.length && a.mousemove(bY).mouseup(bZ), bX.push({ el: this, move_scope: e, start_scope: f, end_scope: g }), c && eve.on("drag.start." + this.id, c), b && eve.on("drag.move." + this.id, b), d && eve.on("drag.end." + this.id, d), eve("drag.start." + this.id, f || e || this, i.clientX + k, i.clientY + j, i) } this._drag = {}, ca.push({ el: this, start: i }), this.mousedown(i); return this }, b$.onDragOver = function (a) { a ? eve.on("drag.over." + this.id, a) : eve.unbind("drag.over." + this.id) }, b$.undrag = function () { var b = ca.length; while (b--) ca[b].el == this && (this.unmousedown(ca[b].start), ca.splice(b, 1), eve.unbind("drag.*." + this.id)); !ca.length && a.unmousemove(bY).unmouseup(bZ) }, k.circle = function (b, c, d) { var e = a._engine.circle(this, b || 0, c || 0, d || 0); this.__set__ && this.__set__.push(e); return e }, k.rect = function (b, c, d, e, f) { var g = a._engine.rect(this, b || 0, c || 0, d || 0, e || 0, f || 0); this.__set__ && this.__set__.push(g); return g }, k.ellipse = function (b, c, d, e) { var f = a._engine.ellipse(this, b || 0, c || 0, d || 0, e || 0); this.__set__ && this.__set__.push(f); return f }, k.path = function (b) { b && !a.is(b, D) && !a.is(b[0], E) && (b += p); var c = a._engine.path(a.format[m](a, arguments), this); this.__set__ && this.__set__.push(c); return c }, k.image = function (b, c, d, e, f) { var g = a._engine.image(this, b || "about:blank", c || 0, d || 0, e || 0, f || 0); this.__set__ && this.__set__.push(g); return g }, k.text = function (b, c, d) { var e = a._engine.text(this, b || 0, c || 0, r(d)); this.__set__ && this.__set__.push(e); return e }, k.set = function (b) { !a.is(b, "array") && (b = Array.prototype.splice.call(arguments, 0, arguments.length)); var c = new cs(b); this.__set__ && this.__set__.push(c); return c }, k.setStart = function (a) { this.__set__ = a || this.set() }, k.setFinish = function (a) { var b = this.__set__; delete this.__set__; return b }, k.setSize = function (b, c) { return a._engine.setSize.call(this, b, c) }, k.setViewBox = function (b, c, d, e, f) { return a._engine.setViewBox.call(this, b, c, d, e, f) }, k.top = k.bottom = null, k.raphael = a; var cb = function (a) { var b = a.getBoundingClientRect(), c = a.ownerDocument, d = c.body, e = c.documentElement, f = e.clientTop || d.clientTop || 0, g = e.clientLeft || d.clientLeft || 0, i = b.top + (h.win.pageYOffset || e.scrollTop || d.scrollTop) - f, j = b.left + (h.win.pageXOffset || e.scrollLeft || d.scrollLeft) - g; return { y: i, x: j} }; k.getElementByPoint = function (a, b) { var c = this, d = c.canvas, e = h.doc.elementFromPoint(a, b); if (h.win.opera && e.tagName == "svg") { var f = cb(d), g = d.createSVGRect(); g.x = a - f.x, g.y = b - f.y, g.width = g.height = 1; var i = d.getIntersectionList(g, null); i.length && (e = i[i.length - 1]) } if (!e) return null; while (e.parentNode && e != d.parentNode && !e.raphael) e = e.parentNode; e == c.canvas.parentNode && (e = d), e = e && e.raphael ? c.getById(e.raphaelid) : null; return e }, k.getById = function (a) { var b = this.bottom; while (b) { if (b.id == a) return b; b = b.next } return null }, k.forEach = function (a, b) { var c = this.bottom; while (c) { if (a.call(b, c) === !1) return this; c = c.next } return this }, b$.getBBox = function (a) { if (this.removed) return {}; var b = this._; if (a) { if (b.dirty || !b.bboxwt) this.realPath = bh[this.type](this), b.bboxwt = bx(this.realPath), b.bboxwt.toString = cd, b.dirty = 0; return b.bboxwt } if (b.dirty || b.dirtyT || !b.bbox) { if (b.dirty || !this.realPath) b.bboxwt = 0, this.realPath = bh[this.type](this); b.bbox = bx(bi(this.realPath, this.matrix)), b.bbox.toString = cd, b.dirty = b.dirtyT = 0 } return b.bbox }, b$.clone = function () { if (this.removed) return null; var a = this.paper[this.type]().attr(this.attr()); this.__set__ && this.__set__.push(a); return a }, b$.glow = function (a) { if (this.type == "text") return null; a = a || {}; var b = { width: (a.width || 10) + (+this.attr("stroke-width") || 1), fill: a.fill || !1, opacity: a.opacity || .5, offsetx: a.offsetx || 0, offsety: a.offsety || 0, color: a.color || "#000" }, c = b.width / 2, d = this.paper, e = d.set(), f = this.realPath || bh[this.type](this); f = this.matrix ? bi(f, this.matrix) : f; for (var g = 1; g < c + 1; g++) e.push(d.path(f).attr({ stroke: b.color, fill: b.fill ? b.color : "none", "stroke-linejoin": "round", "stroke-linecap": "round", "stroke-width": +(b.width / c * g).toFixed(3), opacity: +(b.opacity / c).toFixed(3) })); return e.insertBefore(this).translate(b.offsetx, b.offsety) }; var ce = {}, cf = function (b, c, d, e, f, g, h, i, j) { var k = 0, l = 100, m = [b, c, d, e, f, g, h, i].join(), n = ce[m], o, p; !n && (ce[m] = n = { data: [] }), n.timer && clearTimeout(n.timer), n.timer = setTimeout(function () { delete ce[m] }, 2e3); if (j != null && !n.precision) { var q = cf(b, c, d, e, f, g, h, i); n.precision = ~ ~q * 10, n.data = [] } l = n.precision || l; for (var r = 0; r < l + 1; r++) { n.data[r * l] ? p = n.data[r * l] : (p = a.findDotsAtSegment(b, c, d, e, f, g, h, i, r / l), n.data[r * l] = p), r && (k += A(A(o.x - p.x, 2) + A(o.y - p.y, 2), .5)); if (j != null && k >= j) return p; o = p } if (j == null) return k }, cg = function (b, c) { return function (d, e, f) { d = bG(d); var g, h, i, j, k = "", l = {}, m, n = 0; for (var o = 0, p = d.length; o < p; o++) { i = d[o]; if (i[0] == "M") g = +i[1], h = +i[2]; else { j = cf(g, h, i[1], i[2], i[3], i[4], i[5], i[6]); if (n + j > e) { if (c && !l.start) { m = cf(g, h, i[1], i[2], i[3], i[4], i[5], i[6], e - n), k += ["C" + m.start.x, m.start.y, m.m.x, m.m.y, m.x, m.y]; if (f) return k; l.start = k, k = ["M" + m.x, m.y + "C" + m.n.x, m.n.y, m.end.x, m.end.y, i[5], i[6]].join(), n += j, g = +i[5], h = +i[6]; continue } if (!b && !c) { m = cf(g, h, i[1], i[2], i[3], i[4], i[5], i[6], e - n); return { x: m.x, y: m.y, alpha: m.alpha} } } n += j, g = +i[5], h = +i[6] } k += i.shift() + i } l.end = k, m = b ? n : c ? l : a.findDotsAtSegment(g, h, i[0], i[1], i[2], i[3], i[4], i[5], 1), m.alpha && (m = { x: m.x, y: m.y, alpha: m.alpha }); return m } }, ch = cg(1), ci = cg(), cj = cg(0, 1); a.getTotalLength = ch, a.getPointAtLength = ci, a.getSubpath = function (a, b, c) { if (this.getTotalLength(a) - c < 1e-6) return cj(a, b).end; var d = cj(a, c, 1); return b ? cj(d, b).end : d }, b$.getTotalLength = function () { if (this.type == "path") { if (this.node.getTotalLength) return this.node.getTotalLength(); return ch(this.attrs.path) } }, b$.getPointAtLength = function (a) { if (this.type == "path") return ci(this.attrs.path, a) }, b$.getSubpath = function (b, c) { if (this.type == "path") return a.getSubpath(this.attrs.path, b, c) }; var ck = a.easing_formulas = { linear: function (a) { return a }, "<": function (a) { return A(a, 1.7) }, ">": function (a) { return A(a, .48) }, "<>": function (a) { var b = .48 - a / 1.04, c = w.sqrt(.1734 + b * b), d = c - b, e = A(z(d), 1 / 3) * (d < 0 ? -1 : 1), f = -c - b, g = A(z(f), 1 / 3) * (f < 0 ? -1 : 1), h = e + g + .5; return (1 - h) * 3 * h * h + h * h * h }, backIn: function (a) { var b = 1.70158; return a * a * ((b + 1) * a - b) }, backOut: function (a) { a = a - 1; var b = 1.70158; return a * a * ((b + 1) * a + b) + 1 }, elastic: function (a) { if (a == !!a) return a; return A(2, -10 * a) * w.sin((a - .075) * 2 * B / .3) + 1 }, bounce: function (a) { var b = 7.5625, c = 2.75, d; a < 1 / c ? d = b * a * a : a < 2 / c ? (a -= 1.5 / c, d = b * a * a + .75) : a < 2.5 / c ? (a -= 2.25 / c, d = b * a * a + .9375) : (a -= 2.625 / c, d = b * a * a + .984375); return d } }; ck.easeIn = ck["ease-in"] = ck["<"], ck.easeOut = ck["ease-out"] = ck[">"], ck.easeInOut = ck["ease-in-out"] = ck["<>"], ck["back-in"] = ck.backIn, ck["back-out"] = ck.backOut; var cl = [], cm = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (a) { setTimeout(a, 16) }, cn = function () { var b = +(new Date), c = 0; for (; c < cl.length; c++) { var d = cl[c]; if (d.el.removed || d.paused) continue; var e = b - d.start, f = d.ms, h = d.easing, i = d.from, j = d.diff, k = d.to, l = d.t, m = d.el, o = {}, p, r = {}, s; d.initstatus ? (e = (d.initstatus * d.anim.top - d.prev) / (d.percent - d.prev) * f, d.status = d.initstatus, delete d.initstatus, d.stop && cl.splice(c--, 1)) : d.status = (d.prev + (d.percent - d.prev) * (e / f)) / d.anim.top; if (e < 0) continue; if (e < f) { var t = h(e / f); for (var u in i) if (i[g](u)) { switch (U[u]) { case C: p = +i[u] + t * f * j[u]; break; case "colour": p = "rgb(" + [co(O(i[u].r + t * f * j[u].r)), co(O(i[u].g + t * f * j[u].g)), co(O(i[u].b + t * f * j[u].b))].join(",") + ")"; break; case "path": p = []; for (var v = 0, w = i[u].length; v < w; v++) { p[v] = [i[u][v][0]]; for (var x = 1, y = i[u][v].length; x < y; x++) p[v][x] = +i[u][v][x] + t * f * j[u][v][x]; p[v] = p[v].join(q) } p = p.join(q); break; case "transform": if (j[u].real) { p = []; for (v = 0, w = i[u].length; v < w; v++) { p[v] = [i[u][v][0]]; for (x = 1, y = i[u][v].length; x < y; x++) p[v][x] = i[u][v][x] + t * f * j[u][v][x] } } else { var z = function (a) { return +i[u][a] + t * f * j[u][a] }; p = [["m", z(0), z(1), z(2), z(3), z(4), z(5)]] } break; case "csv": if (u == "clip-rect") { p = [], v = 4; while (v--) p[v] = +i[u][v] + t * f * j[u][v] } break; default: var A = [][n](i[u]); p = [], v = m.paper.customAttributes[u].length; while (v--) p[v] = +A[v] + t * f * j[u][v] } o[u] = p } m.attr(o), function (a, b, c) { setTimeout(function () { eve("anim.frame." + a, b, c) }) } (m.id, m, d.anim) } else { (function (b, c, d) { setTimeout(function () { eve("anim.frame." + c.id, c, d), eve("anim.finish." + c.id, c, d), a.is(b, "function") && b.call(c) }) })(d.callback, m, d.anim), m.attr(k), cl.splice(c--, 1); if (d.repeat > 1 && !d.next) { for (s in k) k[g](s) && (r[s] = d.totalOrigin[s]); d.el.attr(r), cr(d.anim, d.el, d.anim.percents[0], null, d.totalOrigin, d.repeat - 1) } d.next && !d.stop && cr(d.anim, d.el, d.next, null, d.totalOrigin, d.repeat) } } a.svg && m && m.paper && m.paper.safari(), cl.length && cm(cn) }, co = function (a) { return a > 255 ? 255 : a < 0 ? 0 : a }; b$.animateWith = function (b, c, d, e, f, g) { var h = d ? a.animation(d, e, f, g) : c, i = b.status(c); return this.animate(h).status(h, i * c.ms / h.ms) }, b$.onAnimation = function (a) { a ? eve.on("anim.frame." + this.id, a) : eve.unbind("anim.frame." + this.id); return this }, cq.prototype.delay = function (a) { var b = new cq(this.anim, this.ms); b.times = this.times, b.del = +a || 0; return b }, cq.prototype.repeat = function (a) { var b = new cq(this.anim, this.ms); b.del = this.del, b.times = w.floor(x(a, 0)) || 1; return b }, a.animation = function (b, c, d, e) { if (b instanceof cq) return b; if (a.is(d, "function") || !d) e = e || d || null, d = null; b = Object(b), c = +c || 0; var f = {}, h, i; for (i in b) b[g](i) && Q(i) != i && Q(i) + "%" != i && (h = !0, f[i] = b[i]); if (!h) return new cq(b, c); d && (f.easing = d), e && (f.callback = e); return new cq({ 100: f }, c) }, b$.animate = function (b, c, d, e) { var f = this; if (f.removed) { e && e.call(f); return f } var g = b instanceof cq ? b : a.animation(b, c, d, e); cr(g, f, g.percents[0], null, f.attr()); return f }, b$.setTime = function (a, b) { a && b != null && this.status(a, y(b, a.ms) / a.ms); return this }, b$.status = function (a, b) { var c = [], d = 0, e, f; if (b != null) { cr(a, this, -1, y(b, 1)); return this } e = cl.length; for (; d < e; d++) { f = cl[d]; if (f.el.id == this.id && (!a || f.anim == a)) { if (a) return f.status; c.push({ anim: f.anim, status: f.status }) } } if (a) return 0; return c }, b$.pause = function (a) { for (var b = 0; b < cl.length; b++) cl[b].el.id == this.id && (!a || cl[b].anim == a) && eve("anim.pause." + this.id, this, cl[b].anim) !== !1 && (cl[b].paused = !0); return this }, b$.resume = function (a) { for (var b = 0; b < cl.length; b++) if (cl[b].el.id == this.id && (!a || cl[b].anim == a)) { var c = cl[b]; eve("anim.resume." + this.id, this, c.anim) !== !1 && (delete c.paused, this.status(c.anim, c.status)) } return this }, b$.stop = function (a) { for (var b = 0; b < cl.length; b++) cl[b].el.id == this.id && (!a || cl[b].anim == a) && eve("anim.stop." + this.id, this, cl[b].anim) !== !1 && cl.splice(b--, 1); return this }, b$.toString = function () { return "RaphaГ«lвЂ™s object" }; var cs = function (a) { this.items = [], this.length = 0, this.type = "set"; if (a) for (var b = 0, c = a.length; b < c; b++) a[b] && (a[b].constructor == b$.constructor || a[b].constructor == cs) && (this[this.items.length] = this.items[this.items.length] = a[b], this.length++) }, ct = cs.prototype; ct.push = function () { var a, b; for (var c = 0, d = arguments.length; c < d; c++) a = arguments[c], a && (a.constructor == b$.constructor || a.constructor == cs) && (b = this.items.length, this[b] = this.items[b] = a, this.length++); return this }, ct.pop = function () { this.length && delete this[this.length--]; return this.items.pop() }, ct.forEach = function (a, b) { for (var c = 0, d = this.items.length; c < d; c++) if (a.call(b, this.items[c], c) === !1) return this; return this }; for (var cu in b$) b$[g](cu) && (ct[cu] = function (a) { return function () { var b = arguments; return this.forEach(function (c) { c[a][m](c, b) }) } } (cu)); ct.attr = function (b, c) { if (b && a.is(b, E) && a.is(b[0], "object")) for (var d = 0, e = b.length; d < e; d++) this.items[d].attr(b[d]); else for (var f = 0, g = this.items.length; f < g; f++) this.items[f].attr(b, c); return this }, ct.clear = function () { while (this.length) this.pop() }, ct.splice = function (a, b, c) { a = a < 0 ? x(this.length + a, 0) : a, b = x(0, y(this.length - a, b)); var d = [], e = [], f = [], g; for (g = 2; g < arguments.length; g++) f.push(arguments[g]); for (g = 0; g < b; g++) e.push(this[a + g]); for (; g < this.length - a; g++) d.push(this[a + g]); var h = f.length; for (g = 0; g < h + d.length; g++) this.items[a + g] = this[a + g] = g < h ? f[g] : d[g - h]; g = this.items.length = this.length -= b - h; while (this[g]) delete this[g++]; return new cs(e) }, ct.exclude = function (a) { for (var b = 0, c = this.length; b < c; b++) if (this[b] == a) { this.splice(b, 1); return !0 } }, ct.animate = function (b, c, d, e) { (a.is(d, "function") || !d) && (e = d || null); var f = this.items.length, g = f, h, i = this, j; if (!f) return this; e && (j = function () { ! --f && e.call(i) }), d = a.is(d, D) ? d : j; var k = a.animation(b, c, d, j); h = this.items[--g].animate(k); while (g--) this.items[g] && !this.items[g].removed && this.items[g].animateWith(h, k); return this }, ct.insertAfter = function (a) { var b = this.items.length; while (b--) this.items[b].insertAfter(a); return this }, ct.getBBox = function () { var a = [], b = [], c = [], d = []; for (var e = this.items.length; e--; ) if (!this.items[e].removed) { var f = this.items[e].getBBox(); a.push(f.x), b.push(f.y), c.push(f.x + f.width), d.push(f.y + f.height) } a = y[m](0, a), b = y[m](0, b); return { x: a, y: b, width: x[m](0, c) - a, height: x[m](0, d) - b} }, ct.clone = function (a) { a = new cs; for (var b = 0, c = this.items.length; b < c; b++) a.push(this.items[b].clone()); return a }, ct.toString = function () { return "RaphaГ«lвЂs set" }, a.registerFont = function (a) { if (!a.face) return a; this.fonts = this.fonts || {}; var b = { w: a.w, face: {}, glyphs: {} }, c = a.face["font-family"]; for (var d in a.face) a.face[g](d) && (b.face[d] = a.face[d]); this.fonts[c] ? this.fonts[c].push(b) : this.fonts[c] = [b]; if (!a.svg) { b.face["units-per-em"] = R(a.face["units-per-em"], 10); for (var e in a.glyphs) if (a.glyphs[g](e)) { var f = a.glyphs[e]; b.glyphs[e] = { w: f.w, k: {}, d: f.d && "M" + f.d.replace(/[mlcxtrv]/g, function (a) { return { l: "L", c: "C", x: "z", t: "m", r: "l", v: "c"}[a] || "M" }) + "z" }; if (f.k) for (var h in f.k) f[g](h) && (b.glyphs[e].k[h] = f.k[h]) } } return a }, k.getFont = function (b, c, d, e) { e = e || "normal", d = d || "normal", c = +c || { normal: 400, bold: 700, lighter: 300, bolder: 800}[c] || 400; if (!!a.fonts) { var f = a.fonts[b]; if (!f) { var h = new RegExp("(^|\\s)" + b.replace(/[^\w\d\s+!~.:_-]/g, p) + "(\\s|$)", "i"); for (var i in a.fonts) if (a.fonts[g](i) && h.test(i)) { f = a.fonts[i]; break } } var j; if (f) for (var k = 0, l = f.length; k < l; k++) { j = f[k]; if (j.face["font-weight"] == c && (j.face["font-style"] == d || !j.face["font-style"]) && j.face["font-stretch"] == e) break } return j } }, k.print = function (b, d, e, f, g, h, i) { h = h || "middle", i = x(y(i || 0, 1), -1); var j = this.set(), k = r(e)[s](p), l = 0, m = p, n; a.is(f, e) && (f = this.getFont(f)); if (f) { n = (g || 16) / f.face["units-per-em"]; var o = f.face.bbox[s](c), q = +o[0], t = +o[1] + (h == "baseline" ? o[3] - o[1] + +f.face.descent : (o[3] - o[1]) / 2); for (var u = 0, v = k.length; u < v; u++) { var w = u && f.glyphs[k[u - 1]] || {}, z = f.glyphs[k[u]]; l += u ? (w.w || f.w) + (w.k && w.k[k[u]] || 0) + f.w * i : 0, z && z.d && j.push(this.path(z.d).attr({ fill: "#000", stroke: "none", transform: [["t", l * n, 0]] })) } j.transform(["...s", n, n, q, t, "t", (b - q) / n, (d - t) / n]) } return j }, k.add = function (b) { if (a.is(b, "array")) { var c = this.set(), e = 0, f = b.length, h; for (; e < f; e++) h = b[e] || {}, d[g](h.type) && c.push(this[h.type]().attr(h)) } return c }, a.format = function (b, c) { var d = a.is(c, E) ? [0][n](c) : arguments; b && a.is(b, D) && d.length - 1 && (b = b.replace(e, function (a, b) { return d[++b] == null ? p : d[b] })); return b || p }, a.fullfill = function () { var a = /\{([^\}]+)\}/g, b = /(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g, c = function (a, c, d) { var e = d; c.replace(b, function (a, b, c, d, f) { b = b || d, e && (b in e && (e = e[b]), typeof e == "function" && f && (e = e())) }), e = (e == null || e == d ? a : e) + ""; return e }; return function (b, d) { return String(b).replace(a, function (a, b) { return c(a, b, d) }) } } (), a.ninja = function () { i.was ? h.win.Raphael = i.is : delete Raphael; return a }, a.st = ct, function (b, c, d) { function e() { /in/.test(b.readyState) ? setTimeout(e, 9) : a.eve("DOMload") } b.readyState == null && b.addEventListener && (b.addEventListener(c, d = function () { b.removeEventListener(c, d, !1), b.readyState = "complete" }, !1), b.readyState = "loading"), e() } (document, "DOMContentLoaded"), i.was ? h.win.Raphael = a : Raphael = a, eve.on("DOMload", function () { b = !0 }) } (), window.Raphael.svg && function (a) { var b = "hasOwnProperty", c = String, d = parseFloat, e = parseInt, f = Math, g = f.max, h = f.abs, i = f.pow, j = /[, ]+/, k = a.eve, l = "", m = " ", n = "http://www.w3.org/1999/xlink", o = { block: "M5,0 0,2.5 5,5z", classic: "M5,0 0,2.5 5,5 3.5,3 3.5,2z", diamond: "M2.5,0 5,2.5 2.5,5 0,2.5z", open: "M6,1 1,3.5 6,6", oval: "M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z" }, p = {}; a.toString = function () { return "Your browser supports SVG.\nYou are running RaphaГ«l " + this.version }; var q = function (d, e) { if (e) { typeof d == "string" && (d = q(d)); for (var f in e) e[b](f) && (f.substring(0, 6) == "xlink:" ? d.setAttributeNS(n, f.substring(6), c(e[f])) : d.setAttribute(f, c(e[f]))) } else d = a._g.doc.createElementNS("http://www.w3.org/2000/svg", d), d.style && (d.style.webkitTapHighlightColor = "rgba(0,0,0,0)"); return d }, r = function (b, e) { var j = "linear", k = b.id + e, m = .5, n = .5, o = b.node, p = b.paper, r = o.style, s = a._g.doc.getElementById(k); if (!s) { e = c(e).replace(a._radial_gradient, function (a, b, c) { j = "radial"; if (b && c) { m = d(b), n = d(c); var e = (n > .5) * 2 - 1; i(m - .5, 2) + i(n - .5, 2) > .25 && (n = f.sqrt(.25 - i(m - .5, 2)) * e + .5) && n != .5 && (n = n.toFixed(5) - 1e-5 * e) } return l }), e = e.split(/\s*\-\s*/); if (j == "linear") { var t = e.shift(); t = -d(t); if (isNaN(t)) return null; var u = [0, 0, f.cos(a.rad(t)), f.sin(a.rad(t))], v = 1 / (g(h(u[2]), h(u[3])) || 1); u[2] *= v, u[3] *= v, u[2] < 0 && (u[0] = -u[2], u[2] = 0), u[3] < 0 && (u[1] = -u[3], u[3] = 0) } var w = a._parseDots(e); if (!w) return null; k = k.replace(/[\(\)\s,\xb0#]/g, "_"), b.gradient && k != b.gradient.id && (p.defs.removeChild(b.gradient), delete b.gradient); if (!b.gradient) { s = q(j + "Gradient", { id: k }), b.gradient = s, q(s, j == "radial" ? { fx: m, fy: n} : { x1: u[0], y1: u[1], x2: u[2], y2: u[3], gradientTransform: b.matrix.invert() }), p.defs.appendChild(s); for (var x = 0, y = w.length; x < y; x++) s.appendChild(q("stop", { offset: w[x].offset ? w[x].offset : x ? "100%" : "0%", "stop-color": w[x].color || "#fff" })) } } q(o, { fill: "url(#" + k + ")", opacity: 1, "fill-opacity": 1 }), r.fill = l, r.opacity = 1, r.fillOpacity = 1; return 1 }, s = function (a) { var b = a.getBBox(1); q(a.pattern, { patternTransform: a.matrix.invert() + " translate(" + b.x + "," + b.y + ")" }) }, t = function (d, e, f) { if (d.type == "path") { var g = c(e).toLowerCase().split("-"), h = d.paper, i = f ? "end" : "start", j = d.node, k = d.attrs, l = k["stroke-width"], n = g.length, r = "classic", s, t, u, v, w, x = 3, y = 3, z = 5; while (n--) switch (g[n]) { case "block": case "classic": case "oval": case "diamond": case "open": case "none": r = g[n]; break; case "wide": y = 5; break; case "narrow": y = 2; break; case "long": x = 5; break; case "short": x = 2 } r == "open" ? (x += 2, y += 2, z += 2, u = 1, v = f ? 4 : 1, w = { fill: "none", stroke: k.stroke }) : (v = u = x / 2, w = { fill: k.stroke, stroke: "none" }), d._.arrows ? f ? (d._.arrows.endPath && p[d._.arrows.endPath]--, d._.arrows.endMarker && p[d._.arrows.endMarker]--) : (d._.arrows.startPath && p[d._.arrows.startPath]--, d._.arrows.startMarker && p[d._.arrows.startMarker]--) : d._.arrows = {}; if (r != "none") { var A = "raphael-marker-" + r, B = "raphael-marker-" + i + r + x + y; a._g.doc.getElementById(A) ? p[A]++ : (h.defs.appendChild(q(q("path"), { "stroke-linecap": "round", d: o[r], id: A })), p[A] = 1); var C = a._g.doc.getElementById(B), D; C ? (p[B]++, D = C.getElementsByTagName("use")[0]) : (C = q(q("marker"), { id: B, markerHeight: y, markerWidth: x, orient: "auto", refX: v, refY: y / 2 }), D = q(q("use"), { "xlink:href": "#" + A, transform: (f ? " rotate(180 " + x / 2 + " " + y / 2 + ") " : m) + "scale(" + x / z + "," + y / z + ")", "stroke-width": 1 / ((x / z + y / z) / 2) }), C.appendChild(D), h.defs.appendChild(C), p[B] = 1), q(D, w); var E = u * (r != "diamond" && r != "oval"); f ? (s = d._.arrows.startdx * l || 0, t = a.getTotalLength(k.path) - E * l) : (s = E * l, t = a.getTotalLength(k.path) - (d._.arrows.enddx * l || 0)), w = {}, w["marker-" + i] = "url(#" + B + ")"; if (t || s) w.d = Raphael.getSubpath(k.path, s, t); q(j, w), d._.arrows[i + "Path"] = A, d._.arrows[i + "Marker"] = B, d._.arrows[i + "dx"] = E, d._.arrows[i + "Type"] = r, d._.arrows[i + "String"] = e } else f ? (s = d._.arrows.startdx * l || 0, t = a.getTotalLength(k.path) - s) : (s = 0, t = a.getTotalLength(k.path) - (d._.arrows.enddx * l || 0)), d._.arrows[i + "Path"] && q(j, { d: Raphael.getSubpath(k.path, s, t) }), delete d._.arrows[i + "Path"], delete d._.arrows[i + "Marker"], delete d._.arrows[i + "dx"], delete d._.arrows[i + "Type"], delete d._.arrows[i + "String"]; for (w in p) if (p[b](w) && !p[w]) { var F = a._g.doc.getElementById(w); F && F.parentNode.removeChild(F) } } }, u = { "": [0], none: [0], "-": [3, 1], ".": [1, 1], "-.": [3, 1, 1, 1], "-..": [3, 1, 1, 1, 1, 1], ". ": [1, 3], "- ": [4, 3], "--": [8, 3], "- .": [4, 3, 1, 3], "--.": [8, 3, 1, 3], "--..": [8, 3, 1, 3, 1, 3] }, v = function (a, b, d) { b = u[c(b).toLowerCase()]; if (b) { var e = a.attrs["stroke-width"] || "1", f = { round: e, square: e, butt: 0}[a.attrs["stroke-linecap"] || d["stroke-linecap"]] || 0, g = [], h = b.length; while (h--) g[h] = b[h] * e + (h % 2 ? 1 : -1) * f; q(a.node, { "stroke-dasharray": g.join(",") }) } }, w = function (d, f) { var i = d.node, k = d.attrs, m = i.style.visibility; i.style.visibility = "hidden"; for (var o in f) if (f[b](o)) { if (!a._availableAttrs[b](o)) continue; var p = f[o]; k[o] = p; switch (o) { case "blur": d.blur(p); break; case "href": case "title": case "target": var u = i.parentNode; if (u.tagName.toLowerCase() != "a") { var w = q("a"); u.insertBefore(w, i), w.appendChild(i), u = w } o == "target" && p == "blank" ? u.setAttributeNS(n, "show", "new") : u.setAttributeNS(n, o, p); break; case "cursor": i.style.cursor = p; break; case "transform": d.transform(p); break; case "arrow-start": t(d, p); break; case "arrow-end": t(d, p, 1); break; case "clip-rect": var x = c(p).split(j); if (x.length == 4) { d.clip && d.clip.parentNode.parentNode.removeChild(d.clip.parentNode); var z = q("clipPath"), A = q("rect"); z.id = a.createUUID(), q(A, { x: x[0], y: x[1], width: x[2], height: x[3] }), z.appendChild(A), d.paper.defs.appendChild(z), q(i, { "clip-path": "url(#" + z.id + ")" }), d.clip = A } if (!p) { var B = i.getAttribute("clip-path"); if (B) { var C = a._g.doc.getElementById(B.replace(/(^url\(#|\)$)/g, l)); C && C.parentNode.removeChild(C), q(i, { "clip-path": l }), delete d.clip } } break; case "path": d.type == "path" && (q(i, { d: p ? k.path = a._pathToAbsolute(p) : "M0,0" }), d._.dirty = 1, d._.arrows && ("startString" in d._.arrows && t(d, d._.arrows.startString), "endString" in d._.arrows && t(d, d._.arrows.endString, 1))); break; case "width": i.setAttribute(o, p), d._.dirty = 1; if (k.fx) o = "x", p = k.x; else break; case "x": k.fx && (p = -k.x - (k.width || 0)); case "rx": if (o == "rx" && d.type == "rect") break; case "cx": i.setAttribute(o, p), d.pattern && s(d), d._.dirty = 1; break; case "height": i.setAttribute(o, p), d._.dirty = 1; if (k.fy) o = "y", p = k.y; else break; case "y": k.fy && (p = -k.y - (k.height || 0)); case "ry": if (o == "ry" && d.type == "rect") break; case "cy": i.setAttribute(o, p), d.pattern && s(d), d._.dirty = 1; break; case "r": d.type == "rect" ? q(i, { rx: p, ry: p }) : i.setAttribute(o, p), d._.dirty = 1; break; case "src": d.type == "image" && i.setAttributeNS(n, "href", p); break; case "stroke-width": if (d._.sx != 1 || d._.sy != 1) p /= g(h(d._.sx), h(d._.sy)) || 1; d.paper._vbSize && (p *= d.paper._vbSize), i.setAttribute(o, p), k["stroke-dasharray"] && v(d, k["stroke-dasharray"], f), d._.arrows && ("startString" in d._.arrows && t(d, d._.arrows.startString), "endString" in d._.arrows && t(d, d._.arrows.endString, 1)); break; case "stroke-dasharray": v(d, p, f); break; case "fill": var D = c(p).match(a._ISURL); if (D) { z = q("pattern"); var F = q("image"); z.id = a.createUUID(), q(z, { x: 0, y: 0, patternUnits: "userSpaceOnUse", height: 1, width: 1 }), q(F, { x: 0, y: 0, "xlink:href": D[1] }), z.appendChild(F), function (b) { a._preload(D[1], function () { var a = this.offsetWidth, c = this.offsetHeight; q(b, { width: a, height: c }), q(F, { width: a, height: c }), d.paper.safari() }) } (z), d.paper.defs.appendChild(z), i.style.fill = "url(#" + z.id + ")", q(i, { fill: "url(#" + z.id + ")" }), d.pattern = z, d.pattern && s(d); break } var G = a.getRGB(p); if (!G.error) delete f.gradient, delete k.gradient, !a.is(k.opacity, "undefined") && a.is(f.opacity, "undefined") && q(i, { opacity: k.opacity }), !a.is(k["fill-opacity"], "undefined") && a.is(f["fill-opacity"], "undefined") && q(i, { "fill-opacity": k["fill-opacity"] }); else if ((d.type == "circle" || d.type == "ellipse" || c(p).charAt() != "r") && r(d, p)) { if ("opacity" in k || "fill-opacity" in k) { var H = a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g, l)); if (H) { var I = H.getElementsByTagName("stop"); q(I[I.length - 1], { "stop-opacity": ("opacity" in k ? k.opacity : 1) * ("fill-opacity" in k ? k["fill-opacity"] : 1) }) } } k.gradient = p, k.fill = "none"; break } G[b]("opacity") && q(i, { "fill-opacity": G.opacity > 1 ? G.opacity / 100 : G.opacity }); case "stroke": G = a.getRGB(p), i.setAttribute(o, G.hex), o == "stroke" && G[b]("opacity") && q(i, { "stroke-opacity": G.opacity > 1 ? G.opacity / 100 : G.opacity }), o == "stroke" && d._.arrows && ("startString" in d._.arrows && t(d, d._.arrows.startString), "endString" in d._.arrows && t(d, d._.arrows.endString, 1)); break; case "gradient": (d.type == "circle" || d.type == "ellipse" || c(p).charAt() != "r") && r(d, p); break; case "opacity": k.gradient && !k[b]("stroke-opacity") && q(i, { "stroke-opacity": p > 1 ? p / 100 : p }); case "fill-opacity": if (k.gradient) { H = a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g, l)), H && (I = H.getElementsByTagName("stop"), q(I[I.length - 1], { "stop-opacity": p })); break }; default: o == "font-size" && (p = e(p, 10) + "px"); var J = o.replace(/(\-.)/g, function (a) { return a.substring(1).toUpperCase() }); i.style[J] = p, d._.dirty = 1, i.setAttribute(o, p) } } y(d, f), i.style.visibility = m }, x = 1.2, y = function (d, f) { if (d.type == "text" && !!(f[b]("text") || f[b]("font") || f[b]("font-size") || f[b]("x") || f[b]("y"))) { var g = d.attrs, h = d.node, i = h.firstChild ? e(a._g.doc.defaultView.getComputedStyle(h.firstChild, l).getPropertyValue("font-size"), 10) : 10; if (f[b]("text")) { g.text = f.text; while (h.firstChild) h.removeChild(h.firstChild); var j = c(f.text).split("\n"), k = [], m; for (var n = 0, o = j.length; n < o; n++) m = q("tspan"), n && q(m, { dy: i * x, x: g.x }), m.appendChild(a._g.doc.createTextNode(j[n])), h.appendChild(m), k[n] = m } else { k = h.getElementsByTagName("tspan"); for (n = 0, o = k.length; n < o; n++) n ? q(k[n], { dy: i * x, x: g.x }) : q(k[0], { dy: 0 }) } q(h, { x: g.x, y: g.y }), d._.dirty = 1; var p = d._getBBox(), r = g.y - (p.y + p.height / 2); r && a.is(r, "finite") && q(k[0], { dy: r }) } }, z = function (b, c) { var d = 0, e = 0; this[0] = this.node = b, b.raphael = !0, this.id = a._oid++, b.raphaelid = this.id, this.matrix = a.matrix(), this.realPath = null, this.paper = c, this.attrs = this.attrs || {}, this._ = { transform: [], sx: 1, sy: 1, deg: 0, dx: 0, dy: 0, dirty: 1 }, !c.bottom && (c.bottom = this), this.prev = c.top, c.top && (c.top.next = this), c.top = this, this.next = null }, A = a.el; z.prototype = A, A.constructor = z, a._engine.path = function (a, b) { var c = q("path"); b.canvas && b.canvas.appendChild(c); var d = new z(c, b); d.type = "path", w(d, { fill: "none", stroke: "#000", path: a }); return d }, A.rotate = function (a, b, e) { if (this.removed) return this; a = c(a).split(j), a.length - 1 && (b = d(a[1]), e = d(a[2])), a = d(a[0]), e == null && (b = e); if (b == null || e == null) { var f = this.getBBox(1); b = f.x + f.width / 2, e = f.y + f.height / 2 } this.transform(this._.transform.concat([["r", a, b, e]])); return this }, A.scale = function (a, b, e, f) { if (this.removed) return this; a = c(a).split(j), a.length - 1 && (b = d(a[1]), e = d(a[2]), f = d(a[3])), a = d(a[0]), b == null && (b = a), f == null && (e = f); if (e == null || f == null) var g = this.getBBox(1); e = e == null ? g.x + g.width / 2 : e, f = f == null ? g.y + g.height / 2 : f, this.transform(this._.transform.concat([["s", a, b, e, f]])); return this }, A.translate = function (a, b) { if (this.removed) return this; a = c(a).split(j), a.length - 1 && (b = d(a[1])), a = d(a[0]) || 0, b = +b || 0, this.transform(this._.transform.concat([["t", a, b]])); return this }, A.transform = function (c) { var d = this._; if (c == null) return d.transform; a._extractTransform(this, c), this.clip && q(this.clip, { transform: this.matrix.invert() }), this.pattern && s(this), this.node && q(this.node, { transform: this.matrix }); if (d.sx != 1 || d.sy != 1) { var e = this.attrs[b]("stroke-width") ? this.attrs["stroke-width"] : 1; this.attr({ "stroke-width": e }) } return this }, A.hide = function () { !this.removed && this.paper.safari(this.node.style.display = "none"); return this }, A.show = function () { !this.removed && this.paper.safari(this.node.style.display = ""); return this }, A.remove = function () { if (!this.removed) { var b = this.paper; b.__set__ && b.__set__.exclude(this), k.unbind("*.*." + this.id), this.gradient && b.defs.removeChild(this.gradient), a._tear(this, b), this.node.parentNode.removeChild(this.node); for (var c in this) this[c] = typeof this[c] == "function" ? a._removedFactory(c) : null; this.removed = !0 } }, A._getBBox = function () { if (this.node.style.display == "none") { this.show(); var a = !0 } var b = {}; try { b = this.node.getBBox() } catch (c) { } finally { b = b || {} } a && this.hide(); return b }, A.attr = function (c, d) { if (this.removed) return this; if (c == null) { var e = {}; for (var f in this.attrs) this.attrs[b](f) && (e[f] = this.attrs[f]); e.gradient && e.fill == "none" && (e.fill = e.gradient) && delete e.gradient, e.transform = this._.transform; return e } if (d == null && a.is(c, "string")) { if (c == "fill" && this.attrs.fill == "none" && this.attrs.gradient) return this.attrs.gradient; if (c == "transform") return this._.transform; var g = c.split(j), h = {}; for (var i = 0, l = g.length; i < l; i++) c = g[i], c in this.attrs ? h[c] = this.attrs[c] : a.is(this.paper.customAttributes[c], "function") ? h[c] = this.paper.customAttributes[c].def : h[c] = a._availableAttrs[c]; return l - 1 ? h : h[g[0]] } if (d == null && a.is(c, "array")) { h = {}; for (i = 0, l = c.length; i < l; i++) h[c[i]] = this.attr(c[i]); return h } if (d != null) { var m = {}; m[c] = d } else c != null && a.is(c, "object") && (m = c); for (var n in m) k("attr." + n + "." + this.id, this, m[n]); for (n in this.paper.customAttributes) if (this.paper.customAttributes[b](n) && m[b](n) && a.is(this.paper.customAttributes[n], "function")) { var o = this.paper.customAttributes[n].apply(this, [].concat(m[n])); this.attrs[n] = m[n]; for (var p in o) o[b](p) && (m[p] = o[p]) } w(this, m); return this }, A.toFront = function () { if (this.removed) return this; this.node.parentNode.tagName.toLowerCase() == "a" ? this.node.parentNode.parentNode.appendChild(this.node.parentNode) : this.node.parentNode.appendChild(this.node); var b = this.paper; b.top != this && a._tofront(this, b); return this }, A.toBack = function () { if (this.removed) return this; var b = this.node.parentNode; b.tagName.toLowerCase() == "a" ? b.parentNode.insertBefore(this.node.parentNode, this.node.parentNode.parentNode.firstChild) : b.firstChild != this.node && b.insertBefore(this.node, this.node.parentNode.firstChild), a._toback(this, this.paper); var c = this.paper; return this }, A.insertAfter = function (b) { if (this.removed) return this; var c = b.node || b[b.length - 1].node; c.nextSibling ? c.parentNode.insertBefore(this.node, c.nextSibling) : c.parentNode.appendChild(this.node), a._insertafter(this, b, this.paper); return this }, A.insertBefore = function (b) { if (this.removed) return this; var c = b.node || b[0].node; c.parentNode.insertBefore(this.node, c), a._insertbefore(this, b, this.paper); return this }, A.blur = function (b) { var c = this; if (+b !== 0) { var d = q("filter"), e = q("feGaussianBlur"); c.attrs.blur = b, d.id = a.createUUID(), q(e, { stdDeviation: +b || 1.5 }), d.appendChild(e), c.paper.defs.appendChild(d), c._blur = d, q(c.node, { filter: "url(#" + d.id + ")" }) } else c._blur && (c._blur.parentNode.removeChild(c._blur), delete c._blur, delete c.attrs.blur), c.node.removeAttribute("filter") }, a._engine.circle = function (a, b, c, d) { var e = q("circle"); a.canvas && a.canvas.appendChild(e); var f = new z(e, a); f.attrs = { cx: b, cy: c, r: d, fill: "none", stroke: "#000" }, f.type = "circle", q(e, f.attrs); return f }, a._engine.rect = function (a, b, c, d, e, f) { var g = q("rect"); a.canvas && a.canvas.appendChild(g); var h = new z(g, a); h.attrs = { x: b, y: c, width: d, height: e, r: f || 0, rx: f || 0, ry: f || 0, fill: "none", stroke: "#000" }, h.type = "rect", q(g, h.attrs); return h }, a._engine.ellipse = function (a, b, c, d, e) { var f = q("ellipse"); a.canvas && a.canvas.appendChild(f); var g = new z(f, a); g.attrs = { cx: b, cy: c, rx: d, ry: e, fill: "none", stroke: "#000" }, g.type = "ellipse", q(f, g.attrs); return g }, a._engine.image = function (a, b, c, d, e, f) { var g = q("image"); q(g, { x: c, y: d, width: e, height: f, preserveAspectRatio: "none" }), g.setAttributeNS(n, "href", b), a.canvas && a.canvas.appendChild(g); var h = new z(g, a); h.attrs = { x: c, y: d, width: e, height: f, src: b }, h.type = "image"; return h }, a._engine.text = function (b, c, d, e) { var f = q("text"); b.canvas && b.canvas.appendChild(f); var g = new z(f, b); g.attrs = { x: c, y: d, "text-anchor": "middle", text: e, font: a._availableAttrs.font, stroke: "none", fill: "#000" }, g.type = "text", w(g, g.attrs); return g }, a._engine.setSize = function (a, b) { this.width = a || this.width, this.height = b || this.height, this.canvas.setAttribute("width", this.width), this.canvas.setAttribute("height", this.height), this._viewBox && this.setViewBox.apply(this, this._viewBox); return this }, a._engine.create = function () { var b = a._getContainer.apply(0, arguments), c = b && b.container, d = b.x, e = b.y, f = b.width, g = b.height; if (!c) throw new Error("SVG container not found."); var h = q("svg"), i = "overflow:hidden;", j; d = d || 0, e = e || 0, f = f || 512, g = g || 342, q(h, { height: g, version: 1.1, width: f, xmlns: "http://www.w3.org/2000/svg" }), c == 1 ? (h.style.cssText = i + "position:absolute;left:" + d + "px;top:" + e + "px", a._g.doc.body.appendChild(h), j = 1) : (h.style.cssText = i + "position:relative", c.firstChild ? c.insertBefore(h, c.firstChild) : c.appendChild(h)), c = new a._Paper, c.width = f, c.height = g, c.canvas = h, c.clear(), c._left = c._top = 0, j && (c.renderfix = function () { }), c.renderfix(); return c }, a._engine.setViewBox = function (a, b, c, d, e) { k("setViewBox", this, this._viewBox, [a, b, c, d, e]); var f = g(c / this.width, d / this.height), h = this.top, i = e ? "meet" : "xMinYMin", j, l; a == null ? (this._vbSize && (f = 1), delete this._vbSize, j = "0 0 " + this.width + m + this.height) : (this._vbSize = f, j = a + m + b + m + c + m + d), q(this.canvas, { viewBox: j, preserveAspectRatio: i }); while (f && h) l = "stroke-width" in h.attrs ? h.attrs["stroke-width"] : 1, h.attr({ "stroke-width": l }), h._.dirty = 1, h._.dirtyT = 1, h = h.prev; this._viewBox = [a, b, c, d, !!e]; return this }, a.prototype.renderfix = function () { var a = this.canvas, b = a.style, c; try { c = a.getScreenCTM() || a.createSVGMatrix() } catch (d) { c = a.createSVGMatrix() } var e = -c.e % 1, f = -c.f % 1; if (e || f) e && (this._left = (this._left + e) % 1, b.left = this._left + "px"), f && (this._top = (this._top + f) % 1, b.top = this._top + "px") }, a.prototype.clear = function () { a.eve("clear", this); var b = this.canvas; while (b.firstChild) b.removeChild(b.firstChild); this.bottom = this.top = null, (this.desc = q("desc")).appendChild(a._g.doc.createTextNode("Created with RaphaГ«l " + a.version)), b.appendChild(this.desc), b.appendChild(this.defs = q("defs")) }, a.prototype.remove = function () { k("remove", this), this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas); for (var b in this) this[b] = typeof this[b] == "function" ? a._removedFactory(b) : null }; var B = a.st; for (var C in A) A[b](C) && !B[b](C) && (B[C] = function (a) { return function () { var b = arguments; return this.forEach(function (c) { c[a].apply(c, b) }) } } (C)) } (window.Raphael), window.Raphael.vml && function (a) { var b = "hasOwnProperty", c = String, d = parseFloat, e = Math, f = e.round, g = e.max, h = e.min, i = e.abs, j = "fill", k = /[, ]+/, l = a.eve, m = " progid:DXImageTransform.Microsoft", n = " ", o = "", p = { M: "m", L: "l", C: "c", Z: "x", m: "t", l: "r", c: "v", z: "x" }, q = /([clmz]),?([^clmz]*)/gi, r = / progid:\S+Blur\([^\)]+\)/g, s = /-?[^,\s-]+/g, t = "position:absolute;left:0;top:0;width:1px;height:1px", u = 21600, v = { path: 1, rect: 1, image: 1 }, w = { circle: 1, ellipse: 1 }, x = function (b) { var d = /[ahqstv]/ig, e = a._pathToAbsolute; c(b).match(d) && (e = a._path2curve), d = /[clmz]/g; if (e == a._pathToAbsolute && !c(b).match(d)) { var g = c(b).replace(q, function (a, b, c) { var d = [], e = b.toLowerCase() == "m", g = p[b]; c.replace(s, function (a) { e && d.length == 2 && (g += d + p[b == "m" ? "l" : "L"], d = []), d.push(f(a * u)) }); return g + d }); return g } var h = e(b), i, j; g = []; for (var k = 0, l = h.length; k < l; k++) { i = h[k], j = h[k][0].toLowerCase(), j == "z" && (j = "x"); for (var m = 1, r = i.length; m < r; m++) j += f(i[m] * u) + (m != r - 1 ? "," : o); g.push(j) } return g.join(n) }, y = function (b, c, d) { var e = a.matrix(); e.rotate(-b, .5, .5); return { dx: e.x(c, d), dy: e.y(c, d)} }, z = function (a, b, c, d, e, f) { var g = a._, h = a.matrix, k = g.fillpos, l = a.node, m = l.style, o = 1, p = "", q, r = u / b, s = u / c; m.visibility = "hidden"; if (!!b && !!c) { l.coordsize = i(r) + n + i(s), m.rotation = f * (b * c < 0 ? -1 : 1); if (f) { var t = y(f, d, e); d = t.dx, e = t.dy } b < 0 && (p += "x"), c < 0 && (p += " y") && (o = -1), m.flip = p, l.coordorigin = d * -r + n + e * -s; if (k || g.fillsize) { var v = l.getElementsByTagName(j); v = v && v[0], l.removeChild(v), k && (t = y(f, h.x(k[0], k[1]), h.y(k[0], k[1])), v.position = t.dx * o + n + t.dy * o), g.fillsize && (v.size = g.fillsize[0] * i(b) + n + g.fillsize[1] * i(c)), l.appendChild(v) } m.visibility = "visible" } }; a.toString = function () { return "Your browser doesnвЂ™t support SVG. Falling down to VML.\nYou are running RaphaГ«l " + this.version }; var A = function (a, b, d) { var e = c(b).toLowerCase().split("-"), f = d ? "end" : "start", g = e.length, h = "classic", i = "medium", j = "medium"; while (g--) switch (e[g]) { case "block": case "classic": case "oval": case "diamond": case "open": case "none": h = e[g]; break; case "wide": case "narrow": j = e[g]; break; case "long": case "short": i = e[g] } var k = a.node.getElementsByTagName("stroke")[0]; k[f + "arrow"] = h, k[f + "arrowlength"] = i, k[f + "arrowwidth"] = j }, B = function (e, i) { e.attrs = e.attrs || {}; var l = e.node, m = e.attrs, p = l.style, q, r = v[e.type] && (i.x != m.x || i.y != m.y || i.width != m.width || i.height != m.height || i.cx != m.cx || i.cy != m.cy || i.rx != m.rx || i.ry != m.ry || i.r != m.r), s = w[e.type] && (m.cx != i.cx || m.cy != i.cy || m.r != i.r || m.rx != i.rx || m.ry != i.ry), t = e; for (var y in i) i[b](y) && (m[y] = i[y]); r && (m.path = a._getPath[e.type](e), e._.dirty = 1), i.href && (l.href = i.href), i.title && (l.title = i.title), i.target && (l.target = i.target), i.cursor && (p.cursor = i.cursor), "blur" in i && e.blur(i.blur); if (i.path && e.type == "path" || r) l.path = x(~c(m.path).toLowerCase().indexOf("r") ? a._pathToAbsolute(m.path) : m.path), e.type == "image" && (e._.fillpos = [m.x, m.y], e._.fillsize = [m.width, m.height], z(e, 1, 1, 0, 0, 0)); "transform" in i && e.transform(i.transform); if (s) { var B = +m.cx, D = +m.cy, E = +m.rx || +m.r || 0, G = +m.ry || +m.r || 0; l.path = a.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x", f((B - E) * u), f((D - G) * u), f((B + E) * u), f((D + G) * u), f(B * u)) } if ("clip-rect" in i) { var H = c(i["clip-rect"]).split(k); if (H.length == 4) { H[2] = +H[2] + +H[0], H[3] = +H[3] + +H[1]; var I = l.clipRect || a._g.doc.createElement("div"), J = I.style; J.clip = a.format("rect({1}px {2}px {3}px {0}px)", H), l.clipRect || (J.position = "absolute", J.top = 0, J.left = 0, J.width = e.paper.width + "px", J.height = e.paper.height + "px", l.parentNode.insertBefore(I, l), I.appendChild(l), l.clipRect = I) } i["clip-rect"] || l.clipRect && (l.clipRect.style.clip = "auto") } if (e.textpath) { var K = e.textpath.style; i.font && (K.font = i.font), i["font-family"] && (K.fontFamily = '"' + i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g, o) + '"'), i["font-size"] && (K.fontSize = i["font-size"]), i["font-weight"] && (K.fontWeight = i["font-weight"]), i["font-style"] && (K.fontStyle = i["font-style"]) } "arrow-start" in i && A(t, i["arrow-start"]), "arrow-end" in i && A(t, i["arrow-end"], 1); if (i.opacity != null || i["stroke-width"] != null || i.fill != null || i.src != null || i.stroke != null || i["stroke-width"] != null || i["stroke-opacity"] != null || i["fill-opacity"] != null || i["stroke-dasharray"] != null || i["stroke-miterlimit"] != null || i["stroke-linejoin"] != null || i["stroke-linecap"] != null) { var L = l.getElementsByTagName(j), M = !1; L = L && L[0], !L && (M = L = F(j)), e.type == "image" && i.src && (L.src = i.src), i.fill && (L.on = !0); if (L.on == null || i.fill == "none" || i.fill === null) L.on = !1; if (L.on && i.fill) { var N = c(i.fill).match(a._ISURL); if (N) { L.parentNode == l && l.removeChild(L), L.rotate = !0, L.src = N[1], L.type = "tile"; var O = e.getBBox(1); L.position = O.x + n + O.y, e._.fillpos = [O.x, O.y], a._preload(N[1], function () { e._.fillsize = [this.offsetWidth, this.offsetHeight] }) } else L.color = a.getRGB(i.fill).hex, L.src = o, L.type = "solid", a.getRGB(i.fill).error && (t.type in { circle: 1, ellipse: 1} || c(i.fill).charAt() != "r") && C(t, i.fill, L) && (m.fill = "none", m.gradient = i.fill, L.rotate = !1) } if ("fill-opacity" in i || "opacity" in i) { var P = ((+m["fill-opacity"] + 1 || 2) - 1) * ((+m.opacity + 1 || 2) - 1) * ((+a.getRGB(i.fill).o + 1 || 2) - 1); P = h(g(P, 0), 1), L.opacity = P, L.src && (L.color = "none") } l.appendChild(L); var Q = l.getElementsByTagName("stroke") && l.getElementsByTagName("stroke")[0], T = !1; !Q && (T = Q = F("stroke")); if (i.stroke && i.stroke != "none" || i["stroke-width"] || i["stroke-opacity"] != null || i["stroke-dasharray"] || i["stroke-miterlimit"] || i["stroke-linejoin"] || i["stroke-linecap"]) Q.on = !0; (i.stroke == "none" || i.stroke === null || Q.on == null || i.stroke == 0 || i["stroke-width"] == 0) && (Q.on = !1); var U = a.getRGB(i.stroke); Q.on && i.stroke && (Q.color = U.hex), P = ((+m["stroke-opacity"] + 1 || 2) - 1) * ((+m.opacity + 1 || 2) - 1) * ((+U.o + 1 || 2) - 1); var V = (d(i["stroke-width"]) || 1) * .75; P = h(g(P, 0), 1), i["stroke-width"] == null && (V = m["stroke-width"]), i["stroke-width"] && (Q.weight = V), V && V < 1 && (P *= V) && (Q.weight = 1), Q.opacity = P, i["stroke-linejoin"] && (Q.joinstyle = i["stroke-linejoin"] || "miter"), Q.miterlimit = i["stroke-miterlimit"] || 8, i["stroke-linecap"] && (Q.endcap = i["stroke-linecap"] == "butt" ? "flat" : i["stroke-linecap"] == "square" ? "square" : "round"); if (i["stroke-dasharray"]) { var W = { "-": "shortdash", ".": "shortdot", "-.": "shortdashdot", "-..": "shortdashdotdot", ". ": "dot", "- ": "dash", "--": "longdash", "- .": "dashdot", "--.": "longdashdot", "--..": "longdashdotdot" }; Q.dashstyle = W[b](i["stroke-dasharray"]) ? W[i["stroke-dasharray"]] : o } T && l.appendChild(Q) } if (t.type == "text") { t.paper.canvas.style.display = o; var X = t.paper.span, Y = 100, Z = m.font && m.font.match(/\d+(?:\.\d*)?(?=px)/); p = X.style, m.font && (p.font = m.font), m["font-family"] && (p.fontFamily = m["font-family"]), m["font-weight"] && (p.fontWeight = m["font-weight"]), m["font-style"] && (p.fontStyle = m["font-style"]), Z = d(m["font-size"] || Z && Z[0]) || 10, p.fontSize = Z * Y + "px", t.textpath.string && (X.innerHTML = c(t.textpath.string).replace(/</g, "&#60;").replace(/&/g, "&#38;").replace(/\n/g, "<br>")); var $ = X.getBoundingClientRect(); t.W = m.w = ($.right - $.left) / Y, t.H = m.h = ($.bottom - $.top) / Y, t.X = m.x, t.Y = m.y + t.H / 2, ("x" in i || "y" in i) && (t.path.v = a.format("m{0},{1}l{2},{1}", f(m.x * u), f(m.y * u), f(m.x * u) + 1)); var _ = ["x", "y", "text", "font", "font-family", "font-weight", "font-style", "font-size"]; for (var ba = 0, bb = _.length; ba < bb; ba++) if (_[ba] in i) { t._.dirty = 1; break } switch (m["text-anchor"]) { case "start": t.textpath.style["v-text-align"] = "left", t.bbx = t.W / 2; break; case "end": t.textpath.style["v-text-align"] = "right", t.bbx = -t.W / 2; break; default: t.textpath.style["v-text-align"] = "center", t.bbx = 0 } t.textpath.style["v-text-kern"] = !0 } }, C = function (b, f, g) { b.attrs = b.attrs || {}; var h = b.attrs, i = Math.pow, j, k, l = "linear", m = ".5 .5"; b.attrs.gradient = f, f = c(f).replace(a._radial_gradient, function (a, b, c) { l = "radial", b && c && (b = d(b), c = d(c), i(b - .5, 2) + i(c - .5, 2) > .25 && (c = e.sqrt(.25 - i(b - .5, 2)) * ((c > .5) * 2 - 1) + .5), m = b + n + c); return o }), f = f.split(/\s*\-\s*/); if (l == "linear") { var p = f.shift(); p = -d(p); if (isNaN(p)) return null } var q = a._parseDots(f); if (!q) return null; b = b.shape || b.node; if (q.length) { b.removeChild(g), g.on = !0, g.method = "none", g.color = q[0].color, g.color2 = q[q.length - 1].color; var r = []; for (var s = 0, t = q.length; s < t; s++) q[s].offset && r.push(q[s].offset + n + q[s].color); g.colors = r.length ? r.join() : "0% " + g.color, l == "radial" ? (g.type = "gradientTitle", g.focus = "100%", g.focussize = "0 0", g.focusposition = m, g.angle = 0) : (g.type = "gradient", g.angle = (270 - p) % 360), b.appendChild(g) } return 1 }, D = function (b, c) { this[0] = this.node = b, b.raphael = !0, this.id = a._oid++, b.raphaelid = this.id, this.X = 0, this.Y = 0, this.attrs = {}, this.paper = c, this.matrix = a.matrix(), this._ = { transform: [], sx: 1, sy: 1, dx: 0, dy: 0, deg: 0, dirty: 1, dirtyT: 1 }, !c.bottom && (c.bottom = this), this.prev = c.top, c.top && (c.top.next = this), c.top = this, this.next = null }, E = a.el; D.prototype = E, E.constructor = D, E.transform = function (b) { if (b == null) return this._.transform; var d = this.paper._viewBoxShift, e = d ? "s" + [d.scale, d.scale] + "-1-1t" + [d.dx, d.dy] : o, f; d && (f = b = c(b).replace(/\.{3}|\u2026/g, this._.transform || o)), a._extractTransform(this, e + b); var g = this.matrix.clone(), h = this.skew, i = this.node, j, k = ~c(this.attrs.fill).indexOf("-"), l = !c(this.attrs.fill).indexOf("url("); g.translate(-0.5, -0.5); if (l || k || this.type == "image") { h.matrix = "1 0 0 1", h.offset = "0 0", j = g.split(); if (k && j.noRotation || !j.isSimple) { i.style.filter = g.toFilter(); var m = this.getBBox(), p = this.getBBox(1), q = m.x - p.x, r = m.y - p.y; i.coordorigin = q * -u + n + r * -u, z(this, 1, 1, q, r, 0) } else i.style.filter = o, z(this, j.scalex, j.scaley, j.dx, j.dy, j.rotate) } else i.style.filter = o, h.matrix = c(g), h.offset = g.offset(); f && (this._.transform = f); return this }, E.rotate = function (a, b, e) { if (this.removed) return this; if (a != null) { a = c(a).split(k), a.length - 1 && (b = d(a[1]), e = d(a[2])), a = d(a[0]), e == null && (b = e); if (b == null || e == null) { var f = this.getBBox(1); b = f.x + f.width / 2, e = f.y + f.height / 2 } this._.dirtyT = 1, this.transform(this._.transform.concat([["r", a, b, e]])); return this } }, E.translate = function (a, b) { if (this.removed) return this; a = c(a).split(k), a.length - 1 && (b = d(a[1])), a = d(a[0]) || 0, b = +b || 0, this._.bbox && (this._.bbox.x += a, this._.bbox.y += b), this.transform(this._.transform.concat([["t", a, b]])); return this }, E.scale = function (a, b, e, f) { if (this.removed) return this; a = c(a).split(k), a.length - 1 && (b = d(a[1]), e = d(a[2]), f = d(a[3]), isNaN(e) && (e = null), isNaN(f) && (f = null)), a = d(a[0]), b == null && (b = a), f == null && (e = f); if (e == null || f == null) var g = this.getBBox(1); e = e == null ? g.x + g.width / 2 : e, f = f == null ? g.y + g.height / 2 : f, this.transform(this._.transform.concat([["s", a, b, e, f]])), this._.dirtyT = 1; return this }, E.hide = function () { !this.removed && (this.node.style.display = "none"); return this }, E.show = function () { !this.removed && (this.node.style.display = o); return this }, E._getBBox = function () { if (this.removed) return {}; return { x: this.X + (this.bbx || 0) - this.W / 2, y: this.Y - this.H, width: this.W, height: this.H} }, E.remove = function () { if (!this.removed) { this.paper.__set__ && this.paper.__set__.exclude(this), a.eve.unbind("*.*." + this.id), a._tear(this, this.paper), this.node.parentNode.removeChild(this.node), this.shape && this.shape.parentNode.removeChild(this.shape); for (var b in this) this[b] = typeof this[b] == "function" ? a._removedFactory(b) : null; this.removed = !0 } }, E.attr = function (c, d) { if (this.removed) return this; if (c == null) { var e = {}; for (var f in this.attrs) this.attrs[b](f) && (e[f] = this.attrs[f]); e.gradient && e.fill == "none" && (e.fill = e.gradient) && delete e.gradient, e.transform = this._.transform; return e } if (d == null && a.is(c, "string")) { if (c == j && this.attrs.fill == "none" && this.attrs.gradient) return this.attrs.gradient; var g = c.split(k), h = {}; for (var i = 0, m = g.length; i < m; i++) c = g[i], c in this.attrs ? h[c] = this.attrs[c] : a.is(this.paper.customAttributes[c], "function") ? h[c] = this.paper.customAttributes[c].def : h[c] = a._availableAttrs[c]; return m - 1 ? h : h[g[0]] } if (this.attrs && d == null && a.is(c, "array")) { h = {}; for (i = 0, m = c.length; i < m; i++) h[c[i]] = this.attr(c[i]); return h } var n; d != null && (n = {}, n[c] = d), d == null && a.is(c, "object") && (n = c); for (var o in n) l("attr." + o + "." + this.id, this, n[o]); if (n) { for (o in this.paper.customAttributes) if (this.paper.customAttributes[b](o) && n[b](o) && a.is(this.paper.customAttributes[o], "function")) { var p = this.paper.customAttributes[o].apply(this, [].concat(n[o])); this.attrs[o] = n[o]; for (var q in p) p[b](q) && (n[q] = p[q]) } n.text && this.type == "text" && (this.textpath.string = n.text), B(this, n) } return this }, E.toFront = function () { !this.removed && this.node.parentNode.appendChild(this.node), this.paper && this.paper.top != this && a._tofront(this, this.paper); return this }, E.toBack = function () { if (this.removed) return this; this.node.parentNode.firstChild != this.node && (this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild), a._toback(this, this.paper)); return this }, E.insertAfter = function (b) { if (this.removed) return this; b.constructor == a.st.constructor && (b = b[b.length - 1]), b.node.nextSibling ? b.node.parentNode.insertBefore(this.node, b.node.nextSibling) : b.node.parentNode.appendChild(this.node), a._insertafter(this, b, this.paper); return this }, E.insertBefore = function (b) { if (this.removed) return this; b.constructor == a.st.constructor && (b = b[0]), b.node.parentNode.insertBefore(this.node, b.node), a._insertbefore(this, b, this.paper); return this }, E.blur = function (b) { var c = this.node.runtimeStyle, d = c.filter; d = d.replace(r, o), +b !== 0 ? (this.attrs.blur = b, c.filter = d + n + m + ".Blur(pixelradius=" + (+b || 1.5) + ")", c.margin = a.format("-{0}px 0 0 -{0}px", f(+b || 1.5))) : (c.filter = d, c.margin = 0, delete this.attrs.blur) }, a._engine.path = function (a, b) { var c = F("shape"); c.style.cssText = t, c.coordsize = u + n + u, c.coordorigin = b.coordorigin; var d = new D(c, b), e = { fill: "none", stroke: "#000" }; a && (e.path = a), d.type = "path", d.path = [], d.Path = o, B(d, e), b.canvas.appendChild(c); var f = F("skew"); f.on = !0, c.appendChild(f), d.skew = f, d.transform(o); return d }, a._engine.rect = function (b, c, d, e, f, g) { var h = a._rectPath(c, d, e, f, g), i = b.path(h), j = i.attrs; i.X = j.x = c, i.Y = j.y = d, i.W = j.width = e, i.H = j.height = f, j.r = g, j.path = h, i.type = "rect"; return i }, a._engine.ellipse = function (a, b, c, d, e) { var f = a.path(), g = f.attrs; f.X = b - d, f.Y = c - e, f.W = d * 2, f.H = e * 2, f.type = "ellipse", B(f, { cx: b, cy: c, rx: d, ry: e }); return f }, a._engine.circle = function (a, b, c, d) { var e = a.path(), f = e.attrs; e.X = b - d, e.Y = c - d, e.W = e.H = d * 2, e.type = "circle", B(e, { cx: b, cy: c, r: d }); return e }, a._engine.image = function (b, c, d, e, f, g) { var h = a._rectPath(d, e, f, g), i = b.path(h).attr({ stroke: "none" }), k = i.attrs, l = i.node, m = l.getElementsByTagName(j)[0]; k.src = c, i.X = k.x = d, i.Y = k.y = e, i.W = k.width = f, i.H = k.height = g, k.path = h, i.type = "image", m.parentNode == l && l.removeChild(m), m.rotate = !0, m.src = c, m.type = "tile", i._.fillpos = [d, e], i._.fillsize = [f, g], l.appendChild(m), z(i, 1, 1, 0, 0, 0); return i }, a._engine.text = function (b, d, e, g) { var h = F("shape"), i = F("path"), j = F("textpath"); d = d || 0, e = e || 0, g = g || "", i.v = a.format("m{0},{1}l{2},{1}", f(d * u), f(e * u), f(d * u) + 1), i.textpathok = !0, j.string = c(g), j.on = !0, h.style.cssText = t, h.coordsize = u + n + u, h.coordorigin = "0 0"; var k = new D(h, b), l = { fill: "#000", stroke: "none", font: a._availableAttrs.font, text: g }; k.shape = h, k.path = i, k.textpath = j, k.type = "text", k.attrs.text = c(g), k.attrs.x = d, k.attrs.y = e, k.attrs.w = 1, k.attrs.h = 1, B(k, l), h.appendChild(j), h.appendChild(i), b.canvas.appendChild(h); var m = F("skew"); m.on = !0, h.appendChild(m), k.skew = m, k.transform(o); return k }, a._engine.setSize = function (b, c) { var d = this.canvas.style; this.width = b, this.height = c, b == +b && (b += "px"), c == +c && (c += "px"), d.width = b, d.height = c, d.clip = "rect(0 " + b + " " + c + " 0)", this._viewBox && a._engine.setViewBox.apply(this, this._viewBox); return this }, a._engine.setViewBox = function (b, c, d, e, f) { a.eve("setViewBox", this, this._viewBox, [b, c, d, e, f]); var h = this.width, i = this.height, j = 1 / g(d / h, e / i), k, l; f && (k = i / e, l = h / d, d * k < h && (b -= (h - d * k) / 2 / k), e * l < i && (c -= (i - e * l) / 2 / l)), this._viewBox = [b, c, d, e, !!f], this._viewBoxShift = { dx: -b, dy: -c, scale: j }, this.forEach(function (a) { a.transform("...") }); return this }; var F; a._engine.initWin = function (a) { var b = a.document; b.createStyleSheet().addRule(".rvml", "behavior:url(#default#VML)"); try { !b.namespaces.rvml && b.namespaces.add("rvml", "urn:schemas-microsoft-com:vml"), F = function (a) { return b.createElement("<rvml:" + a + ' class="rvml">') } } catch (c) { F = function (a) { return b.createElement("<" + a + ' xmlns="urn:schemas-microsoft.com:vml" class="rvml">') } } }, a._engine.initWin(a._g.win), a._engine.create = function () { var b = a._getContainer.apply(0, arguments), c = b.container, d = b.height, e, f = b.width, g = b.x, h = b.y; if (!c) throw new Error("VML container not found."); var i = new a._Paper, j = i.canvas = a._g.doc.createElement("div"), k = j.style; g = g || 0, h = h || 0, f = f || 512, d = d || 342, i.width = f, i.height = d, f == +f && (f += "px"), d == +d && (d += "px"), i.coordsize = u * 1e3 + n + u * 1e3, i.coordorigin = "0 0", i.span = a._g.doc.createElement("span"), i.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;", j.appendChild(i.span), k.cssText = a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden", f, d), c == 1 ? (a._g.doc.body.appendChild(j), k.left = g + "px", k.top = h + "px", k.position = "absolute") : c.firstChild ? c.insertBefore(j, c.firstChild) : c.appendChild(j), i.renderfix = function () { }; return i }, a.prototype.clear = function () { a.eve("clear", this), this.canvas.innerHTML = o, this.span = a._g.doc.createElement("span"), this.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;", this.canvas.appendChild(this.span), this.bottom = this.top = null }, a.prototype.remove = function () { a.eve("remove", this), this.canvas.parentNode.removeChild(this.canvas); for (var b in this) this[b] = typeof this[b] == "function" ? a._removedFactory(b) : null; return !0 }; var G = a.st; for (var H in E) E[b](H) && !G[b](H) && (G[H] = function (a) { return function () { var b = arguments; return this.forEach(function (c) { c[a].apply(c, b) }) } } (H)) } (window.Raphael);
/*! jQuery UI - v1.9.2 - 2012-12-14
* http://jqueryui.com
* Includes: jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */

jQuery.effects||function(e,t){var n=e.uiBackCompat!==!1,r="ui-effects-";e.effects={effect:{}},function(t,n){function p(e,t,n){var r=a[t.type]||{};return e==null?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function d(e){var n=o(),r=n._rgba=[];return e=e.toLowerCase(),h(s,function(t,i){var s,o=i.re.exec(e),a=o&&i.parse(o),f=i.space||"rgba";if(a)return s=n[f](a),n[u[f].cache]=s[u[f].cache],r=n._rgba=s._rgba,!1}),r.length?(r.join()==="0,0,0,0"&&t.extend(r,c.transparent),n):c[e]}function v(e,t,n){return n=(n+1)%1,n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}var r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),i=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=t.Color=function(e,n,r,i){return new t.Color.fn.parse(e,n,r,i)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=o.support={},l=t("<p>")[0],c,h=t.each;l.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=l.style.backgroundColor.indexOf("rgba")>-1,h(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),o.fn=t.extend(o.prototype,{parse:function(r,i,s,a){if(r===n)return this._rgba=[null,null,null,null],this;if(r.jquery||r.nodeType)r=t(r).css(i),i=n;var f=this,l=t.type(r),v=this._rgba=[];i!==n&&(r=[r,i,s,a],l="array");if(l==="string")return this.parse(d(r)||c._default);if(l==="array")return h(u.rgba.props,function(e,t){v[t.idx]=p(r[t.idx],t)}),this;if(l==="object")return r instanceof o?h(u,function(e,t){r[t.cache]&&(f[t.cache]=r[t.cache].slice())}):h(u,function(t,n){var i=n.cache;h(n.props,function(e,t){if(!f[i]&&n.to){if(e==="alpha"||r[e]==null)return;f[i]=n.to(f._rgba)}f[i][t.idx]=p(r[e],t,!0)}),f[i]&&e.inArray(null,f[i].slice(0,3))<0&&(f[i][3]=1,n.from&&(f._rgba=n.from(f[i])))}),this},is:function(e){var t=o(e),n=!0,r=this;return h(u,function(e,i){var s,o=t[i.cache];return o&&(s=r[i.cache]||i.to&&i.to(r._rgba)||[],h(i.props,function(e,t){if(o[t.idx]!=null)return n=o[t.idx]===s[t.idx],n})),n}),n},_space:function(){var e=[],t=this;return h(u,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var n=o(e),r=n._space(),i=u[r],s=this.alpha()===0?o("transparent"):this,f=s[i.cache]||i.to(s._rgba),l=f.slice();return n=n[i.cache],h(i.props,function(e,r){var i=r.idx,s=f[i],o=n[i],u=a[r.type]||{};if(o===null)return;s===null?l[i]=o:(u.mod&&(o-s>u.mod/2?s+=u.mod:s-o>u.mod/2&&(s-=u.mod)),l[i]=p((o-s)*t+s,r))}),this[r](l)},blend:function(e){if(this._rgba[3]===1)return this;var n=this._rgba.slice(),r=n.pop(),i=o(e)._rgba;return o(t.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(e,t){return e==null?t>2?1:0:e});return n[3]===1&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(e,t){return e==null&&(e=t>2?1:0),t&&t<3&&(e=Math.round(e*100)+"%"),e});return n[3]===1&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),r=n.pop();return e&&n.push(~~(r*255)),"#"+t.map(n,function(e){return e=(e||0).toString(16),e.length===1?"0"+e:e}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,u.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=e[3],s=Math.max(t,n,r),o=Math.min(t,n,r),u=s-o,a=s+o,f=a*.5,l,c;return o===s?l=0:t===s?l=60*(n-r)/u+360:n===s?l=60*(r-t)/u+120:l=60*(t-n)/u+240,f===0||f===1?c=f:f<=.5?c=u/a:c=u/(2-a),[Math.round(l)%360,c,f,i==null?1:i]},u.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],i=e[3],s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;return[Math.round(v(o,s,t+1/3)*255),Math.round(v(o,s,t)*255),Math.round(v(o,s,t-1/3)*255),i]},h(u,function(e,r){var s=r.props,u=r.cache,a=r.to,f=r.from;o.fn[e]=function(e){a&&!this[u]&&(this[u]=a(this._rgba));if(e===n)return this[u].slice();var r,i=t.type(e),l=i==="array"||i==="object"?e:arguments,c=this[u].slice();return h(s,function(e,t){var n=l[i==="object"?e:t.idx];n==null&&(n=c[t.idx]),c[t.idx]=p(n,t)}),f?(r=o(f(c)),r[u]=c,r):o(c)},h(s,function(n,r){if(o.fn[n])return;o.fn[n]=function(s){var o=t.type(s),u=n==="alpha"?this._hsla?"hsla":"rgba":e,a=this[u](),f=a[r.idx],l;return o==="undefined"?f:(o==="function"&&(s=s.call(this,f),o=t.type(s)),s==null&&r.empty?this:(o==="string"&&(l=i.exec(s),l&&(s=f+parseFloat(l[2])*(l[1]==="+"?1:-1))),a[r.idx]=s,this[u](a)))}})}),h(r,function(e,n){t.cssHooks[n]={set:function(e,r){var i,s,u="";if(t.type(r)!=="string"||(i=d(r))){r=o(i||r);if(!f.rgba&&r._rgba[3]!==1){s=n==="backgroundColor"?e.parentNode:e;while((u===""||u==="transparent")&&s&&s.style)try{u=t.css(s,"backgroundColor"),s=s.parentNode}catch(a){}r=r.blend(u&&u!=="transparent"?u:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=o(e.elem,n),e.end=o(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},c=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(){var t=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,n={},r,i;if(t&&t.length&&t[0]&&t[t[0]]){i=t.length;while(i--)r=t[i],typeof t[r]=="string"&&(n[e.camelCase(r)]=t[r])}else for(r in t)typeof t[r]=="string"&&(n[r]=t[r]);return n}function s(t,n){var i={},s,o;for(s in n)o=n[s],t[s]!==o&&!r[s]&&(e.fx.step[s]||!isNaN(parseFloat(o)))&&(i[s]=o);return i}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){if(e.end!=="none"&&!e.setAttr||e.pos===1&&!e.setAttr)jQuery.style(e.elem,n,e.end),e.setAttr=!0}}),e.effects.animateClass=function(t,r,o,u){var a=e.speed(r,o,u);return this.queue(function(){var r=e(this),o=r.attr("class")||"",u,f=a.children?r.find("*").andSelf():r;f=f.map(function(){var t=e(this);return{el:t,start:i.call(this)}}),u=function(){e.each(n,function(e,n){t[n]&&r[n+"Class"](t[n])})},u(),f=f.map(function(){return this.end=i.call(this.el[0]),this.diff=s(this.start,this.end),this}),r.attr("class",o),f=f.map(function(){var t=this,n=e.Deferred(),r=jQuery.extend({},a,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()}),e.when.apply(e,f.get()).done(function(){u(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),a.complete.call(r[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,r,i){return n?e.effects.animateClass.call(this,{add:t},n,r,i):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,r,i){return n?e.effects.animateClass.call(this,{remove:t},n,r,i):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,r,i,s,o){return typeof r=="boolean"||r===t?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,s,o):this._toggleClass(n,r):e.effects.animateClass.call(this,{toggle:n},r,i,s)},switchClass:function(t,n,r,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,s)}})}(),function(){function i(t,n,r,i){e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},n==null&&(n={}),e.isFunction(n)&&(i=n,r=null,n={});if(typeof n=="number"||e.fx.speeds[n])i=r,r=n,n={};return e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:typeof r=="number"?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function s(t){return!t||typeof t=="number"||e.fx.speeds[t]?!0:typeof t=="string"&&!e.effects.effect[t]?n&&e.effects[t]?!1:!0:!1}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.data(r+t[n],e[0].style[t[n]])},restore:function(e,n){var i,s;for(s=0;s<n.length;s++)n[s]!==null&&(i=e.data(r+n[s]),i===t&&(i=""),e.css(n[s],i))},setMode:function(e,t){return t==="toggle"&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),r=t.parent(),t.css("position")==="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*r+s[1])}),i}}),e.fn.extend({effect:function(){function a(n){function u(){e.isFunction(i)&&i.call(r[0]),e.isFunction(n)&&n()}var r=e(this),i=t.complete,s=t.mode;(r.is(":hidden")?s==="hide":s==="show")?u():o.call(r[0],t,u)}var t=i.apply(this,arguments),r=t.mode,s=t.queue,o=e.effects.effect[t.effect],u=!o&&n&&e.effects[t.effect];return e.fx.off||!o&&!u?r?this[r](t.duration,t.complete):this.each(function(){t.complete&&t.complete.call(this)}):o?s===!1?this.each(a):this.queue(s||"fx",a):u.call(this,{options:t,duration:t.duration,callback:t.complete,mode:t.mode})},_show:e.fn.show,show:function(e){if(s(e))return this._show.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(s(e))return this._hide.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(s(t)||typeof t=="boolean"||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)},cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return e===0||e===1?e:-Math.pow(2,8*(e-1))*Math.sin(((e-1)*80-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){var t,n=4;while(e<((t=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((t*3-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(e*2)/2:1-n(e*-2+2)/2}})}()}(jQuery);(function(e,t){var n=/up|down|vertical/,r=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,i){var s=e(this),o=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(s,t.mode||"hide"),a=t.direction||"up",f=n.test(a),l=f?"height":"width",c=f?"top":"left",h=r.test(a),p={},d=u==="show",v,m,g;s.parent().is(".ui-effects-wrapper")?e.effects.save(s.parent(),o):e.effects.save(s,o),s.show(),v=e.effects.createWrapper(s).css({overflow:"hidden"}),m=v[l](),g=parseFloat(v.css(c))||0,p[l]=d?m:0,h||(s.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),p[c]=d?g:m+g),d&&(v.css(l,0),h||v.css(c,g+m)),v.animate(p,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){u==="hide"&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}})(jQuery);(function(e,t){e.effects.effect.bounce=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),o=s==="hide",u=s==="show",a=t.direction||"up",f=t.distance,l=t.times||5,c=l*2+(u||o?1:0),h=t.duration/c,p=t.easing,d=a==="up"||a==="down"?"top":"left",v=a==="up"||a==="left",m,g,y,b=r.queue(),w=b.length;(u||o)&&i.push("opacity"),e.effects.save(r,i),r.show(),e.effects.createWrapper(r),f||(f=r[d==="top"?"outerHeight":"outerWidth"]()/3),u&&(y={opacity:1},y[d]=0,r.css("opacity",0).css(d,v?-f*2:f*2).animate(y,h,p)),o&&(f/=Math.pow(2,l-1)),y={},y[d]=0;for(m=0;m<l;m++)g={},g[d]=(v?"-=":"+=")+f,r.animate(g,h,p).animate(y,h,p),f=o?f*2:f/2;o&&(g={opacity:0},g[d]=(v?"-=":"+=")+f,r.animate(g,h,p)),r.queue(function(){o&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,c+1))),r.dequeue()}})(jQuery);(function(e,t){e.effects.effect.clip=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=t.direction||"vertical",a=u==="vertical",f=a?"height":"width",l=a?"top":"left",c={},h,p,d;e.effects.save(r,i),r.show(),h=e.effects.createWrapper(r).css({overflow:"hidden"}),p=r[0].tagName==="IMG"?h:r,d=p[f](),o&&(p.css(f,0),p.css(l,d/2)),c[f]=o?d:0,c[l]=o?0:d/2,p.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){o||r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}})(jQuery);(function(e,t){e.effects.effect.drop=function(t,n){var r=e(this),i=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=t.direction||"left",a=u==="up"||u==="down"?"top":"left",f=u==="up"||u==="left"?"pos":"neg",l={opacity:o?1:0},c;e.effects.save(r,i),r.show(),e.effects.createWrapper(r),c=t.distance||r[a==="top"?"outerHeight":"outerWidth"](!0)/2,o&&r.css("opacity",0).css(a,f==="pos"?-c:c),l[a]=(o?f==="pos"?"+=":"-=":f==="pos"?"-=":"+=")+c,r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}})(jQuery);(function(e,t){e.effects.effect.explode=function(t,n){function y(){c.push(this),c.length===r*i&&b()}function b(){s.css({visibility:"visible"}),e(c).remove(),u||s.hide(),n()}var r=t.pieces?Math.round(Math.sqrt(t.pieces)):3,i=r,s=e(this),o=e.effects.setMode(s,t.mode||"hide"),u=o==="show",a=s.show().css("visibility","hidden").offset(),f=Math.ceil(s.outerWidth()/i),l=Math.ceil(s.outerHeight()/r),c=[],h,p,d,v,m,g;for(h=0;h<r;h++){v=a.top+h*l,g=h-(r-1)/2;for(p=0;p<i;p++)d=a.left+p*f,m=p-(i-1)/2,s.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-p*f,top:-h*l}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:l,left:d+(u?m*f:0),top:v+(u?g*l:0),opacity:u?0:1}).animate({left:d+(u?0:m*f),top:v+(u?0:g*l),opacity:u?1:0},t.duration||500,t.easing,y)}}})(jQuery);(function(e,t){e.effects.effect.fade=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"toggle");r.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}})(jQuery);(function(e,t){e.effects.effect.fold=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=s==="hide",a=t.size||15,f=/([0-9]+)%/.exec(a),l=!!t.horizFirst,c=o!==l,h=c?["width","height"]:["height","width"],p=t.duration/2,d,v,m={},g={};e.effects.save(r,i),r.show(),d=e.effects.createWrapper(r).css({overflow:"hidden"}),v=c?[d.width(),d.height()]:[d.height(),d.width()],f&&(a=parseInt(f[1],10)/100*v[u?0:1]),o&&d.css(l?{height:0,width:a}:{height:a,width:0}),m[h[0]]=o?v[0]:a,g[h[1]]=o?v[1]:0,d.animate(m,p,t.easing).animate(g,p,t.easing,function(){u&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()})}})(jQuery);(function(e,t){e.effects.effect.highlight=function(t,n){var r=e(this),i=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(r,t.mode||"show"),o={backgroundColor:r.css("backgroundColor")};s==="hide"&&(o.opacity=0),e.effects.save(r,i),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),n()}})}})(jQuery);(function(e,t){e.effects.effect.pulsate=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"show"),s=i==="show",o=i==="hide",u=s||i==="hide",a=(t.times||5)*2+(u?1:0),f=t.duration/a,l=0,c=r.queue(),h=c.length,p;if(s||!r.is(":visible"))r.css("opacity",0).show(),l=1;for(p=1;p<a;p++)r.animate({opacity:l},f,t.easing),l=1-l;r.animate({opacity:l},f,t.easing),r.queue(function(){o&&r.hide(),n()}),h>1&&c.splice.apply(c,[1,0].concat(c.splice(h,a+1))),r.dequeue()}})(jQuery);(function(e,t){e.effects.effect.puff=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"hide"),s=i==="hide",o=parseInt(t.percent,10)||150,u=o/100,a={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:n,percent:s?o:100,from:s?a:{height:a.height*u,width:a.width*u,outerHeight:a.outerHeight*u,outerWidth:a.outerWidth*u}}),r.effect(t)},e.effects.effect.scale=function(t,n){var r=e(this),i=e.extend(!0,{},t),s=e.effects.setMode(r,t.mode||"effect"),o=parseInt(t.percent,10)||(parseInt(t.percent,10)===0?0:s==="hide"?0:100),u=t.direction||"both",a=t.origin,f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},l={y:u!=="horizontal"?o/100:1,x:u!=="vertical"?o/100:1};i.effect="size",i.queue=!1,i.complete=n,s!=="effect"&&(i.origin=a||["middle","center"],i.restore=!0),i.from=t.from||(s==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:f),i.to={height:f.height*l.y,width:f.width*l.x,outerHeight:f.outerHeight*l.y,outerWidth:f.outerWidth*l.x},i.fade&&(s==="show"&&(i.from.opacity=0,i.to.opacity=1),s==="hide"&&(i.from.opacity=1,i.to.opacity=0)),r.effect(i)},e.effects.effect.size=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],l=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),d=t.restore||p!=="effect",v=t.scale||"both",m=t.origin||["middle","center"],g=o.css("position"),y=d?u:a,b={height:0,width:0,outerHeight:0,outerWidth:0};p==="show"&&o.show(),r={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},t.mode==="toggle"&&p==="show"?(o.from=t.to||b,o.to=t.from||r):(o.from=t.from||(p==="show"?b:r),o.to=t.to||(p==="hide"?b:r)),s={from:{y:o.from.height/r.height,x:o.from.width/r.width},to:{y:o.to.height/r.height,x:o.to.width/r.width}};if(v==="box"||v==="both")s.from.y!==s.to.y&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,s.from.y,o.from),o.to=e.effects.setTransition(o,c,s.to.y,o.to)),s.from.x!==s.to.x&&(y=y.concat(h),o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to));(v==="content"||v==="both")&&s.from.y!==s.to.y&&(y=y.concat(l).concat(f),o.from=e.effects.setTransition(o,l,s.from.y,o.from),o.to=e.effects.setTransition(o,l,s.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(i=e.effects.getBaseline(m,r),o.from.top=(r.outerHeight-o.outerHeight())*i.y,o.from.left=(r.outerWidth-o.outerWidth())*i.x,o.to.top=(r.outerHeight-o.to.outerHeight)*i.y,o.to.left=(r.outerWidth-o.to.outerWidth)*i.x),o.css(o.from);if(v==="content"||v==="both")c=c.concat(["marginTop","marginBottom"]).concat(l),h=h.concat(["marginLeft","marginRight"]),f=u.concat(c).concat(h),o.find("*[width]").each(function(){var n=e(this),r={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};d&&e.effects.save(n,f),n.from={height:r.height*s.from.y,width:r.width*s.from.x,outerHeight:r.outerHeight*s.from.y,outerWidth:r.outerWidth*s.from.x},n.to={height:r.height*s.to.y,width:r.width*s.to.x,outerHeight:r.height*s.to.y,outerWidth:r.width*s.to.x},s.from.y!==s.to.y&&(n.from=e.effects.setTransition(n,c,s.from.y,n.from),n.to=e.effects.setTransition(n,c,s.to.y,n.to)),s.from.x!==s.to.x&&(n.from=e.effects.setTransition(n,h,s.from.x,n.from),n.to=e.effects.setTransition(n,h,s.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){d&&e.effects.restore(n,f)})});o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){o.to.opacity===0&&o.css("opacity",o.from.opacity),p==="hide"&&o.hide(),e.effects.restore(o,y),d||(g==="static"?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,n){var r=parseInt(n,10),i=e?o.to.left:o.to.top;return n==="auto"?i+"px":r+i+"px"})})),e.effects.removeWrapper(o),n()}})}})(jQuery);(function(e,t){e.effects.effect.shake=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),o=t.direction||"left",u=t.distance||20,a=t.times||3,f=a*2+1,l=Math.round(t.duration/f),c=o==="up"||o==="down"?"top":"left",h=o==="up"||o==="left",p={},d={},v={},m,g=r.queue(),y=g.length;e.effects.save(r,i),r.show(),e.effects.createWrapper(r),p[c]=(h?"-=":"+=")+u,d[c]=(h?"+=":"-=")+u*2,v[c]=(h?"-=":"+=")+u*2,r.animate(p,l,t.easing);for(m=1;m<a;m++)r.animate(d,l,t.easing).animate(v,l,t.easing);r.animate(d,l,t.easing).animate(p,l/2,t.easing).queue(function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}),y>1&&g.splice.apply(g,[1,0].concat(g.splice(y,f+1))),r.dequeue()}})(jQuery);(function(e,t){e.effects.effect.slide=function(t,n){var r=e(this),i=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(r,t.mode||"show"),o=s==="show",u=t.direction||"left",a=u==="up"||u==="down"?"top":"left",f=u==="up"||u==="left",l,c={};e.effects.save(r,i),r.show(),l=t.distance||r[a==="top"?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),o&&r.css(a,f?isNaN(l)?"-"+l:-l:l),c[a]=(o?f?"+=":"-=":f?"-=":"+=")+l,r.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}})(jQuery);(function(e,t){e.effects.effect.transfer=function(t,n){var r=e(this),i=e(t.to),s=i.css("position")==="fixed",o=e("body"),u=s?o.scrollTop():0,a=s?o.scrollLeft():0,f=i.offset(),l={top:f.top-u,left:f.left-a,height:i.innerHeight(),width:i.innerWidth()},c=r.offset(),h=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:c.top-u,left:c.left-a,height:r.innerHeight(),width:r.innerWidth(),position:s?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){h.remove(),n()})}})(jQuery);;
/*!
 * jQuery UI Position 1.10.1
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function(d,E){function C(a,b,c){return[parseFloat(a[0])*(u.test(a[0])?b/100:1),parseFloat(a[1])*(u.test(a[1])?c/100:1)]}function F(a){var b=a[0];return 9===b.nodeType?{width:a.width(),height:a.height(),offset:{top:0,left:0}}:d.isWindow(b)?{width:a.width(),height:a.height(),offset:{top:a.scrollTop(),left:a.scrollLeft()}}:b.preventDefault?{width:0,height:0,offset:{top:b.pageY,left:b.pageX}}:{width:a.outerWidth(),height:a.outerHeight(),offset:a.offset()}}d.ui=d.ui||{};var q,y=Math.max,n=Math.abs,D= Math.round,v=/left|center|right/,w=/top|center|bottom/,z=/[\+\-]\d+(\.[\d]+)?%?/,A=/^\w+/,u=/%$/,G=d.fn.position;d.position={scrollbarWidth:function(){if(q!==E)return q;var a,b,c=d("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");b=c.children()[0];d("body").append(c);a=b.offsetWidth;c.css("overflow","scroll");b=b.offsetWidth;a===b&&(b=c[0].clientWidth);c.remove();return q=a-b},getScrollInfo:function(a){var b=a.isWindow?"":a.element.css("overflow-x"), c=a.isWindow?"":a.element.css("overflow-y"),c="scroll"===c||"auto"===c&&a.height<a.element[0].scrollHeight;return{width:"scroll"===b||"auto"===b&&a.width<a.element[0].scrollWidth?d.position.scrollbarWidth():0,height:c?d.position.scrollbarWidth():0}},getWithinInfo:function(a){a=d(a||window);var b=d.isWindow(a[0]);return{element:a,isWindow:b,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:b?a.width():a.outerWidth(),height:b?a.height():a.outerHeight()}}};d.fn.position= function(a){if(!a||!a.of)return G.apply(this,arguments);a=d.extend({},a);var b,c,g,l,f,e,p=d(a.of),m=d.position.getWithinInfo(a.within),k=d.position.getScrollInfo(m),x=(a.collision||"flip").split(" "),q={};e=F(p);p[0].preventDefault&&(a.at="left top");c=e.width;g=e.height;l=e.offset;f=d.extend({},l);d.each(["my","at"],function(){var b=(a[this]||"").split(" "),c,g;1===b.length&&(b=v.test(b[0])?b.concat(["center"]):w.test(b[0])?["center"].concat(b):["center","center"]);b[0]=v.test(b[0])?b[0]:"center"; b[1]=w.test(b[1])?b[1]:"center";c=z.exec(b[0]);g=z.exec(b[1]);q[this]=[c?c[0]:0,g?g[0]:0];a[this]=[A.exec(b[0])[0],A.exec(b[1])[0]]});1===x.length&&(x[1]=x[0]);"right"===a.at[0]?f.left+=c:"center"===a.at[0]&&(f.left+=c/2);"bottom"===a.at[1]?f.top+=g:"center"===a.at[1]&&(f.top+=g/2);b=C(q.at,c,g);f.left+=b[0];f.top+=b[1];return this.each(function(){var e,u,r=d(this),s=r.outerWidth(),t=r.outerHeight(),v=parseInt(d.css(this,"marginLeft"),10)||0,w=parseInt(d.css(this,"marginTop"),10)||0,z=s+v+(parseInt(d.css(this, "marginRight"),10)||0)+k.width,A=t+w+(parseInt(d.css(this,"marginBottom"),10)||0)+k.height,h=d.extend({},f),B=C(q.my,r.outerWidth(),r.outerHeight());"right"===a.my[0]?h.left-=s:"center"===a.my[0]&&(h.left-=s/2);"bottom"===a.my[1]?h.top-=t:"center"===a.my[1]&&(h.top-=t/2);h.left+=B[0];h.top+=B[1];d.support.offsetFractions||(h.left=D(h.left),h.top=D(h.top));e={marginLeft:v,marginTop:w};d.each(["left","top"],function(f,l){if(d.ui.position[x[f]])d.ui.position[x[f]][l](h,{targetWidth:c,targetHeight:g, elemWidth:s,elemHeight:t,collisionPosition:e,collisionWidth:z,collisionHeight:A,offset:[b[0]+B[0],b[1]+B[1]],my:a.my,at:a.at,within:m,elem:r})});a.using&&(u=function(b){var d=l.left-h.left,e=d+c-s,f=l.top-h.top,m=f+g-t,k={target:{element:p,left:l.left,top:l.top,width:c,height:g},element:{element:r,left:h.left,top:h.top,width:s,height:t},horizontal:0>e?"left":0<d?"right":"center",vertical:0>m?"top":0<f?"bottom":"middle"};c<s&&n(d+e)<c&&(k.horizontal="center");g<t&&n(f+m)<g&&(k.vertical="middle");y(n(d), n(e))>y(n(f),n(m))?k.important="horizontal":k.important="vertical";a.using.call(this,b,k)});r.offset(d.extend(h,{using:u}))})};d.ui.position={fit:{left:function(a,b){var c=b.within,g=c.isWindow?c.scrollLeft:c.offset.left,d=c.width,f=a.left-b.collisionPosition.marginLeft,c=g-f,e=f+b.collisionWidth-d-g;b.collisionWidth>d?0<c&&0>=e?(g=a.left+c+b.collisionWidth-d-g,a.left+=c-g):a.left=0<e&&0>=c?g:c>e?g+d-b.collisionWidth:g:a.left=0<c?a.left+c:0<e?a.left-e:y(a.left-f,a.left)},top:function(a,b){var c=b.within, g=c.isWindow?c.scrollTop:c.offset.top,d=b.within.height,f=a.top-b.collisionPosition.marginTop,c=g-f,e=f+b.collisionHeight-d-g;b.collisionHeight>d?0<c&&0>=e?(g=a.top+c+b.collisionHeight-d-g,a.top+=c-g):a.top=0<e&&0>=c?g:c>e?g+d-b.collisionHeight:g:a.top=0<c?a.top+c:0<e?a.top-e:y(a.top-f,a.top)}},flip:{left:function(a,b){var c=b.within,d=c.offset.left+c.scrollLeft,l=c.width,f=c.isWindow?c.scrollLeft:c.offset.left,e=a.left-b.collisionPosition.marginLeft,c=e-f,p=e+b.collisionWidth-l-f,e="left"===b.my[0]? -b.elemWidth:"right"===b.my[0]?b.elemWidth:0,m="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,k=-2*b.offset[0];if(0>c){if(d=a.left+e+m+k+b.collisionWidth-l-d,0>d||d<n(c))a.left+=e+m+k}else 0<p&&(d=a.left-b.collisionPosition.marginLeft+e+m+k-f,0<d||n(d)<p)&&(a.left+=e+m+k)},top:function(a,b){var c=b.within,d=c.offset.top+c.scrollTop,l=c.height,f=c.isWindow?c.scrollTop:c.offset.top,e=a.top-b.collisionPosition.marginTop,c=e-f,p=e+b.collisionHeight-l-f,e="top"===b.my[1]?-b.elemHeight: "bottom"===b.my[1]?b.elemHeight:0,m="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,k=-2*b.offset[1];0>c?(d=a.top+e+m+k+b.collisionHeight-l-d,a.top+e+m+k>c&&(0>d||d<n(c))&&(a.top+=e+m+k)):0<p&&(d=a.top-b.collisionPosition.marginTop+e+m+k-f,a.top+e+m+k>p&&(0<d||n(d)<p)&&(a.top+=e+m+k))}},flipfit:{left:function(){d.ui.position.flip.left.apply(this,arguments);d.ui.position.fit.left.apply(this,arguments)},top:function(){d.ui.position.flip.top.apply(this,arguments);d.ui.position.fit.top.apply(this, arguments)}}};(function(){var a,b,c,g,l=document.getElementsByTagName("body")[0];c=document.createElement("div");a=document.createElement(l?"div":"body");b={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};l&&d.extend(b,{position:"absolute",left:"-1000px",top:"-1000px"});for(g in b)a.style[g]=b[g];a.appendChild(c);b=l||document.documentElement;b.insertBefore(a,b.firstChild);c.style.cssText="position: absolute; left: 10.7432222px;";c=d(c).offset().left;d.support.offsetFractions= 10<c&&11>c;a.innerHTML="";b.removeChild(a)})()})(jQuery);function __wijReadOptionEvents(e,t){for(var n=0;n<e.length;n++)t.options[e[n]]!==null&&t.element.bind(e[n],t.options[e[n]]);for(var n in t.options)if(n.indexOf(" ")!==-1){var r=n.split(" ");for(var i=0;i<r.length;i++)r[i].length>0&&t.element.bind(r[i],t.options[n])}}function wijmoASPNetParseOptionsReviewer(o,k){var a,v=o[k],d;if(v)switch(typeof v){case"string":a=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?):(\d{3})Z$/.exec(v),a&&(d=new Date(+a[1],+a[2]-1,+a[3],+a[4],+a[5],+a[6],+a[7]),d.setFullYear(+a[1]),o[k]=d);break;case"object":if(v.needQuotes!==undefined&&v.valueString!==undefined)v.needQuotes?o[k]=v.valueString:o[k]=eval(v.valueString);else for(k in v)wijmoASPNetParseOptionsReviewer(v,k)}}function wijmoASPNetParseOptions(e){var t;if(!e)return e;for(t in e)wijmoASPNetParseOptionsReviewer(e,t);return e}var wijmo;(function(e){function t(e){return isNaN(e)?0:e}function f(){if($.ui&&$.ui.keyCode)return $.ui.keyCode;if($.mobile&&$.mobile.keyCode)return $.mobile.keyCode;throw"keyCode object is not found"}function l(e){var t,n=new Array;if(e==null||e.length==0||typeof e!="string")return"";t=e.split(" ");for(var r=0;r<t.length;r++)t[r].length!=0&&n.push(t[r]);return n.length==0?"":n.join(".")}function c(e){return $("<div/>").text(e).html()}function h(e){return $("<div/>").html(e).text()}$.fn.extend({wijtextselection:function(){var e,t,n=this[0],r=this.val();if(arguments.length===0){var i,s,o,u;if(typeof n.selectionStart!="undefined")o=n.selectionStart,u=n.selectionEnd;else try{var a=document.selection;n.tagName.toLowerCase()!="textarea"?(i=a.createRange().duplicate(),i.moveEnd("character",r.length),o=i.text===""?r.length:r.lastIndexOf(i.text),i=a.createRange().duplicate(),i.moveStart("character",-r.length),u=i.text.length):(i=a.createRange(),s=i.duplicate(),s.moveToElementText(n),s.setEndPoint("EndToEnd",i),o=s.text.length-i.text.length,u=o+i.text.length)}catch(u){}var f=r.substring(o,u);return{start:o,end:u,text:f,replace:function(e){return r.substring(0,o)+e+r.substring(u,r.length)}}}if(arguments.length===1){if(typeof arguments[0]=="object"&&typeof arguments[0].start=="number"&&typeof arguments[0].end=="number")e=arguments[0].start,t=arguments[0].end;else if(typeof arguments[0]=="string")(e=r.indexOf(arguments[0]))>-1&&(t=e+arguments[0].length);else if(Object.prototype.toString.call(arguments[0])==="[object RegExp]"){var l=arguments[0].exec(r);l!=null&&(e=l.index,t=e+l[0].length)}}else arguments.length===2&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"&&(e=arguments[0],t=arguments[1]);typeof e=="undefined"&&(e=0,t=r.length);if(typeof n.createTextRange!="undefined"){var c=n.createTextRange();c.collapse(!0),c.moveStart("character",e),c.moveEnd("character",t-e),c.select()}else n.selectionStart=e,n.selectionEnd=t},wijContent:function(e){return this.each(function(){this.innerHTML='<iframe frameborder="0" style="width: 100%; height: 100%;" src="'+e+'">"'})},wijAddVisibilityObserver:function(e,t){return this.each(function(){var n=this;$(this).addClass("wijmo-wijobserver-visibility"),$(this).bind("wijmovisibilitychanged"+(t?"."+t:""),function(t){e.apply(n,arguments),t.stopPropagation()})})},wijRemoveVisibilityObserver:function(e){return this.each(function(){$(this).removeClass("wijmo-wijobserver-visibility"),e?jQuery.isFunction(e)?$(this).unbind("wijmovisibilitychanged",e):$(this).unbind("wijmovisibilitychanged."+e):$(this).unbind("wijmovisibilitychanged")})},wijTriggerVisibility:function(){return this.each(function(){var e=$(this);e.hasClass("wijmo-wijobserver-visibility")&&e.trigger("wijmovisibilitychanged"),e.find(".wijmo-wijobserver-visibility").trigger("wijmovisibilitychanged")})},leftBorderWidth:function(){var e=parseFloat($(this).css("borderLeftWidth")),n=parseFloat($(this).css("padding-left")),r=0;return $(this).css("margin-left")!=="auto"&&(r=parseFloat($(this).css("margin-left"))),t(e)+t(n)+t(r)},rightBorderWidth:function(){var e=parseFloat($(this).css("borderRightWidth")),n=parseFloat($(this).css("padding-right")),r=0;return $(this).css("margin-right")!=="auto"&&(r=parseFloat($(this).css("margin-right"))),t(e)+t(n)+t(r)},topBorderWidth:function(){var e=parseFloat($(this).css("borderTopWidth")),n=parseFloat($(this).css("padding-top")),r=0;return $(this).css("margin-top")!=="auto"&&(r=parseFloat($(this).css("margin-top"))),t(e)+t(n)+t(r)},bottomBorderWidth:function(){var e=parseFloat($(this).css("borderBottomWidth")),n=parseFloat($(this).css("padding-bottom")),r=0;return $(this).css("margin-bottom")!=="auto"&&(r=parseFloat($(this).css("margin-bottom"))),t(e)+t(n)+t(r)},borderSize:function(){var e=$(this).leftBorderWidth()+$(this).rightBorderWidth(),t=$(this).topBorderWidth()+$(this).bottomBorderWidth(),n={width:e,height:t};return n},setOutWidth:function(e){var t=$(this).leftBorderWidth()+$(this).rightBorderWidth();return $(this).width(e-t),this},setOutHeight:function(e){var t=$(this).topBorderWidth()+$(this).bottomBorderWidth();return $(this).height(e-t),this},getWidget:function(){var e=this.data("widgetName");return e&&e!==""?this.data(e):null},wijshow:function(e,t,n,r,i){var s=e.animated||!1,o=e.duration||400,u=e.easing,a=e.option||{};r&&$.isFunction(r)&&r.call(this);if(s){if(t&&t[s]){t[s](e,$.extend(n,{complete:i}));return}if($.effects)if($.effects[s]||$.effects.effect&&$.effects.effect[s]){this.show(s,$.extend(a,{easing:u}),o,i);return}}this.show(),i&&$.isFunction(i)&&i.call(this)},wijhide:function(e,t,n,r,i){var s=e.animated||!1,o=e.duration||400,u=e.easing,a=e.option||{};r&&$.isFunction(r)&&r.call(this);if(s){if(t&&t[s]){t[s](e,$.extend(n,{complete:i}));return}if($.effects)if($.effects[s]||$.effects.effect&&$.effects.effect[s]){this.stop().hide(s,$.extend(a,{easing:u}),o,i);return}}this.hide(),i&&$.isFunction(i)&&i.call(this)}}),$.save=function(e,t){if($.effects)return $.effects.save(e,t);for(var n=0;n<t.length;n++)t[n]!==null&&e.data("ec.storage."+t[n],e[0].style[t[n]])},$.restore=function(e,t){if($.effects)return $.effects.restore(e,t);for(var n=0;n<t.length;n++)t[n]!==null&&e.css(t[n],e.data("ec.storage."+t[n]))},$.createWrapper=function(e){if($.effects)return $.effects.createWrapper(e);if(e.parent().is(".ui-effects-wrapper"))return e.parent();var t={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r=document.activeElement;return e.wrap(n),(e[0]===r||$.contains(e[0],r))&&$(r).focus(),n=e.parent(),e.css("position")=="static"?(n.css({position:"relative"}),e.css({position:"relative"})):($.extend(t,{position:e.css("position"),zIndex:e.css("z-index")}),$.each(["top","left","bottom","right"],function(n,r){t[r]=e.css(r),isNaN(parseInt(t[r],10))&&(t[r]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(t).show()},$.removeWrapper=function(e){if($.effects)return $.effects.removeWrapper(e);var t,n=document.activeElement;return e.parent().is(".ui-effects-wrapper")?(t=e.parent().replaceWith(e),(e[0]===n||$.contains(e[0],n))&&$(n).focus(),t):e},$.fn.hasAllClasses=function(e){var t,n=(e||"").match(/\S+/g)||[];if(n.length===0)return!1;for(t=0;t<n.length;t++)if(!this.hasClass(n[t]))return!1;return!0},$.setMode=function(e,t){return $.effects?$.effects.setMode(e,t):(t==="toggle"&&(t=e.is(":hidden")?"show":"hide"),t)};var n=function(){};$.extend(n.prototype,{_UTFPunctuationsString:" ! \" # % & ' ( ) * , - . / : ; ? @ [ \\ ] { } \u00a1 \u00ab \u00ad \u00b7 \u00bb \u00bf \u037e \u0387 \u055a \u055b \u055c \u055d \u055e \u055f \u0589 \u058a \u05be \u05c0 \u05c3 \u05f3 \u05f4 \u060c \u061b \u061f \u066a \u066b \u066c \u066d \u06d4 \u0700 \u0701 \u0702 \u0703 \u0704 \u0705 \u0706 \u0707 \u0708 \u0709 \u070a \u070b \u070c \u070d \u0964 \u0965 \u0970 \u0df4 \u0e4f \u0e5a \u0e5b \u0f04 \u0f05 \u0f06 \u0f07 \u0f08 \u0f09 \u0f0a \u0f0b \u0f0c \u0f0d \u0f0e \u0f0f \u0f10 \u0f11 \u0f12 \u0f3a \u0f3b \u0f3c \u0f3d \u0f85 \u104a \u104b \u104c \u104d \u104e \u104f \u10fb \u1361 \u1362 \u1363 \u1364 \u1365 \u1366 \u1367 \u1368 \u166d \u166e \u169b \u169c \u16eb \u16ec \u16ed \u17d4 \u17d5 \u17d6 \u17d7 \u17d8 \u17d9 \u17da \u17dc \u1800 \u1801 \u1802 \u1803 \u1804 \u1805 \u1806 \u1807 \u1808 \u1809 \u180a \u2010 \u2011 \u2012 \u2013 \u2014 \u2015 \u2016 \u2017 \u2018 \u2019 \u201a \u201b \u201c \u201d \u201e \u201f \u2020 \u2021 \u2022 \u2023 \u2024 \u2025 \u2026 \u2027 \u2030 \u2031 \u2032 \u2033 \u2034 \u2035 \u2036 \u2037 \u2038 \u2039 \u203a \u203b \u203c \u203d \u203e \u2041 \u2042 \u2043 \u2045 \u2046 \u2048 \u2049 \u204a \u204b \u204c \u204d \u207d \u207e \u208d \u208e \u2329 \u232a \u3001 \u3002 \u3003 \u3008 \u3009 \u300a \u300b \u300c \u300d \u300e \u300f \u3010 \u3011 \u3014 \u3015 \u3016 \u3017 \u3018 \u3019 \u301a \u301b \u301c \u301d \u301e \u301f \u3030 \ufd3e \ufd3f \ufe30 \ufe31 \ufe32 \ufe35 \ufe36 \ufe37 \ufe38 \ufe39 \ufe3a \ufe3b \ufe3c \ufe3d \ufe3e \ufe3f \ufe40 \ufe41 \ufe42 \ufe43 \ufe44 \ufe49 \ufe4a \ufe4b \ufe4c \ufe50 \ufe51 \ufe52 \ufe54 \ufe55 \ufe56 \ufe57 \ufe58 \ufe59 \ufe5a \ufe5b \ufe5c \ufe5d \ufe5e \ufe5f \ufe60 \ufe61 \ufe63 \ufe68 \ufe6a \ufe6b \uff01 \uff02 \uff03 \uff05 \uff06 \uff07 \uff08 \uff09 \uff0a \uff0c \uff0d \uff0e \uff0f \uff1a \uff1b \uff1f \uff20 \uff3b \uff3c \uff3d \uff5b \uff5d \uff61 \uff62 \uff63 \uff64';this.UTFWhitespacesString_='	  \f    \u00a0 \u1680 \u2000 \u2001 \u2002 \u2003 \u2004 \u2005 \u2006 \u2007 \u2008 \u2009 \u200a \u200b \u2028 \u202f \u3000",isDigit:function(e){var t=e.charCodeAt(0);return t>=48&&t<58},isLetter:function(e){return!!(e+"").match(new RegExp("[A-Za-z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u021f\u0222-\u0233\u0250-\u02ad\u02b0-\u02b8\u02bb-\u02c1\u02d0\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03d7\u03da-\u03f3\u0400-\u0481\u048c-\u04c4\u04c7\u04c8\u04cb\u04cc\u04d0-\u04f5\u04f8\u04f9\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u0671-\u06d3\u06d5\u06e5\u06e6\u06fa-\u06fc\u0710\u0712-\u072c\u0780-\u07a5\u0905-\u0939\u093d\u0950\u0958-\u0961\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8b\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b36-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb5\u0bb7-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cde\u0ce0\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10f6\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1206\u1208-\u1246\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1286\u1288\u128a-\u128d\u1290-\u12ae\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12ce\u12d0-\u12d6\u12d8-\u12ee\u12f0-\u130e\u1310\u1312-\u1315\u1318-\u131e\u1320-\u1346\u1348-\u135a\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1780-\u17b3\u1820-\u1877\u1880-\u18a8\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u207f\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u3005\u3006\u3031-\u3035\u3041-\u3094\u309d\u309e\u30a1-\u30fa\u30fc-\u30fe\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u3400-\u4db5\u4e00-\u9fa5\ua000-\ua48c\uac00-\ud7a3\uf900-\ufa2d\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe72\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"))},isLetterOrDigit:function(e){return this.isLetter(e)||this.isDigit(e)},isDoubleByteNumber:function(e){var t=e.charCodeAt(0);return t>=65296&&t<65306},isSymbol:function(e){var t=new RegExp("[$+<->^`|~\u00a2-\u00a9\u00ac\u00ae-\u00b1\u00b4\u00b6\u00b8\u00d7\u00f7\u02b9\u02ba\u02c2-\u02cf\u02d2-\u02df\u02e5-\u02ed\u0374\u0375\u0384\u0385\u0482\u06e9\u06fd\u06fe\u09f2\u09f3\u09fa\u0b70\u0e3f\u0f01-\u0f03\u0f13-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fcf\u17db\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u2044\u207a-\u207c\u208a-\u208c\u20a0-\u20af\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211e-\u2123\u2125\u2127\u2129\u212e\u2132\u213a\u2190-\u21f3\u2200-\u22f1\u2300-\u2328\u232b-\u237b\u237d-\u239a\u2400-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u2595\u25a0-\u25f7\u2600-\u2613\u2619-\u2671\u2701-\u2704\u2706-\u2709\u270c-\u2727\u2729-\u274b\u274d\u274f-\u2752\u2756\u2758-\u275e\u2761-\u2767\u2794\u2798-\u27af\u27b1-\u27be\u2800-\u28ff\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u309b\u309c\u3190\u3191\u3196-\u319f\u3200-\u321c\u322a-\u3243\u3260-\u327b\u327f\u328a-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\ua490-\ua4a1\ua4a4-\ua4b3\ua4b5-\ua4c0\ua4c2-\ua4c4\ua4c6\ufb29\ufe62\ufe64-\ufe66\ufe69\uff04\uff0b\uff1c-\uff1e\uff3e\uff40\uff5c\uff5e\uffe0-\uffe6\uffe8-\uffee\ufffc\ufffd]");return t.test(e+"")},isPunctuation:function(e){return this._UTFPunctuationsString.indexOf(e)>=0},isPrintableChar:function(e){return!this.isLetterOrDigit(e)&&!this.isPunctuation(e)&&!this.isSymbol(e)&&!this.isDoubleByteNumber(e)?e===" ":!0},isAscii:function(e){return e>="!"&&e<="~"},isAsciiLetter:function(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"},isUpper:function(e){return e.toUpperCase()===e},isLower:function(e){return e.toLowerCase()===e},isAlphanumeric:function(e){return this.isLetter(e)?!0:this.isDigit(e)},isAciiAlphanumeric:function(e){return(e<"0"||e>"9")&&(e<"A"||e>"Z")?e>="a"?e<="z":!1:!0},setChar:function(e,t,n){return n>=e.length||n<0?e:e.substr(0,n)+t+e.substr(n+1)}}),$.fn.zIndex||($.fn.zIndex=function(e){if(e!==undefined)return this.css("zIndex",e);if(this.length){var t=$(this[0]),n,r;while(t.length&&t[0]!==document){n=t.css("position");if(n==="absolute"||n==="relative"||n==="fixed"){r=parseInt(t.css("zIndex"),10);if(!isNaN(r)&&r!==0)return r}t=t.parent()}}return 0});var r=["\n","\r",'"',"@","+","'","<",">","%","{","}"],i=["!ESC!NN!","!ESC!RR!","!ESC!01!","!ESC!02!","!ESC!03!","!ESC!04!","!ESC!05!","!ESC!06!","!ESC!07!","!ESC!08!","!ESC!09!"],s=["(\n)","(\r)",'(")',"(@)","(\\+)","(')","(\\<)","(\\>)","(%)","(\\{)","(\\})"];$.wij||$.extend({wij:{charValidator:new n,encodeString:function(e){for(var t=0;t<r.length;t++){var n=new RegExp(s[t],"g");e=e.replace(n,i[t])}return e},decodeString:function(e){if(e==="")return;for(var t=0;t<i.length;t++){var n=new RegExp(i[t],"g");e=e.replace(n,r[t])}return e}}}),jQuery.uaMatch||(jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}});if(!jQuery.browser){var o=jQuery.uaMatch(navigator.userAgent),u={version:"0",msie:!1,opera:!1,safari:!1,mozilla:!1,webkit:!1,chrome:!1};o.browser&&(u[o.browser]=!0,u.version=o.version),u.mozilla&&!!navigator.userAgent.match(/Trident\/\d+?\./)&&(u.msie=!0,u.mozilla=!1),u.chrome?u.webkit=!0:u.webkit&&(u.safari=!0),jQuery.browser=u}$.ui&&$.ui.position&&$.ui.position.flipfit&&($.ui.position.flip.top=function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,i=n.height,s=n.isWindow?n.scrollTop:n.offset.top,o=e.top-t.collisionPosition.marginTop,u=o-s,a=o+t.collisionHeight-i-s,f=t.my[1]==="top",l=f?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,c=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,h=-2*t.offset[1],p,d;u<0?(d=e.top+l+c+h+t.collisionHeight-i-r,e.top+l+c+h>u&&(d<0||d<Math.abs(u))&&(e.top+=l+c+h)):a>0&&(p=e.top-t.collisionPosition.marginTop+l+c+h-s,e.top+l+c+h+t.collisionHeight-i-s<a&&(p>0||Math.abs(p)<a)&&(e.top+=l+c+h))});var a=$.fn.position;$.fn.position=function(e){if(e&&$.isPlainObject(e)&&e.offset){var t=(e.my||"").split(" "),n=/left|center|right/,r=/top|center|bottom/,i=(e.offset||"").split(" ");t.length===1&&(n.test(t[0])?t.concat(["center"]):r.test(t[0])?["center"].concat(t):["center","center"]),i.length===1&&i.concat(i[0]),$.each(t,function(e,n){/\+|-/.test(i[e])?t[e]=t[e]+i[e]:t[e]=t[e]+"+"+i[e]}),e.my=t.join(" ")}return a.apply(this,arguments)},e.getKeyCodeEnum=f,e.getCSSSelector=l,e.htmlEncode=c,e.htmlDecode=h})(wijmo||(wijmo={}));var wijmo;(function(e){(function(e){var t=function(){function e(){this.characterEscaped=1,this.noEffect=2,this.sideEffect=3,this.success=4,this.unknown=0,this.hint=0,this.asciiCharacterExpected=-1,this.alphanumericCharacterExpected=-2,this.digitExpected=-3,this.invalidInput=-51,this.letterExpected=-4,this.nonEditPosition=-54,this.positionOutOfRange=-55,this.promptCharNotAllowed=-52,this.unavailableEditPosition=-53,this.testPosition=-1}return e}();e.wijInputResult=t})(e.input||(e.input={}));var t=e.input})(wijmo||(wijmo={})),$.wijinputcore=$.wijinputcore||{},$.wijinputcore.format=$.wijinputcore.format||function(e,t,n){return typeof e=="number"||e instanceof Number?$.wijinputcore.formatnumber(e,t,n):e instanceof Date?$.wijinputcore.formatdate(e,t,n):$.wijinputcore.formatmask(e,t,n)};;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){var t=jQuery,n=function(){function e(){}return e.autoMobilize=!0,e.wijCSS={widget:"ui-widget",overlay:"ui-widget-overlay",content:"ui-widget-content",header:"ui-widget-header",stateDisabled:"ui-state-disabled",stateFocus:"ui-state-focus",stateActive:"ui-state-active",stateDefault:"ui-state-default",stateHighlight:"ui-state-highlight",stateHover:"ui-state-hover",stateChecked:"ui-state-checked",stateError:"ui-state-error",getState:function(e){return e=e.charAt(0).toUpperCase()+e.substr(1),t.wijmo.wijCSS["state"+e]},icon:"ui-icon",iconCheck:"ui-icon-check",iconRadioOn:"ui-icon-radio-on",iconRadioOff:"ui-icon-radio-off",iconClose:"ui-icon-close",iconArrow4Diag:"ui-icon-arrow-4-diag",iconNewWin:"ui-icon-newwin",iconVGripSolid:"ui-icon-grip-solid-vertical",iconHGripSolid:"ui-icon-grip-solid-horizontal",iconPlay:"ui-icon-play",iconPause:"ui-icon-pause",iconStop:"ui-icon-stop",iconArrowUp:"ui-icon-triangle-1-n",iconArrowRight:"ui-icon-triangle-1-e",iconArrowDown:"ui-icon-triangle-1-s",iconArrowLeft:"ui-icon-triangle-1-w",iconArrowRightDown:"ui-icon-triangle-1-se",iconArrowThickDown:"ui-icon-arrowthick-1-s glyphicon glyphicon-arrow-down",iconArrowThickUp:"ui-icon-arrowthick-1-n glyphicon glyphicon-arrow-up",iconCaratUp:"ui-icon-carat-1-n",iconCaratRight:"ui-icon-carat-1-e",iconCaratDown:"ui-icon-carat-1-s",iconCaratLeft:"ui-icon-carat-1-w",iconClock:"ui-icon-clock glyphicon glyphicon-time",iconPencil:"ui-icon-pencil glyphicon glyphicon-pencil",iconSeekFirst:"ui-icon-seek-first",iconSeekEnd:"ui-icon-seek-end",iconSeekNext:"ui-icon-seek-next",iconSeekPrev:"ui-icon-seek-prev",iconPrint:"ui-icon-print",iconDisk:"ui-icon-disk",iconSeekStart:"ui-icon-seek-start",iconFullScreen:"ui-icon-newwin",iconContinousView:"ui-icon-carat-2-n-s",iconZoomIn:"ui-icon-zoomin",iconZoomOut:"ui-icon-zoomout",iconBookmark:"ui-icon-bookmark",iconSearch:"ui-icon-search",iconImage:"ui-icon-image",inputSpinnerLeft:"ui-input-spinner-left",inputSpinnerRight:"ui-input-spinner-right",inputTriggerLeft:"ui-input-trigger-left",inputTriggerRight:"ui-input-trigger-right",inputSpinnerTriggerLeft:"ui-input-spinner-trigger-left",inputSpinnerTriggerRight:"ui-input-spinner-trigger-right",cornerAll:"ui-corner-all",cornerLeft:"ui-corner-left",cornerRight:"ui-corner-right",cornerBottom:"ui-corner-bottom",cornerBL:"ui-corner-bl",cornerBR:"ui-corner-br",cornerTop:"ui-corner-top",cornerTL:"ui-corner-tl",cornerTR:"ui-corner-tr",helperClearFix:"ui-helper-clearfix",helperReset:"ui-helper-reset",helperHidden:"ui-helper-hidden",priorityPrimary:"ui-priority-primary",prioritySecondary:"ui-priority-secondary",button:"ui-button",buttonText:"ui-button-text",buttonTextOnly:"ui-button-text-only",tabs:"ui-tabs",tabsTop:"ui-tabs-top",tabsBottom:"ui-tabs-bottom",tabsLeft:"ui-tabs-left",tabsRight:"ui-tabs-right",tabsLoading:"ui-tabs-loading",tabsActive:"ui-tabs-active",tabsPanel:"ui-tabs-panel",tabsNav:"ui-tabs-nav",tabsHide:"ui-tabs-hide",tabsCollapsible:"ui-tabs-collapsible",activeMenuitem:"ui-active-menuitem"},e.wijMobileCSS={content:"ui-content",header:"ui-header",overlay:"ui-overlay",stateDisabled:"ui-state-disabled",stateFocus:"ui-focus",stateActive:"ui-btn-active",stateDefault:"ui-btn ui-btn-a",icon:"ui-icon ui-btn-icon-notext",iconArrowUp:"ui-icon-carat-u",iconArrowRight:"ui-icon-carat-r",iconArrowDown:"ui-icon-carat-d",iconArrowLeft:"ui-icon-carat-l",iconArrowRightDown:"ui-icon-carat-d",iconSeekFirst:"ui-icon-carat-l",iconSeekEnd:"ui-icon-carat-r",iconSeekNext:"ui-icon-carat-r",iconSeekPrev:"ui-icon-carat-l",iconClose:"ui-icon-delete",iconStop:"ui-icon-grid",iconCheck:"ui-icon-check"},e.wijMobileThemePrefix=["ui-bar","ui-body","ui-overlay","ui-btn"],e.registerWidget=function(n,r,i,s){var o="wijmo."+n,u;typeof i=="function"&&(u=i,i=null);if(i===null||i===undefined)i=t.extend(!0,{},r),r=t.wijmo.widget;i.options=i.options||{},i.options.initSelector=i.options.initSelector||":jqmData(role='"+n+"')",i.initSelector=i.initSelector==null?i.options.initSelector:i.initSelector+i.options.initSelector,t.mobile&&i.options&&i.options.wijMobileCSS&&(i.options.wijCSS=i.options.wijCSS||{},t.extend(i.options.wijCSS,i.options.wijMobileCSS)),t.widget(o,r,i),u&&u.call()},e.addThemeToMobileCSS=function(r,i){t.each(i,function(n,s){typeof s=="string"?t.each(e.wijMobileThemePrefix,function(e,t){var o=new RegExp("\\b"+t);o.test(s)&&(i[n]=s+" "+t+"-"+r)}):e.addThemeToMobileCSS(r,s)})},e}();t.wijmo=n;var r=function(){function e(){}return e.prototype.destroy=function(){},e.prototype._setOption=function(e,t){},e.prototype._create=function(){},e.prototype._init=function(){},e.prototype.widget=function(){return this.element},e}();e.JQueryUIWidget=r,r.prototype.options={wijCSS:t.wijmo.wijCSS},r.prototype.destroy=function(){t.Widget.prototype.destroy.apply(this,arguments)},r.prototype._setOption=function(e,n){t.Widget.prototype._setOption.apply(this,arguments)},r.prototype._create=function(){t.Widget.prototype._create.apply(this,arguments)},r.prototype._init=function(){t.Widget.prototype._init.apply(this,arguments)};var i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(r);e.JQueryMobileWidget=i,t(window.document).trigger("wijmoinit");var s=function(e){function n(){e.apply(this,arguments),this._widgetCreated=!1}return __extends(n,e),n.prototype._baseWidget=function(){return this._isMobile?t.mobile.widget:t.Widget},n.prototype._createWidget=function(e,n){this._widgetCreated=!0,this._syncEventPrefix&&(this.widgetEventPrefix=this.widgetName),window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),this._baseWidget().prototype._createWidget.apply(this,arguments)},n.prototype._create=function(){this._baseWidget().prototype._create.apply(this,arguments)},n.prototype._init=function(){this._baseWidget().prototype._init.apply(this,arguments)},n.prototype.destroy=function(){this._baseWidget().prototype.destroy.apply(this,arguments)},n.prototype._setOption=function(e,t){this._baseWidget().prototype._setOption.apply(this,arguments),e==="disabled"&&t&&this._isMobile&&this.element.removeClass("ui-state-disabled").addClass(this.options.wijCSS.stateDisabled)},n}(i);e.wijmoWidget=s,s.prototype._syncEventPrefix=!0,s.prototype._isMobile=!1,t.mobile!=null&&t.wijmo.autoMobilize===!0?(t.extend(!0,s.prototype.options.wijCSS,t.wijmo.wijMobileCSS),s.prototype._isMobile=!0,s.prototype.options=t.extend(!0,{},s.prototype.options,s.prototype._baseWidget().prototype.options),s.prototype._getCreateOptions=function(){var e=this.element,n,r=r=function(e){if(typeof e=="undefined")return{};if(e===null)return{};var n=/(?:(?:\{[\n\r\t\s]*(.+?)\s*\:[\n\r\t\s]*)|(?:,[\n\r\t\s]*(.+?)\s*\:[\n\r\t\s]*))('(.*?[^\\])')?/gi,r=/\[.*?(?=[\]\[])|[\]\[].*?(?=[\]])/gi,i=e.replace(n,function(e,t,n,r){var i,s=/[\n\r\t\s]*['"]?([^\{,\s]+?)['"]?\s*:[\n\r\t\s]*/i,o=/\:[\n\r\t\s]*(?:'(.*)')?/i;return i=e.replace(s,'"$1":'),r?i.replace(o,':"$1"'):i}).replace(r,function(e){var t=/'(.*?[^\\])'/g;return e.replace(t,'"$1"')});return t.parseJSON(i)},i=r(e.attr("data-"+t.mobile.nsNormalize("options"))),s;return n=t.mobile.widget.prototype._getCreateOptions.apply(this,arguments),s=t.extend(!0,{},this.options.wijCSS),this.theme=this.options.theme!==undefined?this.options.theme:this.element.jqmData("theme"),this.theme&&t.wijmo.addThemeToMobileCSS(this.theme,s),t.extend(n,{wijCSS:s},i)},t.widget("wijmo.widget",t.mobile.widget,s.prototype),t(document).on("pageshow",function(e,n){if(e.target==null)return;var r=t(e.target);r.wijTriggerVisibility&&r.wijTriggerVisibility()})):(s.prototype.options=t.extend(!0,{},s.prototype.options,s.prototype._baseWidget().prototype.options),t.widget("wijmo.widget",s.prototype))})(wijmo||(wijmo={}));;
function wijmoApplyWijTouchUtilEvents(e){return e}jQuery.extend(jQuery.support,{isTouchEnabled:function(){return"ontouchstart"in window||"ontouchend"in document||window.navigator.msMaxTouchPoints>0||window.navigator.maxTouchPoints>0?!0:!1}});var wijmo;(function(e){(function(e){"use strict";function D(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function P(e,n){var r=e.type,i,s,o,u,a,f,l,c,h;e=t.Event(e),e.nativeType=e.type,e.type=n,i=e.originalEvent,s=t.event.props,r.search(/^(mouse|click)/)>-1&&(s=m);if(i)for(l=s.length,u;l;)u=s[--l],e[u]=i[u];r.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),o=D(i);for(c=0,h=d.length;c<h;c++)u=d[c],e[u]===undefined&&(e[u]=o[u]);if(r.search(/^touch/)!==-1){r=o.touches,a=o.changedTouches,f=r&&r.length?r[0]:a&&a.length?a[0]:undefined;if(f)for(c=0,h=p.length;c<h;c++)u=p[c],e[u]=f[u]}return e}function H(e){var r={},i,s;while(e){i=t.data(e,n);for(s in i)i[s]&&(r[s]=r.hasVirtualBinding=!0);e=e.parentNode}return r}function B(e,r){var i;while(e){i=t.data(e,n);if(i&&(!r||i[r]))return e;e=e.parentNode}return null}function j(){T=!1}function F(){T=!0}function I(){L=0,S.length=0,x=!1,F()}function q(){j()}function R(){U(),y=setTimeout(function(){y=0,I()},t.wijmouse.resetTimerDuration)}function U(){y&&(clearTimeout(y),y=0)}function z(e,n,r){var i;if(r&&r[e]||!r&&B(n.target,e))i=P(n,e),t(n.target).trigger(i);return i}function W(e){var n=t.data(e.target,r),i,s;if(!x&&(!L||L!==n)){i="wij"+e.type;for(s in h)h[s]===e.type&&(i=s);var o=z(i,e);o&&(o.isDefaultPrevented()&&e.preventDefault(),o.isPropagationStopped()&&e.stopPropagation(),o.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}}function X(e){var n=D(e).touches,i,s,u;if(n&&n.length===1||o){i=e.target,s=H(i);if(s.hasVirtualBinding){L=k++,t.data(i,r,L),U(),q(),E=!1,u=D(e);var a=u.touches?u.touches[0]:u;b=a.pageX,w=a.pageY,z("wijmouseover",e,s),z("wijmousedown",e,s)}}}function V(e){if(T)return;E||z("wijmousecancel",e,H(e.target)),E=!0,R()}function $(e){if(T)return;var n=D(e),r=n.touches?n.touches[0]:n,i=E,s=t.wijmouse.moveDistanceThreshold;E=E||Math.abs(r.pageX-b)>s||Math.abs(r.pageY-w)>s;var o=H(e.target);E&&!i&&z("wijmousecancel",e,o),z("wijmousemove",e,o),R()}function J(e){if(T)return;F();var t=H(e.target),n,r;z("wijmouseup",e,t);if(!E){var i=z("wijclick",e,t);i&&i.isDefaultPrevented()&&(n=D(e),r=n.changedTouches?n.changedTouches[0]:n,S.push({touchID:L,x:r.clientX,y:r.clientY}),x=!0)}z("wijmouseout",e,t),E=!1,R()}function K(e){var r=t.data(e,n),i;if(r)for(i in r)if(r[i])return!0;return!1}function Q(){}function G(e){var r=h[e];return{setup:function(i,s){K(this)||t.data(this,n,{});var o=t.data(this,n);o[e]=!0,t(this).bind(r,Q);var u=!1;N&&(g[A]=(g[A]||0)+1,g[A]===1&&(u=!0,C.bind(A,X).bind(O,J).bind(M,$).bind(_,V)));if(!u||A!==r)g[e]=(g[e]||0)+1,g[e]===1&&C.bind(r,W)},teardown:function(i,s){--g[e],g[e]||C.unbind(r,W),N&&(--g[A],g[A]||C.unbind(A,X).unbind(M,$).unbind(O,J).unbind(_,V));var o=t(this),u=t.data(this,n);u&&(u[e]=!1),o.unbind(r,Q),K(this)||o.removeData(n)}}}function ut(e,n,r){var i=r.type;r.nativeType=r.type,r.type=n;try{t([e]).trigger(r)}finally{r.type=i}}function ft(e,t){if(o&&!e.__wijMSGesturePreInit){e.__wijMSGesturePreInit=!0;var n=new MSGesture;n.target=e,e.addEventListener(a,function(e){n.addPointer(e.pointerId)},!1)}}function lt(e,n){var r=ct(n,e);return t(n.target).trigger(r),r}function ct(e,n){var r=e.type,i,s,u,a,f,l,c,h,p;i=e.originalEvent,e=t.Event(e),e.nativeType=e.type,e.type=n,s=t.event.props;if(i)for(c=s.length,a;c;)a=s[--c],e[a]=e[a]||i[a];for(h=0,p=at.length;h<p;h++)a=at[h],e[a]=e[a]||i[a];return o&&e.rotation&&(e.rotation=e.rotation*360/Math.PI),e}var t=jQuery,n="virtualMouseBindings",r="virtualTouchID",i="wijmouseover wijmousedown wijmousemove wijmouseup wijclick wijtap wijdoubletap wijtaphold wijmouseout wijmousecancel".split(" "),s=window.navigator.pointerEnabled,o=(window.navigator.msPointerEnabled||s)&&t.support.isTouchEnabled(),u=s?"pointerover":"MSPointerOver",a=s?"pointerdown":"MSPointerDown",f=s?"pointermove":"MSPointerMove",l=s?"pointerup":"MSPointerUp",c=s?"pointerout":"MSPointerOut",h={wijmouseover:o?u:"mouseover",wijmousedown:o?a:"mousedown",wijmousemove:o?f:"mousemove",wijmouseup:o?l:"mouseup",wijmouseout:o?c:"mouseout",wijmousecancel:o?"mousecancel":"mousecancel",wijclick:o?"MSGestureTap":"click",wijdoubletap:o?"MSGestureDoubleTap":"dblclick",wijtaphold:o?"MSGestureHold":"gesturehold"},p="clientX clientY pageX pageY screenX screenY".split(" "),d="clientX clientY pageX pageY screenX screenY".split(" "),v=t.event.mouseHooks?t.event.mouseHooks.props:[],m=t.event.props.concat(v),g={},y=0,b=0,w=0,E=!1,S=[],x=!1,T=!1,N="addEventListener"in document,C=t(document),k=1,L=0,A=o?a:"touchstart",O=o?l:"touchend",M=o?f:"touchmove",_="scroll";t.wijmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var Y=0;Y<i.length;Y++)t.event.special[i[Y]]=G(i[Y]);N&&document.addEventListener("click",function(e){var n=S.length,i=e.target,s,o,u,a,f,l;if(n){s=e.clientX,o=e.clientY;var c=t.wijmouse.clickDistanceThreshold;u=i;while(u){for(a=0;a<n;a++){f=S[a],l=0;if(u===i&&Math.abs(f.x-s)<c&&Math.abs(f.y-o)<c||t.data(u,r)===f.touchID){e.preventDefault(),e.stopPropagation();return}}u=u.parentNode}}},!0),t.each("touchstart touchmove touchend orientationchange throttledresize wijtap wijtaphold wijswipe wijswipeleft wijswiperight wijscrollstart wijscrollstop".split(" "),function(e,n){t.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},t.attrFn&&(t.attrFn[n]=!0)});var Z="ontouchend"in document,et="touchmove scroll",tt=Z?"touchstart":"mousedown",nt=Z?"touchend":"mouseup",rt=Z?"touchmove":"mousemove",it=Z?"gesturestart":"gesturestart",st=Z?"gesturechange":"gesturechange",ot=Z?"gestureend":"gestureend";o&&(tt=a,nt=l,rt=f,it="MSGestureStart",st="MSGestureChange",ot="MSGestureEnd"),t.event.special.wijscrollstart={enabled:!0,setup:function(){function s(t,n){r=n,ut(e,r?"wijscrollstart":"wijscrollstop",t)}var e=this,n=t(e),r,i;n.bind(et,function(e){if(!t.event.special.wijscrollstart.enabled)return;r||s(e,!0),clearTimeout(i),i=setTimeout(function(){s(e,!1)},50)})}},t.event.special.wijtap={setup:function(){var e=this,n=t(e);n.bind("wijmousedown",function(r){function u(){clearTimeout(o)}function a(){u(),n.unbind("wijclick",f).unbind("wijmouseup",u),t(document).unbind("wijmousecancel",a)}function f(t){a(),i==t.target&&ut(e,"wijtap",t)}if(r.which&&r.which!==1)return!1;var i=r.target,s=r.originalEvent,o;n.bind("wijmouseup",u).bind("wijclick",f),t(document).bind("wijmousecancel",a),o=setTimeout(function(){ut(e,"wijtaphold",t.Event("wijtaphold",{target:i}))},750)})}},t.event.special.wijswipe={scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var e=this,n=t(e);n.bind(tt,function(e){function o(e){if(!i)return;var n=e.originalEvent.touches?e.originalEvent.touches[0]:e;s={time:(new Date).getTime(),coords:[n.pageX,n.pageY]},Math.abs(i.coords[0]-s.coords[0])>t.event.special.wijswipe.scrollSupressionThreshold&&e.preventDefault()}var r=e.originalEvent.touches?e.originalEvent.touches[0]:e,i={time:(new Date).getTime(),coords:[r.pageX,r.pageY],origin:t(e.target)},s;n.bind(rt,o).one(nt,function(e){n.unbind(rt,o),i&&s&&s.time-i.time<t.event.special.wijswipe.durationThreshold&&Math.abs(i.coords[0]-s.coords[0])>t.event.special.wijswipe.horizontalDistanceThreshold&&Math.abs(i.coords[1]-s.coords[1])<t.event.special.wijswipe.verticalDistanceThreshold&&i.origin.trigger("wijswipe").trigger(i.coords[0]>s.coords[0]?"wijswipeleft":"wijswiperight"),i=s=undefined})})}};var at="altKey ctrlKey metaKey rotation scale shiftKey target velocityX velocityY translationX translationY".split(" ");t.event.special.wijgesturestart={setup:function(){var e=this,n=t(e);ft(e,"wijgesturestart"),n.bind(it,function(e){lt("wijgesturestart",e)})}},t.event.special.wijgesturechange={setup:function(){var e=this,n=t(e);ft(e,"wijgesturechange"),n.bind(st,function(e){lt("wijgesturechange",e)})}},t.event.special.wijgestureend={setup:function(){var e=this,n=t(e);ft(e,"wijgestureend"),n.bind(ot,function(e){lt("wijgestureend",e)})}},function(e,t){function h(){var e=i();e!==s&&(s=e,n.trigger("orientationchange"))}var n=e(t),r,i,s,o,u,a={0:!0,180:!0};if("orientation"in t&&"onorientationchange"in t){var f=t.innerWidth||e(t).width(),l=t.innerHeight||e(t).height(),c=50;o=f>l&&f-l>c,u=a[t.orientation];if(o&&u||!o&&!u)a={"-90":!0,90:!0}}e.event.special.orientationchange=r={setup:function(){if("orientation"in t&&"onorientationchange"in t&&e.mobile.orientationChangeEnabled)return!1;s=i(),n.bind("throttledresize",h)},teardown:function(){if("orientation"in t&&"onorientationchange"in t&&e.mobile.orientationChangeEnabled)return!1;n.unbind("throttledresize",h)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=i(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=i=function(){var e=!0,n=document.documentElement;return"orientation"in t&&"onorientationchange"in t?e=a[t.orientation]:e=n&&n.clientWidth/n.clientHeight<1.1,e?"portrait":"landscape"}}(jQuery,window),function(){t.event.special.throttledresize={setup:function(){t(this).bind("resize",n)},teardown:function(){t(this).unbind("resize",n)}};var e=250,n=function(){s=(new Date).getTime(),o=s-r,o>=e?(r=s,t(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(n,e-o))},r=0,i,s,o}(),t.each({wijscrollstop:"wijscrollstart",wijtaphold:"wijtap",wijswipeleft:"wijswipe",wijswiperight:"wijswipe"},function(e,n){t.event.special[e]={setup:function(){t(this).bind(n,t.noop)}}});if(t.ui&&t.ui.mouse){var ht=!1,pt="";t.support.isTouchEnabled&&t.support.isTouchEnabled()&&(pt="wij"),t(document).bind(pt+"mouseup",function(){ht=!1}),t.ui.mouse.prototype._mouseInit=function(){var e=this;this.element.bind(pt+"mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind(pt+"click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},t.ui.mouse.prototype._mouseDestroy=function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind(pt+"mousemove."+this.widgetName,this._mouseMoveDelegate).unbind(pt+"mouseup."+this.widgetName,this._mouseUpDelegate)},t.ui.mouse.prototype._mouseDown=function(e){if(ht)return;this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,r=t.support.isTouchEnabled&&t.support.isTouchEnabled(),i=e.which===1||r,s=!1,o=!1;e.target.nodeName&&(s=t(e.target).closest(this.options.cancel).length>0),o=typeof this.options.cancel=="string"&&s;if(!i||o||!this._mouseCapture(e))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(e)!==!1;if(!this._mouseStarted)return e.preventDefault(),!0}return!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},t(document).bind(pt+"mousemove."+this.widgetName,this._mouseMoveDelegate).bind(pt+"mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),ht=!0,!0},t.ui.mouse.prototype._mouseUp=function(e){return t(document).unbind(pt+"mousemove."+this.widgetName,this._mouseMoveDelegate).unbind(pt+"mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1}}})(e.touch||(e.touch={}));var t=e.touch})(wijmo||(wijmo={}));;
$(document).ready(function(){function u(e,t,n){var r="-webkit-transform",i="translate3d(0,0,0)",s=e.css(r),o=!s||!s.match(/^\s*none\s*$/i);e.css(r,o?i:s+" "+i);try{return t.apply(this,n)}finally{e.css(r,s)}}function f(e,t,n,r){var i=!1,s,o,u=$.speed(t,n,r),a=this;if(!e)return!1;for(var f in e)s=e[f],f==="height"?s==="hide"?(this.css("display","none"),i=!0,u.complete()):s==="show"&&(this.css("display",""),i=!0,u.complete()):f==="width"?s==="hide"?(this.css("display","none"),i=!0,u.complete()):s==="show"&&(this.css("display",""),i=!0,u.complete()):f==="left"&&(o=this.css("left").replace("px","")*1,typeof s=="string"&&(s.indexOf("-=")===0?o-=s.replace("-=","")*1:s.indexOf("+=")===0&&(o+=s.replace("+=","")*1)),i=!0,this.css("-webkit-perspective",1e3),this.css("-webkit-backface-visibility","hidden"),h(this[0],o,u.duration,"linear",u.complete));return i}function l(e,t,n,r){o&&(n||(n="ease"),b(e,"opacity",t,n),p(e,0),e.addEventListener("webkitTransitionEnd",$.proxy(function(){w(e),e.style.display="none",p(e,1),r&&r()},this),!1))}function c(e,t,n,r){o&&(n||(n="ease"),b(e,"opacity",t,n),p(e,1),e.addEventListener("webkitTransitionEnd",$.proxy(function(){w(e),e.style.display==="none"&&(e.style.display=""),r&&r()},this),!1))}function h(e,t,n,r,i){o&&(y(e,n,r),d(e,t),e.___animationEndHandler=i,e.___internalEndHandler=$.proxy(E,{}),e.addEventListener("webkitTransitionEnd",e.___internalEndHandler,!1))}function p(e,t){var n;o&&(n=e.style||e,n.opacity=t)}function d(e,t){var n;o?(e.___translateX=t,n=e.style||e,n.webkitTransform="translateX("+t+"px)"):e.style.left=t+"px"}function v(e,t){var n;o?(e.___translateY=t,n=e.style||e,n.webkitTransform="translateY("+t+"px)"):e.style.top=t+"px"}function m(e){var t,n,r,i,s;if(!e)return 0;if(o){t=e.style||e,n=t.webkitTransform;if(typeof n=="string"){r=new RegExp("translate(3d|X|)\\(-*(\\d+)"),i=r.exec(n);if(i){s=parseFloat(i[1]);if(isFinite(s))return s}}}else{var s=parseInt($(e).css("left"));if(isFinite(s))return s}return 0}function g(e){var t,n,r,i,s;if(!e)return 0;if(o){t=e.style||e,n=t.webkitTransform;if(typeof n=="string"){r=new RegExp("translate(3d|X|)\\(.*,\\s*-*(\\d+)"),i=r.exec(n);if(i){s=parseFloat(i[1]);if(isFinite(s))return s}}}else{var s=parseInt(jQuery(e).css("top"));if(isFinite(s))return s}return 0}function y(e,t,n){n||(n="ease"),b(e,"-webkit-transform",t,n)}function b(e,t,n,r){if(o){var i=e.style;i.webkitTransitionProperty=t,i.webkitTransitionDuration=n+"ms",i.webkitTransitionTimingFunction=r}}function w(e){if(o){var t=e.style;t.webkitTransitionProperty="none";var n=e.___internalEndHandler;n&&(delete e.___internalEndHandler,e.removeEventListener("webkitTransitionEnd",n,!1))}}function E(e){try{var t,n;switch(e.type){case"webkitTransitionEnd":t=e.target,t&&(w(t),t.___animationEndHandler&&(n=t.___animationEndHandler,t.___animationEndHandler=null,n(e)))}}catch(r){window.console&&window.console.log&&window.console.log("[ew219290] error: "+(r.message?r.message:r)+", event: "+e)}return!0}var e=window.navigator.userAgent,t=e.match(new RegExp("android ((1\\.)|(2\\.([^345]+)))","i")),n=window.WebKitCSSMatrix?!t:!1,r=typeof e=="string"&&!!e.match(/applewebkit/),i="ontouchend"in document,s=document.createElement("div"),o;s.setAttribute("style","transition:top 1s ease;-webkit-transition:top 1s ease;-moz-transition:top 1s ease;-o-transition:top 1s ease;"),document.body.appendChild(s),o=!!(s.style.transition||s.style.webkitTransition||s.style.MozTransition||s.style.OTransitionDuration),s.parentNode.removeChild(s),s=null;var a=jQuery.fn.animate;jQuery.fn.animate=function(e,t,n,i){if(!r||!f.apply(this,arguments))return u.call(this,this,function(){return a.apply(this,arguments)},arguments)}});;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijtooltip",i="@wijtp@",s="wijmo-wijtooltip",o=s+"-arrow-",u=parseFloat,a=window,f=document,l=Math,c=l.max,h={},p=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t._tooltips=new Array,t.prototype._setOption=function(t,r){var i=this,s="_set_"+t,o=i.options[t];if(t==="controlwidth"){i._setSize("width",r);return}if(t==="controlheight"){i._setSize("height",r);return}e.prototype._setOption.call(this,t,r),n.isPlainObject(r)&&(i.options[t]=n.extend({},o,r)),i[s]&&i[s](o)},t.prototype._set_cssClass=function(){var e=this,t=e.options,n=e._tooltipCache._$tooltip;if(!n)return;n.hasClass(t.cssClass)||n.addClass(t.cssClass)},t.prototype._set_content=function(e){var t=this;t._isAjaxCallback?(t._callbacked=!0,t.show(),t._callbacked=!1):t._setText()},t.prototype._create=function(){var e=this,n=e.options,r=e.element,s=r&&r.attr("id"),o="",u="",a=n.group||i,f=t._getTooltip(a);f?f.count++:(f=e._createTooltip(),f.count=0,t._tooltips[a]=f),u=n.cssClass?n.cssClass:"",f._$tooltip.hasClass(u)||f._$tooltip.addClass(u),n.position.of=e.element,e._bindLiveEvents(),e._tooltipCache=f,s&&(o=f._$tooltip.attr("aria-describedby"),o=o===undefined?"":o+" ",f._$tooltip.attr("aria-describedby",o+s)),n.controlwidth&&n.controlwidth!==""&&e._setSize("width",n.controlwidth),n.controlheight&&n.controlheight!==""&&e._setSize("height",n.controlheight)},t.prototype.destroy=function(){var n=this,r=n.element,s=n.options.group||i;r.unbind(".tooltip"),r.attr("title",n._content),t._removeTooltip(s),e.prototype.destroy.call(this)},t.prototype.widget=function(){return this._tooltipCache._$tooltip},t.prototype.show=function(){this.showAt(null)},t.prototype.showAt=function(e){var t=this,r=t._tooltipCache,i=r?r._$tooltip:null,s=t.options;if(!r||s.disabled)return;i.stop(!0,!0),r._showAnimationTimer&&(clearTimeout(r._showAnimationTimer),r._showAnimationTimer=null),r._showAtAnimationTimer&&(clearTimeout(r._showAtAnimationTimer),r._showAtAnimationTimer=null),r._hideAnimationTimer&&(clearTimeout(r._hideAnimationTimer),r._hideAnimationTimer=null);if(!e){if(s.ajaxCallback&&n.isFunction(s.ajaxCallback)&&!t._callbacked){t._isAjaxCallback=!0,s.ajaxCallback.call(t.element);return}t._setText()}s.showDelay?r._showAtAnimationTimer=setTimeout(function(){t._showToolTipHelper(e,i)},s.showDelay):t._showToolTipHelper(e,i)},t.prototype.hide=function(){var e=this,t=e._tooltipCache;if(!t)return;t._showAnimationTimer&&(clearTimeout(t._showAnimationTimer),t._showAnimationTimer=null),t._showAtAnimationTimer&&(clearTimeout(t._showAtAnimationTimer),t._showAtAnimationTimer=null),t._hideAnimationTimer&&(clearTimeout(t._hideAnimationTimer),t._hideAnimationTimer=null),e.options.hideDelay?t._hideAnimationTimer=setTimeout(n.proxy(e._hideTooltip,e),e.options.hideDelay):e._hideTooltip()},t.prototype._createTooltip=function(){var e=this,t=e.options,r=new TooltipCache,i=n("<div></div>").addClass(t.wijCSS.tooltip).addClass(t.wijCSS.widget).addClass(t.wijCSS.content).addClass(t.wijCSS.cornerAll),s=n("<div></div>").addClass(t.wijCSS.tooltipContainer),o=n("<div></div>").addClass(t.wijCSS.content).addClass(t.wijCSS.tooltipPointer).append(n("<div></div>").addClass(t.wijCSS.tooltipPointerInner)),u=n("<div></div>").addClass(t.wijCSS.tooltipTitle).addClass(t.wijCSS.header).addClass(t.wijCSS.cornerAll),a=n("<a href='#'></a>").addClass(t.wijCSS.tooltipClose).addClass(t.wijCSS.stateDefault).addClass(t.wijCSS.cornerAll);return a.append(n("<span></span>").addClass(t.wijCSS.icon).addClass(t.wijCSS.iconClose)).bind("click",n.proxy(e._onClickCloseBtn,e)),t.closeBehavior!=="sticky"&&a.hide(),t.showCallout||o.hide(),i.append(u).append(a).append(s).append(o).css("position","absolute").attr("role","tooltip").appendTo("body").hide(),r._$tooltip=i,r._container=s,r._callout=o,r._closeBtn=a,r._title=u,r},t.prototype._showToolTipHelper=function(e,t){if(e){var n=this,r=n._tooltipCache,i,s=0,o=0,u,a,f,l,c,p={},d,v,m=t.is(":visible"),v=r?r._callout:null;if(!v)return;n._setText(),h=t.offset(),t.offset({left:0,top:0}).show(),i=v.position(),s=i.left,o=i.top,f=n._getBorder(v),u=f.left||f.right,a=f.top||f.bottom,l=t.width(),c=t.height(),d=n._getCalloutShape(),p={rt:{left:e.x-l-u,top:e.y-o},rc:{left:e.x-l-u,top:e.y-c/2},rb:{left:e.x-l-u,top:e.y-o-a},lt:{left:e.x+u,top:e.y-o},lc:{left:e.x+u,top:e.y-c/2},lb:{left:e.x+u,top:e.y-o-a},tl:{left:e.x-s,top:e.y+a},tc:{left:e.x-l/2,top:e.y+a},tr:{left:e.x-s-u,top:e.y+a},bl:{left:e.x-s,top:e.y-c-a},bc:{left:e.x-l/2,top:e.y-c-a},br:{left:e.x-s-u,top:e.y-c-a},cc:{left:e.x-l/2,top:e.y-c/2}}[d],d=n._flipTooltip(p,d,f),n._setUnfilledCallout(d),t.offset(p),m||t.hide(),n._calloutShape=d}else{h=t.offset();if(this.options.mouseTrailing){this._setCalloutCss();return}this._setPosition()}this._showTooltip()},t.prototype._bindLiveEvents=function(){var e=this,t=e.options,r=e.element;e._content===undefined&&(e._content=r.attr("title"),r.attr("title","")),r.unbind(".tooltip"),t.mouseTrailing&&r.bind("mousemove.tooltip",function(n){if(t.disabled)return;var r=t.position.offset||"",i=r.split(" ");i.length===2?e.showAt({x:n.pageX+parseInt(i[0],10),y:n.pageY+parseInt(i[1],10)}):e.showAt({x:n.pageX,y:n.pageY})}),r.bind("mouseout.tooltip",n.proxy(e._hideIfNeeded,e));switch(t.triggers){case"hover":r.bind("mouseover.tooltip",n.proxy(e.show,e));break;case"click":r.bind("click.tooltip",n.proxy(e.show,e));break;case"focus":r.bind("focus.tooltip",n.proxy(e.show,e)).bind("blur.tooltip",n.proxy(e._hideIfNeeded,e));break;case"rightClick":r.bind("contextmenu.tooltip",function(t){e.show(),t.preventDefault()})}},t.prototype._hideIfNeeded=function(){var e=this,t=e.options,n=t.closeBehavior;if(n==="sticky"||t.modal||n==="none"||t.disabled)return;e.hide()},t.prototype._flipTooltip=function(e,t,n){var r=this,i=r._tooltipCache,s=i?i._$tooltip:null,o={width:s.width(),height:s.height()},u=r._flipCallout(e,o,t),a=u&&u.flip,f,l;return!i||!u||!a.h&&!a.v?u.calloutShape:(f=s.width(),l=s.height(),a.h==="l"?e.left-=f+n.right*2+1:a.h==="r"?e.left+=f+n.left*2+1:a.v==="t"?e.top-=l+n.bottom*2+1:a.v==="b"&&(e.top+=l+n.top*2+1),u.calloutShape)},t.prototype._flipCallout=function(e,t,r){var i=this,s=i.options,u=i._tooltipCache,f=u._$tooltip,l={h:!1,v:!1},c=n(a),h=(s.position.collision||"flip").split(" ");h.length===1&&(h[1]=h[0]);if(!u||h[0]!=="flip"&&h[1]!=="flip")return{flip:l,calloutShape:null};h[0]==="flip"&&(e.left<0||e.left+t.width>c.width()+c.scrollLeft())&&(l.h=!0),h[0]==="flip"&&(e.top<0||e.top+t.height>c.height()+c.scrollTop())&&(l.v=!0);if(s.showCallout){l.h&&(r.indexOf("l")>-1?(r=r.replace(/l/,"r"),l.h="l"):r.indexOf("r")>-1&&(r=r.replace(/r/,"l"),l.h="r")),l.v&&(r.indexOf("t")>-1?(r=r.replace(/t/,"b"),l.v="t"):r.indexOf("b")>-1&&(r=r.replace(/b/,"t"),l.v="b"));if(l.h||l.v)i._removeCalloutCss(),f.addClass(o+r)}return{flip:l,calloutShape:r}},t.prototype._set_position=function(e){var t=this,n=t.options,r=n.position;n.showCallout&&((e.my!==r.my||e.at!==r.at)&&t._setPosition(),t._setCalloutOffset(!0)),t._setText()},t.prototype._set_showCallout=function(){var e=this,t=e._tooltipCache,n=t?t._callout:null;if(!t||!n)return;e.options.showCallout?(e._setCalloutCss(),n.show()):n.hide()},t.prototype._set_closeBehavior=function(){var e=this,t=e._tooltipCache,n=t?t._closeBtn:null;n&&n[e.options.closeBehavior==="sticky"?"show":"hide"]()},t.prototype._set_triggers=function(){this._bindLiveEvents()},t.prototype._set_mouseTrailing=function(){this._bindLiveEvents()},t.prototype._getCalloutShape=function(){var e=this,t=e.options.position,r=function(e){return n.makeArray(n.map(e,function(e){return e.substr(0,1)}))},i=r(t.my.split(" ")),s=r(t.at.split(" ")),o=[];return i.length===2&&(o=i),i[0]===s[0]?(i[1]==="t"&&s[1]==="b"||i[1]==="b"&&s[1]==="t")&&o.reverse():s[0]==="c"&&o.reverse(),o[0]==="c"&&o.reverse(),o.join("")},t.prototype._setCalloutCss=function(){var e=this,t=e.options,r=e._tooltipCache,i=r?r._$tooltip:null,s="",u="",a=n.support.isTouchEnabled;if(!t.showCallout&&!a)return;return e._removeCalloutCss(),u=e._getCalloutShape(),s=o+u,i&&i.addClass(s),u},t.prototype._removeCalloutCss=function(){var e=this._tooltipCache,t;e&&(t=e._$tooltip,n.each(["tl","tc","tr","bl","bc","br","rt","rc","rb","lt","lc","lb","cc"],function(e,n){var r=o+n;if(t.hasClass(r))return t.removeClass(r),!1}))},t.prototype._getBorder=function(e){var t={};return n.each(["top","right","left","bottom"],function(n,r){t[r]=u(e.css("border-"+r+"-width"))}),t},t.prototype._setPosition=function(){var e=this,t=e.options,r=t.position,i=r.my,s=e._tooltipCache,o=s?s._$tooltip:null,a=o.is(":hidden"),f=e._setCalloutCss(),l=f?f.split(""):null,c=[0,0],h=s._callout,p,d,v,m,g,y={width:o.width(),height:o.height()},b,w,E=n.support.isTouchEnabled;a&&o.show(),o.css({left:0,top:0});if(t.showCallout){p=e._getBorder(h),v=u(h.css("left")),d=u(h.css("top")),m=u(h.css("right")),g=u(h.css("bottom"));switch(l[0]){case"l":c[0]=p.right;break;case"r":c[0]=-p.left;break;case"b":c[1]=g;break;case"t":c[1]=-d}switch(l[1]){case"t":c[1]=-d;break;case"b":c[1]=g;break;case"r":c[0]=m;break;case"l":c[0]=-v}}if(E&&E()){switch(l[0]){case"l":c[0]=c[0]+30;break;case"r":c[0]=c[0]-30;break;case"b":c[1]=c[1]-30;break;case"t":c[1]=c[1]+30}switch(l[1]){case"t":c[1]=c[1]+30;break;case"b":c[1]=c[1]-30;break;case"r":c[0]=c[0]-30;break;case"l":c[0]=c[0]+30}}r.my.indexOf(" ")>-1?i=r.my.split(" ")[0]+"+"+c[0]+" "+r.my.split(" ")[1]+"+"+c[1]:i=r.my+"+"+c[0]+" "+r.my+"+"+c[1],o.position({my:i,at:r.at,of:r.of,collision:"none none"}),b=e._flipCallout(o.offset(),y,f),w=b.flip;if(w.h||w.v)o.css({left:0,top:0}),o.position({my:i,at:r.at,of:r.of,collision:r.collision});t.showCallout&&e._setUnfilledCallout(f),e._calloutShape=f,a&&o.hide()},t.prototype._setCalloutOffset=function(e){var t=this,r=t.options,i=t._tooltipCache,s=i?i._$tooltip:null,o=i&&i._callout,u=t._calloutShape,a=!1,f=r.position.offset,l="",c=[],h=r.calloutAnimation;if(!o)return;if(!f||f.length===0)return;o.stop(!0,!0),n.each(["tr","tc","tl","bl","bc","br"],function(e,t){if(u===t)return a=!0,!1}),f&&(c=f.split(" "),c.length===2?l=a?c[0]:c[1]:c.length===1&&(l=c[0])),c&&c.length===2&&c[0]==="none"&&c[1]==="none"?o.css("left","").css("top",""):l==="none"?o.css(a?"left":"top",""):l!==""&&(e&&!e.disabled?a?o.animate({left:l},h.duration,h.easing):o.animate({top:l},h.duration,h.easing):o.css(a?"left":"top",l))},t.prototype._setUnfilledCallout=function(e){var t=this,n=t._tooltipCache,r=n?n._$tooltip:null,i=n&&n._callout,s=i&&i.children(),o=e.split(""),u=r?r.css("background-color"):"";if(!s)return;s.css({"border-left-color":"","border-top-color":"","border-bottom-color":"","border-right-color":""});if(!t.options.calloutFilled)switch(o[0]){case"l":s.css("border-right-color",u);break;case"t":s.css("border-bottom-color",u);break;case"r":s.css("border-left-color",u);break;case"b":s.css("border-top-color",u)}},t.prototype._showTooltip=function(){var e=this,r=e.options,i=e._tooltipCache,s=i?i._$tooltip:null,o,u,a;if(!i)return;if(e._trigger("showing",null,e)===!1){s.is(":visible")&&s.hide();return}e._showModalLayer(),s.css("z-index",99999),n.fn.wijshow?(u={show:!0,context:s},o=n.extend({},r.animation,r.showAnimation),s.is(":visible")&&(a=s.offset(),s.offset(h),n.extend(u,{pos:a}),o.animated="tooltipSlide"),s.wijshow(o,t.animations,u,null,function(){e._trigger("shown")})):(s.show(),e._trigger("shown")),e._setCalloutOffset(!1)},t.prototype._hideTooltip=function(){var e=this,r=e.options,i=e._tooltipCache,s=i?i._$tooltip:null,o=n.extend({},r.animation,r.hideAnimation),u;if(!i)return;if(e._trigger("hiding",null,e)===!1)return;e._hideModalLayer(),n.fn.wijhide?(u={show:!1,context:s},s.wijhide(o,t.animations,u,null,function(){e._trigger("hidden"),s.css("z-index","")})):(s.hide(),e._trigger("hidden"),s.css("z-index",""))},t.prototype._getContent=function(e){var t={data:""},r;return n.isFunction(e)?(r=e.call(this.element,t),t.data!==""?t.data:r):window[e]&&n.isFunction(window[e])?(r=window[e].call(this.element,t),t.data!==""?t.data:r):e},t.prototype._setText=function(){var e=this,t=e.options,n=e._tooltipCache,r="",i="",s=n?n._title:null;if(!n)return;r=e._getContent(t.content),r=r===""?e._content:r,n._container.html(r),i=e._getContent(t.title),i!==""?s.html(i).show():s.hide()},t.prototype._showModalLayer=function(){var e=this,t=e.options,r=null;e.options.modal&&(r=n("<div>").addClass(t.wijCSS.overlay).css("z-index",99e3).width(e._getDocSize("Width")).height(e._getDocSize("Height")).appendTo("body"),n(window).bind("resize.wijtooltip",function(){r.width(e._getDocSize("Width")).height(e._getDocSize("Height"))}),e._tooltipCache._modalLayer=r)},t.prototype._hideModalLayer=function(){var e=this,t=e._tooltipCache._modalLayer;t&&(t.css("z-index","").remove(),n(window).unbind("resize.wijtooltip"))},t.prototype._getDocSize=function(e){var t,r,i="documentElement",s="body";return n.browser.msie&&parseFloat(n.browser.version)<9?(t=c(f[i]["scroll"+e],f[s]["scroll"+e]),r=c(f[i]["offset"+e],f[s]["offset"+e]),t<r?n(a)[e.toLowerCase()]()+"px":t+"px"):n(f)[e.toLowerCase()]()+"px"},t.prototype._setSize=function(e,t){var n=this,r=n._tooltipCache,i=r?r._$tooltip:null;i&&i.css(e,t)},t.prototype._onClickCloseBtn=function(e){this.hide(),e.preventDefault()},t.animations={fade:function(e,t){e=n.extend({duration:300,easing:"swing"},e,t),e.context.stop(!0,!0).animate(e.show?{opacity:"show"}:{opacity:"hide"},e)},tooltipSlide:function(e,t){e=n.extend({duration:300,easing:"swing"},e,t),e.context.stop(!0,!0).animate({left:e.pos.left,top:e.pos.top},e)}},t._getTooltip=function(n){return t._tooltips[n]},t._removeTooltip=function(n){var r=t._tooltips[n],i=r?r._$tooltip:null;r&&(r.count--,r.count<=0&&(i.remove(),t._tooltips[n]=null))},t}(e.wijmoWidget);t.wijtooltip=p;var d=function(){function e(){this.initSelector=":jqmData(role='wijtooltip')",this.wijCSS={tooltip:"wijmo-wijtooltip",tooltipContainer:"wijmo-wijtooltip-container",tooltipPointer:"wijmo-wijtooltip-pointer",tooltipPointerInner:"wijmo-wijtooltip-pointer-inner",tooltipTitle:"wijmo-wijtooltip-title",tooltipClose:"wijmo-wijtooltip-close"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-a",stateDefault:"ui-btn ui-btn-a",stateHover:"ui-btn-down-a",stateActive:"ui-btn-down-a"},this.content="",this.title="",this.closeBehavior="auto",this.mouseTrailing=!1,this.triggers="hover",this.position={my:"left bottom",at:"right top",offset:null},this.showCallout=!0,this.animation={animated:"fade",duration:500,easing:null},this.showAnimation={},this.hideAnimation={},this.showDelay=150,this.hideDelay=150,this.calloutAnimation={duration:1e3,disabled:!1,easing:null},this.calloutFilled=!1,this.modal=!1,this.group=null,this.ajaxCallback=null,this.showing=null,this.shown=null,this.hiding=null,this.hidden=null,this.cssClass="",this.controlwidth=null,this.controlheight=null}return e}();p.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new d),n.wijmo.registerWidget(r,p.prototype)})(e.tooltip||(e.tooltip={}));var t=e.tooltip})(wijmo||(wijmo={}));var TooltipCache=function(){function e(){}return e}();;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijslider",i="ui-slider-handle",s=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._valueMin=function(){return n.ui.slider.prototype._valueMin.apply(this,arguments)},t.prototype._valueMax=function(){return n.ui.slider.prototype._valueMax.apply(this,arguments)},t.prototype._refreshValue=function(){return n.ui.slider.prototype._refreshValue.apply(this,arguments)},t.prototype._create=function(){return n.ui.slider.prototype._create.apply(this,arguments)},t.prototype._createHandles=function(){return n.ui.slider.prototype._createHandles.apply(this,arguments)},t.prototype.values=function(e,t){return n.ui.slider.prototype.values.apply(this,arguments)},t.prototype.value=function(e){return n.ui.slider.prototype.value.apply(this,arguments)},t.prototype._slide=function(e,t,r){return n.ui.slider.prototype._slide.apply(this,arguments)},t.prototype._change=function(e,t){return n.ui.slider.prototype._change.apply(this,arguments)},t.prototype._normValueFromMouse=function(e){return n.ui.slider.prototype._normValueFromMouse.apply(this,arguments)},t}(e.JQueryUIWidget);t.JQueryUISlider=s;var o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._setOption=function(e,t){return e==="values"?(t=this._pre_set_values(t),this.options[e]=t,this._setValuesOption()):e==="disabled"?(this.element.toggleClass(this.options.wijCSS.stateDisabled,!!t),this.options[e]=t):n.ui.slider.prototype._setOption.apply(this,arguments),e==="range"&&this._setRangeOption(t),this},t.prototype._setRangeOption=function(e){var t=this,n=t.options,r;e===!0&&(!n.values||n.values&&n.values.length===0?(r=t._valueMin(),n.values=[r,r]):n.values.length&&n.values.length!==2&&(r=n.values[0],n.values=[r,r]),t._refresh_handle(2)),t._re_createRange(),t._refreshValue()},t.prototype._setValuesOption=function(){var e=this,t=0,r;e._animateOff=!0,e._refreshValue(),n.isArray(e.options.values)&&(t=e.options.values.length);for(r=0;r<t;r++)e._change(null,r);e._animateOff=!1},t.prototype._re_createRange=function(){var e=this,t=e.options,r=t.wijCSS;e.range&&(e.range.remove(),n(".ui-slider-range",e.element).length>0&&n(".ui-slider-range",e.element).remove()),t.range&&(e.range=n("<div></div>").appendTo(e.element).addClass(r.uiSliderRange).addClass(r.header),t.range==="min"?e.range.addClass(r.uiSliderRangeMin):t.range==="max"&&e.range.addClass(r.uiSliderRangeMax))},t.prototype._pre_set_values=function(e){var t=this,n=t.options,r=1,i;return r=e&&e.length?e.length:1,n.range===!0&&(!e||e&&e.length===0?(i=t._valueMin(),e=[i,i]):e.length&&e.length!==2&&(i=e[0],e=[i,i]),r=2),t._refresh_handle(r),t._re_createRange(),e},t.prototype._createHandles=function(){var t=this.options.wijCSS;e.prototype._createHandles.call(this),this.handles.each(function(e){n(this).removeClass("ui-slider-handle").removeClass("ui-state-default").removeClass("ui-corner-all").addClass(i).addClass(t.uiSliderHandle).addClass(t.stateDefault).addClass(t.cornerAll)})},t.prototype._refresh_handle=function(e){var t=this,n=this.options.wijCSS,r=t.handles.length,s="<a class='"+i+" "+n.uiSliderHandle+" "+n.stateDefault+" "+n.cornerAll+"' href='#'></a>",o=[],u;if(r!==e){if(e>r){for(u=r;u<e;u++)o.push(s);t.element.append(o.join(""))}else t.element.find("."+i).eq(e-1).nextAll().remove();t.handles=t.element.find("."+i)}},t.prototype._initState=function(){this._dragFillTarget=!1,this._dragFillStart=0,this._rangeValue=0,this._oldValue1=0,this._oldValue2=0,this._oldX=0,this._oldY=0},t.prototype._create=function(){var t=this,r=t.element,s=t.options,o=s.wijCSS,u,a,f,l,c,h,p,d,v,m,g;window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n)),this._initState(),t._oriStyle=r.attr("style");if(r.is(":input")){s.orientation==="horizontal"?u=n("<div></div>").width(r.width()).appendTo(document.body):u=n("<div></div>").height(r.height()).appendTo(document.body),a=r.val();if(a!=="")try{f=a.split(";"),c=f.length;if(c>0){for(l=0;l<c;l++)f[l]=parseInt(f[l],10);c===1?s.value=f[0]:s.values=f}}catch(y){}r.data(t.widgetName,u.wijslider(s)).after(n(document.body).children("div:last")).hide();if(s.disabledState){var b=s.disabled;t.disable(),s.disabled=b}return}e.prototype._create.call(this),t.range&&t.range.removeClass("ui-slider-range").addClass(o.uiSliderRange),r.removeClass("ui-slider").removeClass("ui-slider-"+this.options.orientation).removeClass("ui-widget").removeClass("ui-widget-content").removeClass("ui-corner-all").addClass(o.uiSlider).addClass(s.orientation==="horizontal"?o.uiSliderHorizontal:o.uiSliderVertical).addClass(o.widget).addClass(o.content).addClass(o.cornerAll),r.data("originalStyle",r.attr("style")),r.data("originalContent",r.html()),h=r.width(),p=r.height(),d=n("<div></div>"),s.orientation==="horizontal"?d.addClass(o.wijmoSliderHorizontal):d.addClass(o.wijmoSliderVertical),d.width(h).height(p),v=n("<a><span></span></a>").addClass(o.wijmoSliderDecButton),m=n("<a><span></span></a>").addClass(o.wijmoSliderIncButton),r.wrap(d).before(v).after(m),t._container=r.parent(),t._attachClass(),g=r.find("."+i),t._adjustSliderLayout(v,m,g);if(s.disabledState){var b=s.disabled;t.disable(),s.disabled=b}t.element.is(":hidden")&&t.element.wijAddVisibilityObserver&&t.element.wijAddVisibilityObserver(function(){t._refreshSlider(),t.element.wijRemoveVisibilityObserver&&t.element.wijRemoveVisibilityObserver()},"wijslider"),t._bindEvents()},t.prototype.values=function(e,t){return n.ui.slider.prototype.values.apply(this,arguments)},t.prototype.value=function(e){return n.ui.slider.prototype.value.apply(this,arguments)},t.prototype.refresh=function(){var e=this.element.data("wijslider"),t=this.element.data("wijmo-wijslider");this.destroy(),this.element.data("wijslider",e),this.element.data("wijmo-wijslider",t),this._create()},t.prototype._refreshSlider=function(){var e=this,t=e.options.wijCSS,n,r,s;r=e._container.find("."+t.wijmoSliderDecButton),n=e._container.find("."+t.wijmoSliderIncButton),s=e._container.find("."+i),e._adjustSliderLayout(r,n,s),e._refreshValue()},t.prototype._adjustSliderLayout=function(e,t,n){var r=this,i=r.element,s=r.options,o,u,a,f,l,c,h,p,d,v,m,g;o=r._container.width(),u=r._container.height(),a=e.outerWidth(),f=e.outerHeight(),l=t.outerWidth(),c=t.outerHeight(),h=n.outerWidth(),p=n.outerHeight(),s.orientation==="horizontal"?(d=u/2-f/2,e.css("top",d).css("left",0),v=u/2-c/2,t.css("top",v).css("right",0),i.css("left",a+h/2-1).css("top",u/2-i.outerHeight()/2).width(o-a-l-h-2)):(m=o/2-a/2,e.css("left",m).css("top",0),g=o/2-l/2,t.css("left",g).css("bottom",0),i.css("left",o/2-i.outerWidth()/2).css("top",f+p/2+1).height(u-f-c-p-2))},t.prototype.destroy=function(){var t=this,r,s,o=t.options.wijCSS;r=this._getDecreBtn(),s=this._getIncreBtn(),r.unbind("."+t.widgetName),s.unbind("."+t.widgetName),t.element.removeClass(o.uiSlider).removeClass(o.uiSliderHorizontal).removeClass(o.uiSliderVertical).removeClass(o.widget).removeClass(o.content).removeClass(o.cornerAll).removeClass(i),e.prototype.destroy.call(this),n("a",t.element.parent()).remove(),t.element.unbind("."+t.widgetName),t.element.unwrap(),t._oriStyle===undefined?t.element.removeAttr("style"):t.element.attr("style",t._oriStyle),t.element.removeData(t.widgetName).removeData("originalStyle").removeData("originalContent"),t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null)},t.prototype._slide=function(t,n,r){var i=this,s=i.options,o=s.minRange,u=r,a;s.range===!0&&(a=i.values(),n===0&&a[1]-o<r?u=a[1]-o:n===1&&a[0]+o>r&&(u=a[0]+o)),e.prototype._slide.call(this,t,n,u)},t.prototype._getDecreBtn=function(){var e=this.element.parent().find("."+this.options.wijCSS.wijmoSliderDecButton);return e},t.prototype._getIncreBtn=function(){var e=this.element.parent().find("."+this.options.wijCSS.wijmoSliderIncButton);return e},t.prototype._attachClass=function(){var e=this.options.wijCSS;this._getDecreBtn().addClass(e.cornerAll).addClass(e.stateDefault).attr("role","button"),this._getIncreBtn().addClass(e.cornerAll).addClass(e.stateDefault).attr("role","button"),this.element.parent().attr("role","slider").attr("aria-valuemin",this.options.min).attr("aria-valuenow","0").attr("aria-valuemax",this.options.max),this.options.orientation==="horizontal"?(this.element.parent().addClass(e.wijmoSliderHorizontal),this._getDecreBtn().find("> span").addClass(e.icon).addClass(e.iconArrowLeft),this._getIncreBtn().find("> span").addClass(e.icon).addClass(e.iconArrowRight)):(this.element.parent().addClass(e.wijmoSliderVertical),this._getDecreBtn().find("> span").addClass(e.icon).addClass(e.iconArrowUp),this._getIncreBtn().find("> span").addClass(e.icon).addClass(e.iconArrowDown))},t.prototype._bindEvents=function(){var e=this,t,n,r;t=this._getDecreBtn(),n=this._getIncreBtn(),r=e.element,t.bind("click."+e.widgetName,e,e._decreBtnClick),n.bind("click."+e.widgetName,e,e._increBtnClick),t.bind("mouseover."+e.widgetName,e,e._decreBtnMouseOver),t.bind("mouseout."+e.widgetName,e,e._decreBtnMouseOut),t.bind("mousedown."+e.widgetName,e,e._decreBtnMouseDown),t.bind("mouseup."+e.widgetName,e,e._decreBtnMouseUp),n.bind("mouseover."+e.widgetName,e,e._increBtnMouseOver),n.bind("mouseout."+e.widgetName,e,e._increBtnMouseOut),n.bind("mousedown."+e.widgetName,e,e._increBtnMouseDown),n.bind("mouseup."+e.widgetName,e,e._increBtnMouseUp),r.bind("mouseup."+e.widgetName,e,e._elementMouseupEvent)},t.prototype._decreBtnMouseOver=function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"decreButton"},t._trigger("buttonMouseOver",e,n),r=t._getDecreBtn(),r.addClass(t.options.wijCSS.stateHover)},t.prototype._increBtnMouseOver=function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"increButton"},t._trigger("buttonMouseOver",e,n),r=t._getIncreBtn(),r.addClass(t.options.wijCSS.stateHover)},t.prototype._decreBtnMouseOut=function(e){var t=e.data,n,r,i=t.options.wijCSS;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"decreButton"},t._trigger("buttonMouseOut",e,n),r=t._getDecreBtn(),r.removeClass(i.stateHover).removeClass(i.stateActive)},t.prototype._increBtnMouseOut=function(e){var t=e.data,n,r,i=t.options.wijCSS;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"increButton"},t._trigger("buttonMouseOut",e,n),r=t._getIncreBtn(),r.removeClass(i.stateHover).removeClass(i.stateActive)},t.prototype._decreBtnMouseDown=function(e){var t=e.data,r,i;if(t.options.disabledState||t.options.disabled)return;r={buttonType:"decreButton"},t._trigger("buttonMouseDown",e,r),i=t._getDecreBtn(),i.addClass(t.options.wijCSS.stateActive),n(document).bind("mouseup."+t.widgetName,{self:t,ele:i},t._documentMouseUp),t._intervalID!==null&&(window.clearInterval(t._intervalID),t._intervalID=null),t._intervalID=window.setInterval(function(){t._decreBtnHandle(t)},200)},t.prototype._documentMouseUp=function(e){var t=e.data.self,r=e.data.ele;if(t.options.disabledState||t.options.disabled)return;r.removeClass(t.options.wijCSS.stateActive),t._intervalID!==null&&(window.clearInterval(t._intervalID),t._intervalID=null),n(document).unbind("mouseup."+t.widgetName,t._documentMouseUp)},t.prototype._increBtnMouseDown=function(e){var t=e.data,r,i;if(t.options.disabledState||t.options.disabled)return;r={buttonType:"increButton"},t._trigger("buttonMouseDown",e,r),i=t._getIncreBtn(),i.addClass(t.options.wijCSS.stateActive),n(document).bind("mouseup."+t.widgetName,{self:t,ele:i},t._documentMouseUp),t._intervalID!==null&&(window.clearInterval(t._intervalID),t._intervalID=null),t._intervalID=window.setInterval(function(){t._increBtnHandle(t)},200)},t.prototype._decreBtnMouseUp=function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"decreButton"},t._trigger("buttonMouseUp",e,n),r=t._getDecreBtn(),r.removeClass(t.options.wijCSS.stateActive),window.clearInterval(t._intervalID)},t.prototype._increBtnMouseUp=function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"increButton"},t._trigger("buttonMouseUp",e,n),r=t._getIncreBtn(),r.removeClass(t.options.wijCSS.stateActive),window.clearInterval(t._intervalID)},t.prototype._decreBtnHandle=function(e){e.options.orientation==="horizontal"?e._decre():e._incre()},t.prototype._decreBtnClick=function(e){var t=e.data,n;if(t.options.disabledState||t.options.disabled)return;t._mouseSliding=!1,t._decreBtnHandle(t),n={buttonType:"decreButton",value:t.value()},t._trigger("buttonClick",e,n)},t.prototype._increBtnHandle=function(e){e.options.orientation==="horizontal"?e._incre():e._decre()},t.prototype._increBtnClick=function(e){var t=e.data,n;if(t.options.disabledState||t.options.disabled)return;t._mouseSliding=!1,t._increBtnHandle(t),n={buttonType:"increButton",value:t.value()},t._trigger("buttonClick",e,n)},t.prototype._decre=function(){var e=this,t=e.value(),n=e.options,r=n.min,i=n.step;n.values&&n.values.length?(t=e.values(0),t<=r?e.values(0,r):e.values(0,t-i)):(t=e.value(),t<=r?e.value(r):e.value(t-i)),e.element.parent().attr("aria-valuenow",e.value())},t.prototype._incre=function(){var e=this,t=e.value(),n=e.options,r=n.max,i=n.step,s;n.values&&n.values.length?(s=n.values.length===1?0:1,t=e.values(s),t>=r?e.values(s,r):e.values(s,t+i)):(t=e.value(),t>=r?e.value(r):e.value(t+i)),e.element.parent().attr("aria-valuenow",e.value())},t.prototype._elementMouseupEvent=function(e){var t=e.data;t.options.dragFill&&t.options.range&&(t._dragFillStart>0?t._dragFillStart=0:n.ui.slider.prototype._mouseCapture.apply(t,arguments))},t.prototype._isUISlider=function(e){var t=this.options.wijCSS,r=n(e);return r.hasAllClasses(t.uiSliderRange)&&r.hasAllClasses(t.header)&&r.hasAllClasses(t.cornerAll)||r.hasAllClasses(t.uiSliderRange)&&r.hasAllClasses(t.header)},t.prototype._mouseCapture=function(e){this.element.parent().attr("aria-valuenow",this.value());if(this.options.dragFill){if(this._isUISlider(e.target))return this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),!0;try{return n.ui.slider.prototype._mouseCapture.apply(this,arguments)}catch(t){}}else try{return n.ui.slider.prototype._mouseCapture.apply(this,arguments)}catch(t){}},t.prototype._mouseStart=function(e){if(this.options.dragFill){if(e.target&&this._isUISlider(e.target))return this._setStateForDragFill(e),!0;this._dragFillTarget=!1}return!0},t.prototype._mouseDrag=function(e){return this.options.dragFill?this._processDragFill(e)?!1:n.ui.slider.prototype._mouseDrag.apply(this,arguments):n.ui.slider.prototype._mouseDrag.apply(this,arguments)},t.prototype._mouseStop=function(e){var t=n.ui.slider.prototype._mouseStop.apply(this,arguments);return this.options.dragFill&&this._resetStateForDragFill(),t},t.prototype._setStateForDragFill=function(e){this._dragFillTarget=!0,this._rangeValue=this.values(1)-this.values(0),this._oldValue1=this.values(0),this._oldValue2=this.values(1),this._oldX=e.pageX,this._oldY=e.pageY},t.prototype._resetStateForDragFill=function(){n(document.documentElement).css("cursor","default"),window.setTimeout(function(){this._dragFillTarget=!1,this._dragFillStart=0},500)},t.prototype._processDragFill=function(e){var t,r,i,s,o,u,a,f;return t=e.pageX-this._oldX,r=this.element.outerWidth(),this.options.orientation==="vertical"&&(r=this.element.outerHeight(),t=-(e.pageY-this._oldY)),i=(this.options.max-this.options.min)/r*t,this._dragFillTarget?(this.options.orientation==="vertical"?n(document.documentElement).css("cursor","s-resize"):n(document.documentElement).css("cursor","w-resize"),this._dragFillStart>0&&(s=this._rangeValue,this.values(0,this._oldValue1+i),this.values(1,this._oldValue1+i+s),o=this.values(0),u=this.values(1),o+s>this.options.max&&this.values(0,this.options.max-s),u-s<this.options.min&&this.values(1,this.options.min+s)),this._dragFillStart++,!0):!1},t}(s);t.wijslider=o,o.prototype.widgetEventPrefix="wijslider";var u=function(){function e(){this.wijCSS={uiSliderRange:"ui-slider-range",uiSliderHandle:"ui-slider-handle",wijmoSliderDecButton:"wijmo-wijslider-decbutton",wijmoSliderIncButton:"wijmo-wijslider-incbutton",wijmoSliderHorizontal:"wijmo-wijslider-horizontal",wijmoSliderVertical:"wijmo-wijslider-vertical",uiSliderRangeMax:"ui-slider-range-max",uiSliderRangeMin:"ui-slider-range-min",uiSlider:"ui-slider",uiSliderHorizontal:"ui-slider-horizontal",uiSliderVertical:"ui-slider-vertical"},this.buttonMouseOver=null,this.buttonMouseOut=null,this.buttonMouseDown=null,this.buttonMouseUp=null,this.buttonClick=null,this.dragFill=!0,this.minRange=0,this.animate=!1,this.max=100,this.min=0,this.orientation="horizontal",this.range=!1,this.step=1,this.value=0,this.values=null,this.change=null,this.slide=null,this.start=null,this.stop=null}return e}();n.ui&&n.ui.slider&&(o.prototype.options=n.extend(!0,{},n.ui.slider.prototype.options,e.wijmoWidget.prototype.options,new u),n.wijmo.registerWidget(r,n.ui.slider,o.prototype))})(e.slider||(e.slider={}));var t=e.slider})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijsplitter",i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._setFullSplit=function(e){var t=this,n=t._fields,r=e?"100%":n.width,i=e?"100%":n.height;t.element.css("width",r).css("height",i)},t.prototype._setOption=function(e,t){var r=this,i=r.options,s,o=n.extend({},i[e]);if(e==="fullSplit")r._setFullSplit(t);else if(n.isPlainObject(i[e])){e==="panel1"&&t.collapsed!==undefined?r._setPanel1Collapsed(t.collapsed):e==="panel2"&&t.collapsed!==undefined&&r._setPanel2Collapsed(t.collapsed),i[e]=n.extend(!0,i[e],t),e==="resizeSettings"&&r._initResizer();return}n.Widget.prototype._setOption.apply(r,arguments),o!==t&&(e==="orientation"?r.refresh():e==="collapsingPanel"?r.refresh():e==="fullSplit"?r.refresh(!0,!1):e==="splitterDistance"?(r.refresh(!1,!1),r._trigger("sized")):e==="showExpander"&&(s=r._fields.expander,s&&s.length&&s.css("display",t?"":"none"))),e==="disabled"&&r._handleDisabledOption(t,r.element)},t.prototype._create=function(){var e=this,t=e.element,r=e.options,i;window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n)),r.splitterDistance==100&&(i=this.element.width()-r.panel2.minSize,r.panel1.minSize>r.splitterDistance?r.splitterDistance=r.panel1.minSize:i<r.splitterDistance&&(r.splitterDistance=i)),e._fields={width:t.width(),height:t.height()},r.fullSplit&&e._setFullSplit(!0),e._splitterify(),e._updateElementsCss(),e._updateElements(),e._bindEvents(),e._initResizer(),r.disabled&&e.disable(),e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){r.fullSplit&&(e.refresh(),e._updateElements(),e._initResizer())},"wijsplitter"),e._trigger("load",null,e)},t.prototype._handleDisabledOption=function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},t.prototype.destroy=function(){var e=this,t=e.options,r=e.element,i=e._fields,s=i.wrapper,o=i.expander,u=i.bar,a=i.panel1,f=i.panel2,l=i.originalStyle,c=e.widgetName,h=i.oriPnl1Content,p=i.oriPnl2Content,d=i.oriPnl1ContentStyle,v=i.oriPnl2ContentStyle,m=t.wijCSS,g=m.vSplitterCss,y=m.vSplitterCssPrefix,b=m.hSplitterCss,w=m.hSplitterCssPrefix,E=m.panelCss;n.fn.resizable&&a&&a.n.is(":ui-resizable")&&a.n.resizable("destroy"),h&&(h.removeClass(y+a.contentCss).removeClass(m.hSplitterCssPrefix+a.contentCss).removeClass(m.content),d===undefined?h.removeAttr("style"):h.attr("style",d),h.appendTo(r)),p&&(p.removeClass(y+f.contentCss).removeClass(m.hSplitterCssPrefix+f.contentCss).removeClass(m.content),v===undefined?p.removeAttr("style"):p.attr("style",v),p.appendTo(r)),a.n.unbind("."+c),o.unbind("."+c),u.unbind("."+c),n(window).unbind("."+c),s.remove(),r.removeClass(g).removeClass(b),l===undefined?r.removeAttr("style"):r.attr("style",l),e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),e._fields=null},t.prototype.refresh=function(e,t){var r=this,i=r._fields,s=i.panel1;if(i._isResizing)return;(t||t===undefined)&&r._updateElementsCss(),r._updateElements();if(e||e===undefined){if(!n.fn.resizable)return;s&&s.n.is(":ui-resizable")&&s.n.resizable("destroy"),r._initResizer()}},t.prototype._createDisabledDiv=function(e){var t=this,r=e?e:t.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight(),u={"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top};return n.browser.msie&&n.extend(u,{"background-color":"#fff",opacity:.1}),n("<div></div>").addClass(t.options.wijCSS.stateDisabled).css(u)},t.prototype._splitterify=function(){var e=this,t=e.element,r=e.options,i=e._fields,s,o,u,a,f={n:undefined,content:t.find(">div:eq(0)")},l={n:undefined,content:t.find(">div:eq(1)")};i.originalStyle=t.attr("style"),s=n("<div></div>").appendTo(t),f.n=n("<div></div>").appendTo(s),f.content.length===0?f.content=n("<div></div>"):(i.oriPnl1Content=f.content,i.oriPnl1ContentStyle=f.content.attr("style")),f.content.appendTo(f.n),o=n("<div></div>").appendTo(s),r.barZIndex!==-1&&o.css("z-index",r.barZIndex),u=n("<div></div>").appendTo(o).attr("role","button"),a=n("<span></span>").appendTo(u),l.n=n("<div></div>").appendTo(s),l.content.length===0?l.content=n("<div></div>"):(i.oriPnl2Content=l.content,i.oriPnl2ContentStyle=l.content.attr("style")),l.content.appendTo(l.n),i.wrapper=s,i.panel1=f,i.panel2=l,i.bar=o,i.expander=u,i.icon=a},t.prototype._updateElementsCss=function(){var e=this,t=e.element,n=e.options,r=n.orientation==="vertical",i=e._fields,s=i.wrapper,o=n.collapsingPanel,u=n.collapsingPanel==="panel1"?"panel2":"panel1",a=i.bar,f=i.expander,l=i.icon,c=n.wijCSS,h=c.vSplitterCss,p=c.vSplitterCssPrefix,d=c.hSplitterCss,v=c.hSplitterCssPrefix,m=c.panelCss;t.removeClass(h).removeClass(d).addClass(r?h:d),s.attr("class",c.wrapperCss),i[o].n.removeClass(p+m[o].n).removeClass(v+m[o].n).addClass((r?p:v)+m[o].n),i[o].content.removeClass(p+m[o].content).removeClass(v+m[o].content).removeClass(c.content).addClass((r?p:v)+m[o].content).addClass(c.content),a.attr("class",(r?p:v)+c.barCss+" "+c.header).css("width","").css("height",""),f.attr("class",c.cornerCssPrefix+(r?"bl "+p:"tr "+v)+c.expanderCss+" "+c.stateDefault).css("left","").css("top",""),l.attr("class",c.icon+" "+(r?c.iconArrowLeft:c.iconArrowUp)),i[u].n.removeClass(p+m[u].n).removeClass(v+m[u].n).addClass((r?p:v)+m[u].n),i[u].content.removeClass(p+m[u].content).removeClass(v+m[u].content).removeClass(c.content).addClass((r?p:v)+m[u].content).addClass(c.content),e._updateExpanderCss()},t.prototype._updateExpanderCss=function(){var e=this,t=e.options,n=e._fields,r=n.expander,i=n.icon,s=t.wijCSS,o=s.cornerCssPrefix,u=t.orientation==="vertical",a=t.collapsingPanel!=="panel1",f=u?s.vSplitterCssPrefix:s.hSplitterCssPrefix,l=(u?1:0)*2+(a?1:0),c=["bl","tr","tr","bl"][l],h=["br","tl"][+a],p=[s.iconArrowDown,s.iconArrowUp,s.iconArrowRight,s.iconArrowLeft][l],d=["tr","bl","bl","tr"][l],v=["tl","br"][+a],m=[s.iconArrowUp,s.iconArrowDown,s.iconArrowLeft,s.iconArrowRight][l];r.removeClass(f+t.collapsingPanel+"-"+s.expandedCss).removeClass(f+t.collapsingPanel+"-"+s.collapsedCss).removeClass(o+c).removeClass(o+h).removeClass(o+d).removeClass(o+v),i.removeClass(p).removeClass(m),t.panel1.collapsed||t.panel2.collapsed?(r.addClass(o+c).addClass(o+h).addClass(f+t.collapsingPanel+"-"+s.collapsedCss),i.addClass(p)):(r.addClass(o+d).addClass(o+v).addClass(f+t.collapsingPanel+"-"+s.expandedCss),i.addClass(m))},t.prototype._AddVisiblity=function(e){e.wijTriggerVisibility&&e.wijTriggerVisibility()},t.prototype._updateElements=function(){var e=this,t=e.element,n=e.options,r=n.splitterDistance,i=n.collapsingPanel,s=n.collapsingPanel==="panel1"?"panel2":"panel1",o=e._fields,u=o.wrapper,a=o.panel1,f=o.panel2,l=o.bar,c=o.expander,h=t.width(),p=t.height(),d,v;u.height(p),e._setPanelsScrollMode(),n.orientation==="vertical"?(d=l.outerWidth(!0),r>h-d&&(r=h-d),u.width(h*2),n.panel1.collapsed?(i==="panel1"&&c.addClass(n.wijCSS.vSplitterCssPrefix+"panel1"+"-"+n.wijCSS.collapsedCss),o.panel1.n.css("display","none"),o.panel2.n.css("display",""),this._AddVisiblity(o.panel2.n),r=0):(i==="panel1"&&c.addClass(n.wijCSS.vSplitterCssPrefix+"panel1"+"-"+n.wijCSS.expandedCss),o.panel1.n.css("display",""),this._AddVisiblity(o.panel1.n),o.panel2.n.css("display",n.panel2.collapsed?"none":"")),n.panel2.collapsed?(i==="panel2"&&c.addClass(n.wijCSS.vSplitterCssPrefix+"panel2"+"-"+n.wijCSS.collapsedCss),o.panel2.n.css("display","none"),r=i==="panel1"?h-d:h):(i==="panel2"&&c.addClass(n.wijCSS.vSplitterCssPrefix+"panel2"+"-"+n.wijCSS.expandedCss),o.panel2.n.css("display",""),this._AddVisiblity(o.panel2.n)),!n.panel1.collapsed&&!n.panel2.collapsed&&c.addClass(n.wijCSS.vSplitterCssPrefix+n.collapsingPanel+"-"+n.wijCSS.expandedCss),i==="panel1"?(o.panel1.n.height(p).width(r),o.panel2.n.height(p).width(h-r-d)):(o.panel1.n.height(p).width(r-d),o.panel2.n.height(p).width(h-r)),o.panel1.content.outerHeight(p,!0),l.outerHeight(p,!0),o.panel2.content.outerHeight(p,!0),c.css("cursor","pointer").css("top",p/2-c.outerHeight(!0)/2)):(v=l.outerHeight(!0),r>p-v&&(r=p-v),n.panel1.collapsed?(i==="panel1"&&c.addClass(n.wijCSS.hSplitterCssPrefix+"panel1"+"-"+n.wijCSS.collapsedCss),o.panel1.n.css("display","none"),o.panel2.n.css("display",""),this._AddVisiblity(o.panel2.n),r=0):(i==="panel1"&&c.addClass(n.wijCSS.hSplitterCssPrefix+"panel1"+"-"+n.wijCSS.expandedCss),o.panel1.n.css("display",""),this._AddVisiblity(o.panel1.n),o.panel2.n.css("display",n.panel2.collapsed?"none":"")),n.panel2.collapsed?(i==="panel2"&&c.addClass(n.wijCSS.hSplitterCssPrefix+"panel2"+"-"+n.wijCSS.collapsedCss),o.panel2.n.css("display","none"),r=i==="panel1"?p-v:p):(i==="panel2"&&c.addClass(n.wijCSS.hSplitterCssPrefix+"panel2"+"-"+n.wijCSS.expandedCss),o.panel2.n.css("display",""),this._AddVisiblity(o.panel2.n)),i==="panel1"?(o.panel1.n.width(h).height(r),o.panel2.n.width(h).height(p-r-v),o.panel1.content.outerHeight(r,!0),o.panel2.content.outerHeight(p-r-v,!0)):(o.panel1.n.width(h).height(r-v),o.panel2.n.width(h).height(p-r),o.panel1.content.outerHeight(r-v,!0),o.panel2.content.outerHeight(p-r,!0)),c.css("cursor","pointer").css("left",h/2-c.outerWidth(!0)/2)),c.css("display",n.showExpander?"":"none")},t.prototype._bindEvents=function(){var e=this,t=e.options,r=e._fields,i=r.bar,s=r.expander,o=e.widgetName;s.bind("mouseover."+o,function(e){if(t.disabled)return;s.addClass(t.wijCSS.stateHover)}).bind("mouseout."+o,function(e){if(t.disabled)return;s.removeClass(t.wijCSS.stateHover).removeClass(t.wijCSS.stateActive)}).bind("mousedown."+o,function(e){if(t.disabled)return;s.addClass(t.wijCSS.stateActive)}).bind("mouseup."+o,function(n){if(t.disabled)return;s.removeClass(t.wijCSS.stateActive),t.collapsingPanel==="panel1"?e._setPanel1Collapsed(!t.panel1.collapsed,n):e._setPanel2Collapsed(!t.panel2.collapsed,n)}),i.bind("mouseover."+o,function(e){if(t.disabled)return;i.addClass(t.wijCSS.stateHover)}).bind("mouseout."+o,function(e){if(t.disabled)return;i.removeClass(t.wijCSS.stateHover)}),r.panel1.n.bind("animating."+o,function(n){if(t.disabled)return;e._adjustLayout(e),e._trigger("sizing",n,null)}).bind("animated."+o,function(n){if(t.disabled)return;e._adjustLayout(e),e._trigger("sized",n,null)}),e.element.on("mouseover."+o,".ui-resizable-handle",function(e){if(t.disabled)return;i.addClass(t.wijCSS.stateHover)}).on("mouseout."+o,".ui-resizable-handle",function(e){if(t.disabled)return;i.removeClass(t.wijCSS.stateHover)}),n(window).bind("resize."+o,function(n){if(t.disabled)return;t.fullSplit&&e.element.is(":visible")&&(e._updateElements(),e._initResizer())})},t.prototype._setPanel1Collapsed=function(e,t){var r=this,i=r.options,s=i.panel1.collapsed,o=n(".ui-resizable-handle",r.element);if(s===e)return;if(i.collapsingPanel==="panel1"&&!r._trigger(s?"expand":"collapse",t,null))return;i.panel1.collapsed=e,e?(i.panel2.collapsed=!1,i.collapsingPanel==="panel2"&&o.hide()):o.show(),r._updateElements(),r._updateExpanderCss(),i.collapsingPanel==="panel1"&&r._trigger(e?"collapsed":"expanded",t,null)},t.prototype._setPanel2Collapsed=function(e,t){var r=this,i=r.options,s=i.panel2.collapsed,o=n(".ui-resizable-handle",r.element);if(s===e)return;if(i.collapsingPanel==="panel2"&&!r._trigger(s?"expand":"collapse",t,null))return;i.panel2.collapsed=e,e?(i.panel1.collapsed=!1,i.collapsingPanel==="panel1"&&o.hide()):o.show(),r._updateElements(),r._updateExpanderCss(),i.collapsingPanel==="panel2"&&r._trigger(e?"collapsed":"expanded",t,null)},t.prototype._initResizer=function(){var e=this,t=e.element,r=e.options,i=e._fields,s=i.bar,o=r.collapsingPanel,u=r.collapsingPanel==="panel1"?"panel2":"panel1",a=r.resizeSettings,f=a.animationOptions,l=f.disabled?0:f.duration,c=t.width(),h=t.height(),p,d,v,m,g,y,b;if(!n.fn.resizable)return;r.orientation==="vertical"?(p=s.outerWidth(!0),d=c-p-r[u].minSize,v=r[o].minSize,v<2&&(v=2),i.panel1.n.resizable({zIndex:i.panel1.n.zIndex()+100,wijanimate:!0,minWidth:v,maxWidth:d,handles:"e",helper:r.wijCSS.vSplitterCssPrefix+r.wijCSS.resizeHelperCss,animateDuration:l,animateEasing:f.easing,disabledAnimate:f.disabled,ghost:a.ghost,start:function(){i._isResizing=!0},stop:function(){i._isResizing=!1}})):(m=s.outerHeight(!0),g=h-m-r[u].minSize,y=r[o].minSize,y<2&&(y=2),i.panel1.n.resizable({zIndex:i.panel1.n.zIndex()+100,wijanimate:!0,minHeight:y,maxHeight:g,handles:"s",helper:r.wijCSS.hSplitterCssPrefix+r.wijCSS.resizeHelperCss,animateDuration:l,animateEasing:f.easing,disabledAnimate:f.disabled,ghost:a.ghost,start:function(){i._isResizing=!0;var t=i.panel1.content.find("iframe")[0];t&&e._addTransparentDivForIframe(t,i.panel1);var n=i.panel2.content.find("iframe")[0];n&&e._addTransparentDivForIframe(n,i.panel2)},stop:function(){i._isResizing=!1;var e=i.panel1.content.find("iframe")[0];if(e){var t=n(e).parent().children()[0];n(t).remove()}var r=i.panel2.content.find("iframe")[0];if(r){var s=n(r).parent().children()[0];n(s).remove()}}})),b=n(".ui-resizable-handle",t),r[u].collapsed?b.hide():b.show(),n.browser.msie&&parseInt(n.browser.version)<7&&r.orientation==="vertical"&&b.height(t.height())},t.prototype._addTransparentDivForIframe=function(e,t){var r=t.content.width()-20,i=t.content.height(),s=n("<div style='width:"+r+"px; height:"+i+"px; background-color:gray; position:absolute; z-index:1000; filter:alpha(Opacity=0); opacity: 0'>");s.prependTo(t.content)},t.prototype._adjustLayout=function(e){var t=e.options,n=e._fields,r=n.panel1,i=t.orientation==="vertical"?r.n.width():r.n.height();if(t.splitterDistance===i)return;t.splitterDistance=i,e._updateElements()},t.prototype._setPanelsScrollMode=function(){var e=this,t=e._fields,r=e.options,i=[r.panel1.scrollBars,r.panel2.scrollBars];n.each([t.panel1,t.panel2],function(e,t){i[e]==="auto"?t.content.css("overflow","auto"):i[e]==="both"?t.content.css("overflow","scroll"):i[e]==="none"?t.content.css("overflow","hidden"):i[e]==="horizontal"?t.content.css("overflow-x","scroll").css("overflow-y","hidden"):i[e]==="vertical"&&t.content.css("overflow-x","hidden").css("overflow-y","scroll")})},t}(e.wijmoWidget);t.wijsplitter=i;var s=function(){function e(){this.initSelector=":jqmData(role='wijsplitter')",this.sizing=null,this.sized=null,this.expand=null,this.collapse=null,this.expanded=null,this.collapsed=null,this.barZIndex=-1,this.showExpander=!0,this.splitterDistance=100,this.orientation="vertical",this.fullSplit=!1,this.resizeSettings={animationOptions:{duration:100,easing:"swing",disabled:!1},ghost:!1},this.panel1={minSize:1,collapsed:!1,scrollBars:"auto"},this.panel2={minSize:1,collapsed:!1,scrollBars:"auto"},this.collapsingPanel="panel1",this.wijCSS={cornerCssPrefix:"ui-corner-",arrowCssPrefix:"ui-icon-triangle-1-",panelCss:{panel1:{n:"panel1",content:"panel1-content"},panel2:{n:"panel2",content:"panel2-content"}},wrapperCss:"wijmo-wijsplitter-wrapper",hSplitterCss:"wijmo-wijsplitter-horizontal",vSplitterCss:"wijmo-wijsplitter-vertical",hSplitterCssPrefix:"wijmo-wijsplitter-h-",vSplitterCssPrefix:"wijmo-wijsplitter-v-",collapsedCss:"collapsed",expandedCss:"expanded",resizeHelperCss:"resize-helper",barCss:"bar",expanderCss:"expander"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body ui-body-b",stateDefault:"ui-btn ui-btn-b"}}return e}();i.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new s),n.wijmo.registerWidget("wijsplitter",i.prototype),!i.prototype._isMobile&&n.ui!=null&&n.ui.plugin!=null&&n.ui.plugin.add("resizable","wijanimate",{stop:function(e,t){var r=n(this).data("uiResizable"),i=r.options,s=r.element,o=r._proportionallyResizeElements,u=o.length&&/textarea/i.test(o[0].nodeName),a=u&&n.ui.hasScroll(o[0],"left")?0:r.sizeDiff.height,f=u?0:r.sizeDiff.width,l,c,h;s.css("width",r.originalSize.width).css("height",r.originalSize.height),l={width:r.size.width-f,height:r.size.height-a},c=parseInt(s.css("left"),10)+(r.position.left-r.originalPosition.left)||null,h=parseInt(s.css("top"),10)+(r.position.top-r.originalPosition.top)||null,i.disabledAnimate?(s.css(n.extend(l,h&&c?{top:h,left:c}:{})),s.trigger("animated")):s.animate(n.extend(l,h&&c?{top:h,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var t={width:parseInt(s.css("width"),10),height:parseInt(s.css("height"),10),top:parseInt(s.css("top"),10),left:parseInt(s.css("left"),10)};o&&o.length&&n(o[0]).css({width:t.width,height:t.height}),r._updateCache(t),r._propagate("resize",e),s.trigger("animating")},complete:function(){s.trigger("animated")}})}})})(e.splitter||(e.splitter={}));var t=e.splitter})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijmo-wijprogressbar",i="ui-progressbar",s=i+"-label",o=r+"-lb-",u=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){return n.ui.progressbar.prototype._create.apply(this,arguments)},t.prototype._destroy=function(){return n.ui.progressbar.prototype._destroy.apply(this,arguments)},t.prototype._setOptions=function(){return n.ui.progressbar.prototype._setOptions.apply(this,arguments)},t.prototype._setOption=function(e,t){return n.ui.progressbar.prototype._setOption.apply(this,arguments)},t.prototype._constrainedValue=function(e){return n.ui.progressbar.prototype._constrainedValue.apply(this,arguments)},t.prototype.value=function(e){return n.ui.progressbar.prototype.value.apply(this,arguments)},t.prototype._percentage=function(){return n.ui.progressbar.prototype._percentage.apply(this,arguments)},t.prototype._refreshValue=function(e){return n.ui.progressbar.prototype._refreshValue.apply(this,arguments)},t}(e.JQueryUIWidget);t.JQueryUIProgress=u;var a=function(){function e(){this.wijCSS={uiProgressbar:"ui-progressbar",uiProgressbarValue:"ui-progressbar-value"},this.labelAlign="center",this.maxValue=100,this.minValue=0,this.fillDirection="east",this.labelFormatString="{1}%",this.toolTipFormatString="{1}%",this.indicatorIncrement=1,this.indicatorImage="",this.animationDelay=0,this.animationOptions={disabled:!1,easing:null,duration:500},this.progressChanging=null,this.beforeProgressChanging=null,this.progressChanged=null,this.value=0}return e}(),f=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._setOption=function(e,t){var r=this,i=r.options,s;switch(e){case"value":i[e]=parseInt(t,10),r._refreshValue();return;case"maxValue":i.max=t;case"minValue":s=parseInt(t,10),i[e]=s,r[e==="maxValue"?"max":"min"]=s,r._refreshValue(!0);return;case"labelFormatString":case"toolTipFormatString":i[e]=t,r._refreshValue(!0);return;case"fillDirection":case"labelAlign":case"indicatorImage":i[e]=t,r._updateElementsCss();return;default:}n.Widget.prototype._setOption.apply(r,arguments),e==="disabled"&&r._handleDisabledOption(t,r.element)},t.prototype._create=function(){var t=this,i=t.options,o=i.wijCSS,u=t.element;t.directions={east:"left",west:"right",north:"bottom",south:"top"},t.min=i.minValue,t.max=i.max=i.maxValue,u.addClass(r),e.prototype._create.call(this),u.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").addClass(o.uiProgressbar).addClass(o.widget).addClass(o.content).addClass(o.cornerAll),this.valueDiv.removeClass("ui-progressbar-value ui-widget-header ui-corner-left").addClass(o.uiProgressbarValue).addClass(o.header),t.label=n("<span>").addClass(s).appendTo(u),t._updateElementsCss(),t._isInit=!0,i.disabled&&t.disable(),t._refreshValue()},t.prototype._handleDisabledOption=function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},t.prototype._createDisabledDiv=function(e){var t=this,r=e?e:t.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight(),u={"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top};return n.browser.msie&&n.extend(u,{"background-color":"#fff",opacity:.1}),n("<div></div>").addClass(t.options.wijCSS.stateDisabled).css(u)},t.prototype._triggerEvent=function(e,t,n,r){if(!r)return;return this._trigger(e,null,{oldValue:t,newValue:n})===!1},t.prototype._refreshValue=function(e){var t=this,r=t.options,i,s=r.animationOptions,o=r.indicatorIncrement,u=t.element,a,f,l;if(!t._isInit)return;l=u.attr("aria-valuenow"),a=t.value(),f=(a-t.min)/(t.max-t.min)*100,i=parseInt(l)!=a;if(t._triggerEvent("beforeProgressChanging",l,a,i))return;!s.disabled&&s.duration>0?setTimeout(function(){n.wijmo.wijprogressbar.animations.progress({content:t.valueDiv,complete:function(){o!==1&&(t._refreshProgress(f,a,i),r.labelAlign==="running"&&t._updateRunningLabelCss(f)),t._triggerEvent("progressChanged",l,a,i),t._lastStep=f},step:function(n){t._performAnimating(n,e,i)},progressValue:a*100},s)},r.animationDelay):(t._refreshProgress(Math.round(f)),r.labelAlign==="running"&&t._updateRunningLabelCss(f),t._lastStep=f,t._triggerEvent("progressChanged",l,a,i))},t.prototype._refreshProgress=function(e,t,r){var i=this,s=i.options,o=s.wijCSS,u=s.fillDirection,a=i.element;t===undefined&&(t=n.wijmo.wijprogressbar.mul(e,i.max-i.min)/100+i.min);if(i._triggerEvent("progressChanging",a.attr("aria-valuenow"),t,r))return;i._isHorizontal()?i.valueDiv.toggleClass(u==="east"?o.cornerRight:o.cornerLeft,t===i.max).width(e+"%"):i.valueDiv.toggleClass(u==="south"?o.cornerBottom:o.cornerTop,t===i.max).height(e+"%"),i.label.html(i._getFormatString(s.labelFormatString,e,t)),i._isHorizontal()||i._ajustLabelPosition(),a.attr("aria-valuenow",t).attr("title",i._getFormatString(s.toolTipFormatString,e,t))},t.prototype._isHorizontal=function(){var e=this.options.fillDirection;return e==="west"||e==="east"},t.prototype._getRotateTextOffset=function(e){var t,n;return e.css("width","auto"),t=e.outerWidth(),n=e.outerHeight(),e.css("width",""),Math.max(t-n-4,0)},t.prototype._updateElementsCss=function(){var e=this,t=e.options,n=e.element,i=t.fillDirection;n.removeClass(r+"-west "+r+"-east "+r+"-north "+r+"-south").addClass(r+"-"+i),e._updateProgressCss(),e._updateLabelCss()},t.prototype._updateLabelCss=function(){var e=this,t=e.options,r=e.element,i=t.labelAlign,s=e.label,u=e._lastStep,a=r.height();s.removeClass(o+"west "+o+"east "+o+"south "+o+"north "+o+"center "+o+"running").addClass(o+i).css({left:"",right:"",top:"",bottom:"",width:"","text-align":"","line-height":""}),i!=="north"&&i!=="south"&&(i!=="running"||!!e._isHorizontal())&&s.css("line-height",a+"px"),i==="running"?e._updateRunningLabelCss(u):e._isHorizontal()||(n.browser.msie||(i==="north"?s.css("width","100%").css("text-align","right"):i==="south"&&s.css("width","100%").css("text-align","left")),e._ajustLabelPosition())},t.prototype._updateRunningLabelCss=function(e){var t=this,r=t.options,i=r.fillDirection,s=t.element,o=t.label,u=t.valueDiv,a=t._isHorizontal(),f,l,c,h;f=s[a?"width":"height"](),l=o[a?"outerWidth":"outerHeight"](),c=u[a?"outerWidth":"outerHeight"](),!a&&!n.browser.msie&&(l+=t._getRotateTextOffset(o)),h=f===c?f-l:e*f/100-l+l*(f-c)/f,o.css(t.directions[i],h)},t.prototype._updateProgressCss=function(){var e=this,t=e.options,n=t.wijCSS,r=t.fillDirection,i=t.indicatorImage,s=e.valueDiv,o=e._lastStep,u=e.directions[r];i!==""&&s.css("background","transparent url("+i+") repeat fixed"),s.removeClass(n.cornerLeft+" "+n.cornerRight+" "+n.cornerTop+" "+n.cornerBottom).addClass(n["corner"+u.charAt(0).toUpperCase()+u.substring(1)]),typeof o=="number"?e._isHorizontal()?s.css("width",o+"%").css("height",""):s.css("height",o+"%").css("width",""):s.css({width:"",height:""})},t.prototype._performAnimating=function(e,t,r){var i=this,s=i.options,o=s.indicatorIncrement,u=e/100,a=n.wijmo.wijprogressbar.div(u-i.min,i.max-i.min)*100,f=0,l,c,h=2;if(o){o!==1?a=Math.floor(a/o)*o:(a=Math.round(a),h=0),i.pointNumber=f;if(i._lastStep===a&&!t)return}i._refreshProgress(Number(a.toFixed(h)),Number(u.toFixed(h)),r),s.labelAlign==="running"&&i._updateRunningLabelCss(a)},t.prototype._getFormatString=function(e,t,n){var r=this,i=r.max-n,s=100-t,o=/\{0\}/g;return e=e.replace(o,n.toString()),o=/\{ProgressValue\}/g,e=e.replace(o,n.toString()),o=/\{1\}/g,e=e.replace(o,t.toString()),o=/\{PercentProgress\}/g,e=e.replace(o,t.toString()),o=/\{2\}/g,e=e.replace(o,i.toString()),o=/\{RemainingProgress\}/g,e=e.replace(o,i.toString()),o=/\{3\}/g,e=e.replace(o,s.toString()),o=/\{PercentageRemaining\}/g,e=e.replace(o,s.toString()),o=/\{4\}/g,e=e.replace(o,r.min),o=/\{Min\}/g,e=e.replace(o,r.min),o=/\{5\}/g,e=e.replace(o,r.max),o=/\{Max\}/g,e=e.replace(o,r.max),e},t.prototype._ajustLabelPosition=function(){var e=this,t=e.options,r;t.labelAlign==="north"&&(r=n("<span>").addClass("ui-widget").html(e.label.html()).appendTo("body").hide(),e.label.css("top",r.width()-e.label.height()),r.remove())},t.prototype.value=function(e){return n.ui.progressbar.prototype.value.apply(this,arguments)},t.prototype.destroy=function(){var e=this,t=e.element;t.attr("title","").removeClass(r+" "+r+"-east "+r+"-west "+r+"-north "+r+"-south"),e.label&&e.label.remove(),e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),n.ui.progressbar.prototype.destroy.apply(this,arguments)},t}(u);t.wijprogressbar=f,n.ui&&n.ui.progressbar&&(f.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,n.ui.progressbar.prototype.options,new a),n.wijmo.registerWidget("wijprogressbar",n.ui.progressbar,f.prototype),n.extend(n.wijmo.wijprogressbar,{animations:{progress:function(e,t){e=n.extend({easing:"swing",duration:1e3},e,t),e.content.stop(!0,!0).animate({pgvalue:e.progressValue},e)}},add:function(e,t){var n=0,r=0,i;try{n=e.toString().split(".")[1].length}catch(s){}try{r=t.toString().split(".")[1].length}catch(o){}return i=Math.pow(10,Math.max(n,r)),(e*i+t*i)/i},mul:function(e,t){var n=0,r=e.toString(),i=t.toString();try{n+=r.split(".")[1].length}catch(s){}try{n+=i.split(".")[1].length}catch(o){}return Number(r.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,n)},div:function(e,t){var n=0,r=0,i,s;try{n=e.toString().split(".")[1].length}catch(o){}try{r=t.toString().split(".")[1].length}catch(u){}return i=Number(e.toString().replace(".","")),s=Number(t.toString().replace(".","")),i/s*Math.pow(10,r-n)}}))})(e.progressbar||(e.progressbar={}));var t=e.progressbar})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijdialog",i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){return n.ui.dialog.prototype._create.apply(this,arguments)},t.prototype._init=function(){return n.ui.dialog.prototype._init.apply(this,arguments)},t.prototype._destroy=function(){return n.ui.dialog.prototype._destroy.apply(this,arguments)},t.prototype._appendTo=function(){return n.ui.dialog.prototype._appendTo.apply(this,arguments)},t.prototype._setOptions=function(){return n.ui.dialog.prototype._setOptions.apply(this,arguments)},t.prototype._setOption=function(e,t){return n.ui.dialog.prototype._setOption.apply(this,arguments)},t.prototype.widget=function(){return n.ui.dialog.prototype.widget.apply(this,arguments)},t.prototype.close=function(){return n.ui.dialog.prototype.close.apply(this,arguments)},t.prototype.isOpen=function(){return n.ui.dialog.prototype.isOpen.apply(this,arguments)},t.prototype.moveToTop=function(){return n.ui.dialog.prototype.moveToTop.apply(this,arguments)},t.prototype._moveToTop=function(){return n.ui.dialog.prototype._moveToTop.apply(this,arguments)},t.prototype.open=function(){return n.ui.dialog.prototype.open.apply(this,arguments)},t.prototype._focusTabbable=function(){return n.ui.dialog.prototype._focusTabbable.apply(this,arguments)},t.prototype._keepFocus=function(){return n.ui.dialog.prototype._keepFocus.apply(this,arguments)},t.prototype._createWrapper=function(){return n.ui.dialog.prototype._createWrapper.apply(this,arguments)},t.prototype._createTitlebar=function(){return n.ui.dialog.prototype._createTitlebar.apply(this,arguments)},t.prototype._title=function(){return n.ui.dialog.prototype._title.apply(this,arguments)},t.prototype._createButtonPane=function(){return n.ui.dialog.prototype._createButtonPane.apply(this,arguments)},t.prototype._createButtons=function(){return n.ui.dialog.prototype._createButtons.apply(this,arguments)},t.prototype._makeDraggable=function(){return n.ui.dialog.prototype._makeDraggable.apply(this,arguments)},t.prototype._makeResizable=function(){return n.ui.dialog.prototype._makeResizable.apply(this,arguments)},t.prototype._minHeight=function(){return n.ui.dialog.prototype._minHeight.apply(this,arguments)},t.prototype._position=function(){return n.ui.dialog.prototype._position.apply(this,arguments)},t.prototype._size=function(){return n.ui.dialog.prototype._size.apply(this,arguments)},t.prototype._blockFrames=function(){return n.ui.dialog.prototype._blockFrames.apply(this,arguments)},t.prototype._unblockFrames=function(){return n.ui.dialog.prototype._unblockFrames.apply(this,arguments)},t.prototype._createOverlay=function(){if(!this.options.modal)return;var e=this,t=e.options.wijCSS;n.ui.dialog.overlayInstances||this._delay(function(){n.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(e){if(!n(e.target).closest(".ui-dialog").length&&!n(e.target).closest(".ui-datepicker").length){e.preventDefault();if(e.relatedTarget&&n(e.relatedTarget).closest(".ui-dialog").length)return;var t=n(".ui-dialog:visible:last .ui-dialog-content"),r;t.data("wijmo-wijdialog")?r=t.data("wijmo-wijdialog"):r=t.data("wijmo-c1dialog"),r&&r._focusTabbable()}})}),this.overlay=n("<div>").addClass(t.overlay+" "+t.uiFront+" "+t.wijdialogOverlay).appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),n.ui.dialog.overlayInstances++},t.prototype._destroyOverlay=function(){return n.ui.dialog.prototype._destroyOverlay.apply(this,arguments)},t}(e.JQueryUIWidget);t.JQueryUIDialog=i;var s=function(){function e(){this.wijCSS={wijdialog:"wijmo-wijdialog",wijdialogZone:"wijmo-wijdialog-defaultdockingzone",uiFront:"ui-front",uiDialog:"ui-dialog",wijdialogOverlay:"ui-dialog-overlay",uiDialogContent:"ui-dialog-content",wijdialogCaptionButton:"wijmo-wijdialog-captionbutton",wijdialogHasFrame:"wijmo-wijdialog-hasframe",iconPinW:"ui-icon-pin-w",iconPinS:"ui-icon-pin-s",iconRefresh:"ui-icon-refresh",iconCarat1N:"ui-icon-carat-1-n",iconCarat1S:"ui-icon-carat-1-s",iconMinus:"ui-icon-minus",iconExtlink:"ui-icon-extlink",iconNewWin:"ui-icon-newwin",uiDialogClose:"ui-dialog-titlebar-close",uiDialogTitleBar:"ui-dialog-titlebar",uiDialogButtonPanel:"ui-dialog-buttonpane",uiDialogButtons:"ui-dialog-buttons",wijdialogTitleBarClose:"",wijdialogTitleBarPin:"",wijdialogTitleBarRefresh:"",wijdialogTitleBarToggle:"",wijdialogTitleBarMinimize:"",wijdialogTitleBarMaximize:"",wijdialogTitleBarRestore:""},this.appendTo="body",this.autoOpen=!0,this.buttons=[],this.closeOnEscape=!0,this.closeText="close",this.dialogClass="",this.draggable=!0,this.height="auto",this.hide=null,this.maxHeight=null,this.maxWidth=null,this.minHeight=150,this.minWidth=150,this.modal=!1,this.position={my:"center",at:"center",of:window},this.resizable=!0,this.show=null,this.title=null,this.width=300,this.stack=!0,this.beforeClose=null,this.close=null,this.create=null,this.drag=null,this.dragStart=null,this.dragStop=null,this.focus=null,this.open=null,this.resize=null,this.resizeStart=null,this.resizeStop=null,this.zIndex=1e3,this.initSelector="",this.captionButtons={},this.collapsingAnimation=null,this.expandingAnimation=null,this.contentUrl="",this.minimizeZoneElementId="",this.buttonCreating=null,this.stateChanged=null,this.blur=null}return e}(),o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){var t=this,r=t.options,i=r.wijCSS,s=t.element.attr("title");t._titlebarButtonClassPrefix="wijmo-wijdialog-titlebar-",n.ui.dialog.maxZ=n.ui.dialog.maxZ||100,n.isArray(r.buttons)&&n.each(r.buttons,function(e,t){var n=t.click;n&&typeof n=="string"&&window[n]&&(t.click=window[n])}),t.form=t.element.closest("form[id]"),e.prototype._create.call(this),t.element.removeClass("ui-dialog-content ui-widget-content").addClass(i.uiDialogContent).addClass(i.content),t.uiDialog.removeClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front").addClass(i.uiDialog).addClass(i.widget).addClass(i.content).addClass(i.cornerAll).addClass(i.uiFront).addClass(i.wijdialog).removeClass(this.options.dialogClass).addClass(this.options.dialogClass),s&&t.uiDialog.attr("title",s),t.uiDialogTitlebar.removeClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").addClass(i.uiDialogTitleBar).addClass(i.header).addClass(i.cornerAll).addClass(i.helperClearFix),t._initWijWindow(),t._bindWindowResize(),t._attachDraggableResizableEvent(),t._originalPosition=r.position,t.uiDialog.css({zIndex:r.zIndex}),t.isPin=!1,t.options.appendTo==="body"&&t.form.length&&(t.formOnSubmit=t.form[0].onsubmit,t.form[0].onsubmit=function(){return t.uiDialog.appendTo(t.form),t.formOnSubmit?t.formOnSubmit():!0},t.uiDialog.find("input[type='submit'], button[type='submit']").bind("click.wijdialog",function(){t.form.submit()}))},t.prototype._createButtonPane=function(){var t=this.options.wijCSS;e.prototype._createButtonPane.call(this),this.uiDialogButtonPane.removeClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix").addClass(t.uiDialogButtonPanel).addClass(t.content).addClass(t.helperClearFix)},t.prototype._createButtons=function(){e.prototype._createButtons.call(this),this.uiDialog.hasClass("ui-dialog-buttons")&&this.uiDialog.removeClass("ui-dialog-buttons").addClass(this.options.wijCSS.uiDialogButtons)},t.prototype._makeDraggable=function(){e.prototype._makeDraggable.call(this),this.uiDialog.draggable("option","cancel","."+this.options.wijCSS.wijdialogCaptionButton)},t.prototype._createOverlay=function(){var t=this.options.wijCSS;e.prototype._createOverlay.call(this),this.overlay&&this.overlay.removeClass("ui-widget-overlay ui-front").addClass(t.overlay).addClass(t.uiFront)},t.prototype._handleDisabledOption=function(e,t){var r=this;this.uiDialog.removeClass(this.options.wijCSS.stateDisabled),e?(r.disabledDiv||(r.disabledDiv=r._createDisabledDiv()),r.disabledDiv.appendTo(r.options.appendTo),n.browser.msie&&r.uiDialog.data("ui-draggable")&&r.uiDialog.draggable("disable"),this.uiDialog.addClass(this.options.wijCSS.stateDisabled)):r.disabledDiv&&(r.disabledDiv.remove(),r.disabledDiv=null,n.browser.msie&&r.uiDialog.data("ui-draggable")&&r.uiDialog.draggable("enable"))},t.prototype._createDisabledDiv=function(){var e=this,t,r=e.uiDialog,i=r.offset(),s=r.outerWidth(),o=r.outerHeight();return t=n("<div></div>").addClass(e.options.wijCSS.stateDisabled).css({"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top}),n.browser.msie&&(t.css("background-color","white"),n.browser.version==="9.0"&&t.css("opacity","0.1")),t},t.prototype.destroy=function(){var t=this,n=t.options.wijCSS;t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null),t.options.appendTo==="body"&&t.form.length&&(t.uiDialog.find("input[type='submit'], button[type='submit']").off("click.wijdialog"),t.form[0].onsubmit=null,t.formOnSubmit&&(t.form[0].onsubmit=t.formOnSubmit)),e.prototype.destroy.call(this),t.element.removeClass(n.uiDialogContent).removeClass(n.content),t.element.unbind(".wijdialog").removeData("wijdialog").removeData(this.widgetFullName)},t.prototype._attachDraggableResizableEvent=function(){var e=this,t=e.uiDialog,n=e.options;n.draggable&&t.draggable&&t.bind("dragstop",function(t,n){e._saveNormalState(),e._destoryIframeMask()}).bind("dragstart",function(t,n){e._createIframeMask()}),n.resizable&&t.resizable&&t.bind("resizestop",function(t,n){e._saveNormalState(),e._destoryIframeMask()}).bind("resizestart",function(t,n){e._createIframeMask(),e.initWidth===undefined&&e.initHeight===undefined&&(e.initWidth=e.uiDialog.width(),e.initHeight=e.uiDialog.height())})},t.prototype._createIframeMask=function(){var e=this;e.innerFrame&&(e.mask=n("<div style='width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:"+(n.ui.dialog.maxZ+1)+"'></div>").appendTo(e.uiDialog))},t.prototype._destoryIframeMask=function(){var e=this;e.innerFrame&&e.mask&&(e.mask.remove(),e.mask=undefined)},t.prototype._initWijWindow=function(){var e=this,t=!0;e._createCaptionButtons(),e._checkUrl(),e.uiDialog.bind("mousedown",function(t){var r=t.target;n.contains(e.element[0],r)||e.uiDialog.focus()}).bind("mouseenter",function(e){t=!0}).bind("mouseleave",function(e){t=!1}).bind("focusout",function(n){t||e._trigger("blur",n,{el:e.element})})},t.prototype._moveToTop=function(e,t){var r=this,i=r.options,s;return i.modal&&!t||!i.stack&&!i.modal?(r._trigger("focus",e),!1):(i.zIndex>n.ui.dialog.maxZ&&(n.ui.dialog.maxZ=i.zIndex),r.overlay&&(n.ui.dialog.maxZ+=1,r.overlay.css("z-index",n.ui.dialog.maxZ)),s={scrollTop:r.element.scrollTop(),scrollLeft:r.element.scrollLeft()},n.ui.dialog.maxZ+=1,r.uiDialog.css("z-index",n.ui.dialog.maxZ),r.element.attr(s),r._trigger("focus",e),!1)},t.prototype._checkUrl=function(){var e=this,t=e.options,r=t.contentUrl,i=n('<iframe style="width:100%;height:99%;" frameborder="0"></iframe>');typeof r=="string"&&r.length>0&&(e.element.addClass(t.wijCSS.wijdialogHasFrame),e.element.append(i),e.innerFrame=i),e.contentWrapper=e.element},t.prototype._setOption=function(t,r){var i=this;e.prototype._setOption.call(this,t,r),t==="disabled"?i._handleDisabledOption(r,i.element):t==="contentUrl"?i.innerFrame?i.innerFrame.attr("src",r):i._checkUrl():t==="captionButtons"?i._createCaptionButtons():t==="minimizeZoneElementId"?i.getState()==="minimized"&&n("#"+r).length>0&&n("#"+r).append(i.uiDialog):t==="stack"&&(r||i.uiDialog.css("z-index",i.options.zIndex))},t.prototype._createCaptionButtons=function(){var e=[],t=this,r=t.options,i,s=r.wijCSS,o={pin:{visible:!0,click:t.pin,iconClassOn:s.iconPinW,iconClassOff:s.iconPinS},refresh:{visible:!0,click:t.refresh,iconClassOn:s.iconRefresh},toggle:{visible:!0,click:t.toggle,iconClassOn:s.iconCarat1N,iconClassOff:s.iconCarat1S},minimize:{visible:!0,click:t.minimize,iconClassOn:s.iconMinus},maximize:{visible:!0,click:t.maximize,iconClassOn:s.iconExtlink},close:{visible:!0,text:r.closeText,click:t.close,iconClassOn:s.iconClose}},u=r.captionButtons,a=t.uiDialogTitlebar;a.children("."+r.wijCSS.uiDialogClose+", ."+r.wijCSS.wijdialogCaptionButton).remove(),n.each(o,function(t,r){u&&u[t]&&n.extend(r,u[t]),e.push({button:t,info:r})}),t._trigger("buttonCreating",null,e);for(i=0;i<e.length;i++)t._createCaptionButton(e[i],a)},t.prototype._createCaptionButton=function(e,t,r){var i=this,s=i.options.wijCSS,o,u=i._titlebarButtonClassPrefix+e.button+" "+s["wijdialogTitleBar"+e.button.charAt(0).toUpperCase()+e.button.substring(1)],a=t.children("."+i._titlebarButtonClassPrefix+e.button),f=e.info,l=n("<span></span>");if(f.visible){if(a.size()===0){l.addClass("ui-icon "+f.iconClassOn).text(f.text||e.button),o=n('<a href="#"></a>').append(l).addClass(u+" ui-corner-all "+s.wijdialogCaptionButton).attr("role","button").hover(function(){o.addClass(s.stateHover)},function(){o.removeClass(s.stateHover)}).click(function(e){return l.hasAllClasses(f.iconClassOff)?l.removeClass(f.iconClassOff):l.addClass(f.iconClassOff),n.isFunction(f.click)&&f.click.apply(i,arguments),!1});if(r)return o;o.appendTo(t)}i[e.button+"Button"]=o}else a.remove()},t.prototype.pin=function(){var e=this.isPin,t=this.pinButton.children("span"),n=this.options.wijCSS;e?t.removeClass(n.iconPinS):t.length&&(t.hasAllClasses(n.iconPinS)||t.addClass(n.iconPinS)),this._enableDisableDragger(!e),this.isPin=!e},t.prototype.refresh=function(){var e=this.innerFrame;e!==undefined&&e.attr("src",e.attr("src"))},t.prototype.toggle=function(){var e=this,t=e.toggleButton.children("span"),n=e.options.wijCSS;e.minimized||(e.collapsed===undefined||!e.collapsed?(e.collapsed=!0,t.hasAllClasses(n.iconCarat1S)||t.addClass(n.iconCarat1S),e._collapseDialogContent(!0)):(e.collapsed=!1,t.hasAllClasses(n.iconCarat1S)&&t.removeClass(n.iconCarat1S),e._expandDialogContent(!0)))},t.prototype._expandDialogContent=function(e){var t=this,r=t.options,i=r.expandingAnimation;t.uiDialog.height("auto"),e&&i!==null?t.contentWrapper.show(i.animated,i.options,i.duration,function(e){t.uiDialog.css("height",t._toggleHeight),n.isFunction(i.callback)&&i.callback(e),r.resizable&&t._enableDisableResizer(!1)}):(t.contentWrapper.show(),r.resizable&&t._enableDisableResizer(!1),t.uiDialog.css("height",t.toggleHeight))},t.prototype._collapseDialogContent=function(e,t){var n=this,r=n.options,i=r.collapsingAnimation;r.resizable&&n._enableDisableResizer(!0),t||(n._toggleHeight=n.uiDialog[0].style.height),n.uiDialog.height("auto"),e&&i!==null?n.contentWrapper.hide(i.animated,i.options,i.duration):n.contentWrapper.hide(),n._enableDisableDragger(n.isPin)},t.prototype._enableDisableResizer=function(e){var t=this.uiDialog;if(!this.options.resizable)return;t.resizable({disabled:e}),e&&t.removeClass(this.options.wijCSS.stateDisabled)},t.prototype._enableDisableDragger=function(e){var t=this.uiDialog;if(!this.options.draggable)return;t.draggable({disabled:e}),e&&t.removeClass(this.options.wijCSS.stateDisabled)},t.prototype.minimize=function(){var e=this,t=e.uiDialog,r=e.options,i=r.wijCSS,s=null,o=n("<div></div>"),u=n("<div></div>"),a,f,l,c,h={width:undefined,height:undefined},p,d={width:undefined,height:undefined},v="uiDialog",m;e.minimized||(c=e.uiDialog.position(),h.width=e.uiDialog.width(),h.height=e.uiDialog.height(),m=e.getState(),e.maximized?(e.maximized=!1,e.restoreButton.remove(),n(window).unbind(".onWinResize")):(e.collapsed&&e._expandDialogContent(!1),e._saveNormalState()),e._enableDisableResizer(!0),e.collapsed&&e._collapseDialogContent(!1),o.appendTo(e.options.appendTo).css({top:e.uiDialog.offset().top,left:e.uiDialog.offset().left,height:e.uiDialog.innerHeight(),width:e.uiDialog.innerWidth(),position:"absolute"}),e.contentWrapper.hide(),e.uiDialogButtonPane.length&&e.uiDialogButtonPane.hide(),t.height("auto"),t.width("auto"),e._doButtonAction(e.minimizeButton,"hide"),e._restoreButton(!0,e.minimizeButton,"After"),e._doButtonAction(e.pinButton,"hide"),e._doButtonAction(e.refreshButton,"hide"),e._doButtonAction(e.toggleButton,"hide"),e._doButtonAction(e.maximizeButton,"show"),n.browser.webkit&&n("."+i.wijdialogCaptionButton,e.uiDialog).css("float","left"),e.innerFrame&&(v="copy",e[v]=e.uiDialog.clone(),e[v].empty(),e.uiDialogTitlebar.appendTo(e[v])),r.minimizeZoneElementId.length>0&&(s=n("#"+r.minimizeZoneElementId)),s!==null&&s.size()>0?s.append(e[v]):(a=n("."+i.wijdialogZone),a.size()===0&&(a=n('<div class="'+i.wijdialogZone+'"></div>'),n(document.body).append(a)),a.append(e[v]).css("z-index",t.css("z-index"))),e[v].css("position","static"),e[v].css("float","left"),n.browser.msie&&n.browser.version==="6.0"&&(f=n(document).scrollTop(),l=document.documentElement.clientHeight-a.height()+f,a.css({position:"absolute",left:"0px",top:l})),u.appendTo("body").css({top:e[v].offset().top,left:e[v].offset().left,height:e[v].innerHeight(),width:e[v].innerWidth(),position:"absolute"}),e.uiDialog.hide(),e.innerFrame&&e[v].hide(),o.effect("transfer",{to:u,className:i.content},100,function(){o.remove(),u.remove(),e[v].show(),e.minimized=!0,p=e.uiDialog.position(),d.width=e.uiDialog.width(),d.height=e.uiDialog.height(),e._enableDisableDragger(!0),e._trigger("resize",null,{originalPosition:c,originalSize:h,position:p,size:d}),e._trigger("stateChanged",null,{originalState:m,state:"minimized"})}))},t.prototype._doButtonAction=function(e,t){e!==undefined&&(e.removeClass(this.options.wijCSS.stateHover),e[t]())},t.prototype.maximize=function(){var e=this,t=n(window),r,i={width:undefined,height:undefined},s,o={width:undefined,height:undefined},u;e.maximized||(e._enableDisableDragger(!1),r=e.uiDialog.position(),i.width=e.uiDialog.width(),i.height=e.uiDialog.height(),e.minimized?e.restore():(e.collapsed&&e._expandDialogContent(!1),e._saveNormalState(),u="normal"),e.maximized=!0,e.maximizeButton!==undefined&&(e.maximizeButton.hide(),e._restoreButton(!0,e.maximizeButton,"Before")),n.browser.webkit&&n("."+this.options.wijCSS.wijdialogCaptionButton).css("float",""),e._onWinResize(e,t),e.collapsed&&e._collapseDialogContent(!1),e.collapsed||e._enableDisableDragger(!0),e._enableDisableResizer(!0),s=e.uiDialog.position(),o.width=e.uiDialog.width(),o.height=e.uiDialog.height(),e._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),u==="normal"&&e._trigger("stateChanged",null,{originalState:"normal",state:"maximized"}))},t.prototype._bindWindowResize=function(){var e=this,t=n(window),r,i,s;t.resize(function(){e.maximized&&e._onWinResize(e,t)}),n.browser.msie&&n.browser.version==="6.0"&&t.bind("scroll.wijdialog resize.wijdialog",function(){e.minimized&&(i=n(document).scrollTop(),s=e.uiDialog.parent(),r=document.documentElement.clientHeight-s.height()+i,s.css({top:r}))})},t.prototype._saveNormalState=function(){var e=this,t=e.uiDialog,n=e.element;e.maximized||(e.normalWidth=t.css("width"),e.normalLeft=t.css("left"),e.normalTop=t.css("top"),e.normalHeight=t.css("height"),e.normalInnerHeight=n.css("height"),e.normalInnerWidth=n.css("width"),e.normalInnerMinWidth=n.css("min-width"),e.normalInnerMinHeight=n.css("min-height"))},t.prototype._onWinResize=function(e,t){e.uiDialog.css("top",t.scrollTop()),e.uiDialog.css("left",t.scrollLeft()),e.uiDialog.setOutWidth(t.width()),e.uiDialog.setOutHeight(t.height()),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height(),e._size(),e.collapsed&&(e.uiDialog.height("auto"),e.contentWrapper.hide())},t.prototype._restoreButton=function(e,t,n){var r=this,i={button:"restore",info:{visible:e,click:r.restore,iconClassOn:this.options.wijCSS.iconNewWin}},s=r._createCaptionButton(i,r.uiDialogTitlebar,!0);e&&(s["insert"+n](t),r.restoreButton=s)},t.prototype._appendToBody=function(e){this.innerFrame?(this.uiDialogTitlebar.prependTo(e),e.show()):e.appendTo(this.options.appendTo)},t.prototype.restore=function(){var e=this,t=e.uiDialog,r,i={width:undefined,height:undefined},s,o={width:undefined,height:undefined},u=n("<div></div>"),a=n("<div></div>"),f="uiDialog",l;e.minimized?(e.minimized=!1,e.innerFrame&&(f="copy",e[f]||(f="uiDialog")),r=e[f].position(),i.width=e[f].width(),i.height=e[f].height(),u.appendTo(e.options.appendTo).css({top:e[f].offset().top,left:e[f].offset().left,height:e[f].innerHeight(),width:e[f].innerWidth(),position:"absolute"}),t.css("position","absolute"),t.css("float",""),e._appendToBody(t),e._enableDisableResizer(!1),e.isPin||e._enableDisableDragger(!1),e._restoreToNormal(),e.contentWrapper.show(),e.uiDialogButtonPane.length&&e.uiDialogButtonPane.show(),a.appendTo(e.options.appendTo).css({top:e.uiDialog.offset().top,left:e.uiDialog.offset().left,height:e.uiDialog.innerHeight(),width:e.uiDialog.innerWidth(),position:"absolute"}),e.uiDialog.hide(),u.effect("transfer",{to:a,className:this.options.wijCSS.content},150,function(){e.uiDialog.show(),s=e.uiDialog.position(),o.width=e.uiDialog.width(),o.height=e.uiDialog.height(),u.remove(),a.remove(),e.copy&&e.copy.remove(),e._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),l=e.getState(),e._trigger("stateChanged",null,{originalState:"minimized",state:l})}),e.collapsed&&e._collapseDialogContent(),e._doButtonAction(e.minimizeButton,"show"),e._doButtonAction(e.restoreButton,"remove"),e._doButtonAction(e.pinButton,"show"),e._doButtonAction(e.refreshButton,"show"),e._doButtonAction(e.toggleButton,"show"),n.browser.webkit&&n("."+this.options.wijCSS.wijdialogCaptionButton).css("float","")):e.maximized&&(e.maximized=!1,r=e.uiDialog.position(),i.width=e.uiDialog.width(),i.height=e.uiDialog.height(),n(window).unbind(".onWinResize"),e.collapsed&&e._expandDialogContent(),e._enableDisableResizer(!1),e.isPin||e._enableDisableDragger(!1),e._restoreToNormal(),e.contentWrapper.show(),e.collapsed&&e._collapseDialogContent(),e.maximizeButton!==undefined&&(e.maximizeButton.show(),e._restoreButton(!1,e.maximizeButton,"before")),s=e.uiDialog.position(),o.width=e.uiDialog.width(),o.height=e.uiDialog.height(),e._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),l=e.getState(),e._trigger("stateChanged",null,{originalState:"maximized",state:l}))},t.prototype.getState=function(){var e=this;return e.minimized?"minimized":e.maximized?"maximized":"normal"},t.prototype.reset=function(){var e=this;e.getState()==="normal"?(e.normalWidth=e.normalLeft=e.normalTop=e.normalHeight=e.normalInnerHeight=e.normalInnerWidth=e.normalInnerMinWidth=e.normalInnerMinHeight=undefined,e.initHeight&&e.initWidth&&(e.options.width=e.initWidth,e.options.height=e.initHeight,e._size()),e._setOption("position",e._originalPosition)):(e.element.one(this.widgetEventPrefix+"statechanged",function(){e.normalWidth=e.normalLeft=e.normalTop=e.normalHeight=e.normalInnerHeight=e.normalInnerWidth=e.normalInnerMinWidth=e.normalInnerMinHeight=undefined,e.initHeight&&e.initWidth&&(e.options.width=e.initWidth,e.options.height=e.initHeight,e._size()),e._setOption("position",e._originalPosition)}),e.restore())},t.prototype.open=function(){var t=this,r=t.options,i;(r.hide==="drop"||r.hide==="bounce")&&n.browser.msie&&t.uiDialog.css("filter","auto"),t.innerFrame?(t._isIE9()?(i=["blind","bounce","clip","drop","explode","fold","size","shake","slide","transfer"],r.show&&i.indexOf(r.show)>-1&&(r.show=null),window.setTimeout(function(){t.innerFrame.attr("src",r.contentUrl)},200)):t.innerFrame.attr("src",r.contentUrl),t.minimized?(t._setOpener(),t.uiDialogTitlebar.show(),t._isOpen=!0):e.prototype.open.call(this)):(t.minimized?(t._setOpener(),t.uiDialog.show(),t._isOpen=!0):e.prototype.open.call(this),t.uiDialog.wijTriggerVisibility()),t.collapsed&&t._collapseDialogContent(!1,!0),r.disabled&&(t.disabledDiv?t.disabledDiv.show():t.disable())},t.prototype._setOpener=function(){var e=this;!e.opener&&e.document&&e.document[0]&&(e.opener=n(e.document[0].activeElement))},t.prototype._isIE9=function(){return n.browser.msie&&parseInt(n.browser.version)===9},t.prototype.close=function(){var t=this,n=t.options,r;t.innerFrame&&t._isIE9()&&(r=["blind","bounce","clip","drop","explode","fold","size","shake","slide","transfer"],n.hide&&r.indexOf(n.hide)>-1&&(n.hide=null)),e.prototype.close.call(this)&&(t.innerFrame&&(t.innerFrame.attr("src",""),t.minimized&&t.uiDialogTitlebar.hide()),t.disabledDiv&&n.disabled&&t.disabledDiv.hide())},t.prototype._restoreToNormal=function(){var e=this,t=e.uiDialog,n=e.element;t.css("width",e.normalWidth),t.css("left",e.normalLeft),t.css("top",e.normalTop),t.css("height",e.normalHeight),n.css("height",e.normalInnerHeight),n.css("width",e.normalInnerWidth),n.css("min-width",e.normalInnerMinWidth),n.css("min-height",e.normalInnerMinHeight),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height()},t}(i);t.wijdialog=o,n.ui&&n.ui.dialog&&(n.extend(n.ui.dialog.overlay,{create:function(t){this.instances.length===0&&(setTimeout(function(){n.ui.dialog.overlay.instances.length&&n(document).bind(n.ui.dialog.overlay.events,function(e){if(n(e.target).zIndex()<n.ui.dialog.overlay.maxZ&&!n.contains(t.element[0],e.target))return!1})},1),n(document).bind("keydown.dialog-overlay",function(n){var r=e.getKeyCodeEnum();t.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===r.ESCAPE&&(t.close(n),n.preventDefault())}),n(window).bind("resize.dialog-overlay",n.ui.dialog.overlay.resize));var r=(this.oldInstances.pop()||n("<div></div>").addClass(t.options.wijCSS.overlay)).appendTo(document.body).css({width:this.width(),height:this.height()});return n.fn.bgiframe&&r.bgiframe(),this.instances.push(r),r},height:function(){var e,t;return n.browser.msie?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),t=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),e<t?n(window).height()+"px":e+"px"):n(document).height()+"px"},width:function(){var e,t;return n.browser.msie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),t=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),e<t?n(window).width()+"px":e+"px"):n(document).width()+"px"}}),o.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,n.ui.dialog.prototype.options,new s),o.prototype.disable=function(){return this._setOption("disabled",!0)},o.prototype.enable=function(){return this._setOption("disabled",!1)},n.wijmo.registerWidget(r,n.ui.dialog,o.prototype))})(e.dialog||(e.dialog={}));var t=e.dialog})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijaccordion",i="wijmo-wijaccordion",s="wijmo-wijaccordion-top",o="wijmo-wijaccordion-bottom",u="wijmo-wijaccordion-left",a="wijmo-wijaccordion-right",f="wijmo-wijaccordion-header",l="wijmo-wijaccordion-content",c="wijmo-wijaccordion-content-active",h="wijmo-wijaccordion-icons",p="ui-helper-horizontal",d=function(t){function r(){t.apply(this,arguments),this.widgetEventPrefix="wijaccordion"}return __extends(r,t),r.prototype._setOption=function(e,n){var r=this.options;if(r[e]!==n)switch(e){case"selectedIndex":this.activate(n);break;case"disabled":n?this.element.addClass(r.wijCSS.stateDisabled):this.element.removeClass(r.wijCSS.stateDisabled);break;case"event":this._unbindLiveEvents(),this.options.event=n,this._bindLiveEvents();break;case"header":this._handleHeaderChange(n,r.header);break;case"animated":break;case"expandDirection":this._onDirectionChange(n,!0,r.expandDirection);break;default:}t.prototype._setOption.call(this,e,n)},r.prototype._handleHeaderChange=function(e,t){var n=this.options.wijCSS,r=this.element.find(t);r.removeClass(n.wijaccordionHeader).removeClass(f).removeClass(n.stateActive).removeClass(this._triangleIconOpened),r.siblings("."+l).removeClass(n.wijaccordionContent).removeClass(l).removeClass(n.content).removeClass(n.wijaccordionContentActive).removeClass(c),this._initHeaders(e)},r.prototype._initHeaders=function(e){typeof e=="undefined"&&(e=null);var t=this.options,e=e?e:t.header,n=this.element.find(e);n.each(jQuery.proxy(this._initHeader,this))},r.prototype._initHeader=function(t,r){var s=this.options,o=s.wijCSS,u=this.element.data("rightToLeft"),a=n(r),h=n(a.next()[0]);u&&(a.remove(),a.insertAfter(h)),a.addClass(f).addClass(o.wijaccordionHeader).attr("role","tab"),h.attr("role","tabpanel"),a.find("> a").length===0&&a.wrapInner('<a href="#"></a>'),a.find("> ."+e.getCSSSelector(o.icon)).length===0&&n("<span></span>").addClass(o.icon).insertBefore(n("> a",a)[0]),t===s.selectedIndex?(a.addClass(o.stateDefault).addClass(o.stateActive).addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}),a.find("> ."+e.getCSSSelector(o.icon)).addClass(this._triangleIconOpened),h.addClass(c).addClass(o.wijaccordionContentActive).addClass(this._contentCornerOpened).wijTriggerVisibility()):(a.addClass(o.stateDefault).addClass(o.cornerAll).attr({"aria-expanded":"false",tabIndex:-1}),a.find("> .ui-icon").addClass(this._triangleIconClosed),h.hide()),h.addClass(l).addClass(o.wijaccordionContent).addClass(o.content);for(;;){if(a.parent().hasClass(i))break;a.unwrap()}},r.prototype._create=function(){var e=this.options,r=this;window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n)),this.element.addClass(i).addClass(e.wijCSS.wijaccordion).addClass(e.wijCSS.widget).addClass(h).addClass(e.wijCSS.wijaccordionIcons).addClass(e.wijCSS.helperClearFix),e.disabled&&this.element.addClass(e.wijCSS.stateDisabled),this._onDirectionChange(e.expandDirection,!1),this._initHeaders(),this.element.attr("role","tablist"),n(window).on("resize.wijaccordion",function(e){r._adjustAccordion()}),(e.expandDirection==="left"||e.expandDirection==="right")&&r._adjustAccordion(),this._getDefaultLayoutSetting(),t.prototype._create.call(this)},r.prototype._init=function(){this._bindLiveEvents()},r.prototype._adjustAccordion=function(){if(this.options.expandDirection==="top"||this.options.expandDirection==="bottom")return;var e=this._getHeaders(),t=n("."+l,this.element),r=t.parent().width(),i=parseInt(t.css("paddingLeft"),10)+parseInt(t.css("paddingRight"),10)+parseInt(t.css("borderRightWidth"),10)+parseInt(t.css("borderLeftWidth"),10),s=n("."+f,this.element).outerWidth(!0),o=r-e.length*(s+4)-i,o=o<576?o:576;t.width(o)},r.prototype._getDefaultLayoutSetting=function(){var e=n("."+l,this.element);this.options.expandDirection==="top"||this.options.expandDirection==="bottom"?this._defaultLayoutSetting={paddingTop:e.css("paddingTop"),paddingBottom:e.css("paddingBottom")}:this._defaultLayoutSetting={paddingLeft:e.css("paddingLeft"),paddingRight:e.css("paddingRight"),width:e.width()}},r.prototype.destroy=function(){var e=this.options;this._unbindLiveEvents(),this.element.removeClass(e.wijCSS.wijaccordion).removeClass(i).removeClass(e.wijCSS.widget).removeClass(e.wijCSS.wijaccordionIcons).removeClass(h).removeAttr("role"),n(window).off("resize.wijaccordion"),t.prototype.destroy.call(this)},r.prototype._getHeaders=function(){var e=this.options,t=this.element.data("rightToLeft"),r=[],i,s,o=this.element.find(e.header);if(!(o.length>0&&!n(o[0]).hasClass(f)&&n(o[0]).hasClass(l)))return o;for(i=0;i<o.length;i+=1)s=t?n(o[i]).next("."+f):n(o[i]).prev("."+f),s.length>0&&r.push(s[0]);return n(r)},r.prototype.activate=function(e){var t,r=this.options,i=this._getHeaders(),s,o,u=this.element.data("rightToLeft"),a,f,h,d,v,m,g,y,b,w;s=n(jQuery.grep(i,function(e){return n(e).hasAllClasses(r.wijCSS.stateActive)})),typeof e=="number"?t=n(i[e]):typeof e=="string"?(e=parseInt(e,0),t=n(i[e])):(t=n(e),e=i.index(e));if(t.hasAllClasses(r.wijCSS.stateDisabled))return!1;if(t.hasAllClasses(r.wijCSS.stateActive))if(r.requireOpenedPane){if(s.length===t.length&&s.index()===t.index())return!1}else s=t,t=n(null);else r.requireOpenedPane||(s=n(null));a=i.index(t),f=i.index(s),h=u?t.prev("."+l):t.next("."+l),d=u?s.prev("."+l):s.next("."+l);if(s.length===0&&t.length===0)return!1;r.expandDirection==="left"||r.expandDirection==="right"?o=this._defaultLayoutSetting.width:o=h.css("width");if(!this._trigger("beforeSelectedIndexChanged",null,{newIndex:a,prevIndex:f}))return!1;s.removeClass(r.wijCSS.stateActive).removeClass(this._headerCornerOpened).addClass(r.wijCSS.stateDefault).addClass(r.wijCSS.cornerAll).attr({"aria-expanded":"false",tabIndex:-1}).find("> .ui-icon").removeClass(this._triangleIconOpened).addClass(this._triangleIconClosed),t.removeClass("ui-corner-all").addClass(r.wijCSS.stateActive).addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> .ui-icon").removeClass(this._triangleIconClosed).addClass(this._triangleIconOpened),r.animated?(v={toShow:h,toHide:d,complete:jQuery.proxy(function(){d.removeClass(r.wijCSS.wijaccordionContentActive).removeClass(c),h.addClass(r.wijCSS.wijaccordionContentActive).addClass(c).wijTriggerVisibility(),d.css("display",""),h.css("display",""),this._redrawLineChart(h,d),o!==null&&o!==undefined&&(r.expandDirection==="left"||r.expandDirection==="right")&&h.width(o),this._trigger("selectedIndexChanged",null,{newIndex:a,prevIndex:f})},this),horizontal:this.element.hasClass(p),rightToLeft:this.element.data("rightToLeft"),down:a>f,autoHeight:r.autoHeight||r.fillSpace,defaultLayoutSetting:this._defaultLayoutSetting},m=r.animated,g=r.duration,n.isFunction(m)&&(r.animated=m(v)),n.isFunction(g)&&(r.duration=g(v)),y=n.wijmo.wijaccordion.animations,b=r.duration,w=r.animated,w&&!y[w]&&!n.easing[w]&&(w="slide"),y[w]||(y[w]=function(e){this.slide(e,{easing:w,duration:b||700})}),y[w](v)):(s.length>0&&d.hide().removeClass(r.wijCSS.wijaccordionContentActive).removeClass(c),t.length>0&&h.show().addClass(c).addClass(r.wijCSS.wijaccordionContentActive).addClass(this._contentCornerOpened).wijTriggerVisibility(),this._redrawLineChart(h,d),o!==null&&o!==undefined&&(r.expandDirection==="left"||r.expandDirection==="right")&&h.width(o),this._trigger("selectedIndexChanged",null,{newIndex:a,prevIndex:f})),this.options.selectedIndex=a},r.prototype._redrawLineChart=function(e,t){if(n.fn.wijlinechart){var r=e.find(".wijmo-wijlinechart"),i=t.find(".wijmo-wijlinechart");i.wijlinechart("redraw"),r.wijlinechart("redraw")}},r.prototype._bindLiveEvents=function(){var e=this,t=this.options,r="."+f;this.element.on(t.event+".wijaccordion",r,jQuery.proxy(this._onHeaderClick,this)).on("keydown.wijaccordion",r,jQuery.proxy(this._onHeaderKeyDown,this)).on("mouseenter.wijaccordion",r,function(){n(this).addClass(t.wijCSS.stateHover)}).on("mouseleave.wijaccordion",r,function(){n(this).removeClass(t.wijCSS.stateHover)}).on("focus.wijaccordion",r,function(){n(this).addClass(t.wijCSS.stateFocus)}).on("blur.wijaccordion",r,function(){n(this).removeClass(t.wijCSS.stateFocus)})},r.prototype._unbindLiveEvents=function(){this.element.off(".wijaccordion","."+f)},r.prototype._onHeaderClick=function(e){return this.options.disabled||this.activate(e.currentTarget),!1},r.prototype._onHeaderKeyDown=function(t){if(this.options.disabled||t.altKey||t.ctrlKey)return;if(!n.ui)return;var r=e.getKeyCodeEnum(),i=this.element.find("."+f+"."+this.options.wijCSS.stateFocus),s,o=this._getHeaders();if(i.length>0){s=n("."+f,this.element).index(i);switch(t.keyCode){case r.RIGHT:case r.DOWN:if(o[s+1])return o[s+1].focus(),!1;break;case r.LEFT:case r.UP:if(o[s-1])return o[s-1].focus(),!1;break;case r.SPACE:case r.ENTER:this.activate(t.currentTarget),t.preventDefault()}}return!0},r.prototype._onDirectionChange=function(e,t,r){typeof r=="undefined"&&(r=null);var c,h,d,v,m,g,y=this.options;t&&(h=this.element.find("."+f+"."+this._headerCornerOpened),h.removeClass(this._headerCornerOpened),d=this.element.find("."+l+"."+this._contentCornerOpened),d.removeClass(this._contentCornerOpened),v=this.element.find("."+this._triangleIconOpened),m=this.element.find("."+this._triangleIconClosed),v.removeClass(this._triangleIconOpened),m.removeClass(this._triangleIconClosed)),r!==null&&this.element.removeClass(i+"-"+r);switch(e){case"top":this._headerCornerOpened=y.wijCSS.cornerBottom,this._contentCornerOpened=y.wijCSS.cornerTop,this._triangleIconOpened=y.wijCSS.iconArrowUp,this._triangleIconClosed=y.wijCSS.iconArrowRight,c=!0,this.element.removeClass(p),this.element.addClass(s).addClass(y.wijCSS.wijaccordionTop);break;case"right":this._headerCornerOpened=y.wijCSS.cornerLeft,this._contentCornerOpened=y.wijCSS.cornerRight,this._triangleIconOpened=y.wijCSS.iconArrowRight,this._triangleIconClosed=y.wijCSS.iconArrowDown,c=!1,this.element.addClass(p),this.element.addClass(a).addClass(y.wijCSS.wijaccordionRight);break;case"left":this._headerCornerOpened=y.wijCSS.cornerRight,this._contentCornerOpened=y.wijCSS.cornerLeft,this._triangleIconOpened=y.wijCSS.iconArrowLeft,this._triangleIconClosed=y.wijCSS.iconArrowDown,c=!0,this.element.addClass(p),this.element.addClass(u).addClass(y.wijCSS.wijaccordionLeft);break;default:this._headerCornerOpened=y.wijCSS.cornerTop,this._contentCornerOpened=y.wijCSS.cornerBottom,this._triangleIconOpened=y.wijCSS.iconArrowDown,this._triangleIconClosed=y.wijCSS.iconArrowRight,c=!1,this.element.removeClass(p),this.element.addClass(o).addClass(y.wijCSS.wijaccordionBottom)}g=this.element.data("rightToLeft"),this.element.data("rightToLeft",c),t&&(v.addClass(this._triangleIconOpened),m.addClass(this._triangleIconClosed),h.addClass(this._headerCornerOpened),d.addClass(this._contentCornerOpened)),t&&c!==g&&this.element.children("."+f).each(function(e,t){var r=n(this),i;c?(i=r.next("."+l),r.remove(),r.insertAfter(i)):(i=r.prev("."+l),r.remove(),r.insertBefore(i))})},r}(e.wijmoWidget);t.wijaccordion=d;var v=function(){function e(){this.wijCSS={wijaccordion:"",wijaccordionTop:"",wijaccordionBottom:"",wijaccordionLeft:"",wijaccordionRight:"",wijaccordionHeader:"",wijaccordionContent:"",wijaccordionContentActive:"",wijaccordionIcons:""},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body ui-body-b"},this.initSelector=":jqmData(role='wijaccordion')",this.animated="slide",this.duration=null,this.event="click",this.disabled=!1,this.expandDirection="bottom",this.header="> li > :first-child,> :not(li):even",this.requireOpenedPane=!0,this.selectedIndex=0}return e}();d.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new v),n.wijmo.registerWidget(r,d.prototype),n.extend(n.wijmo.wijaccordion,{animations:{_parseWidth:function(e){var t=(""+e).match(/^([\d+-.]+)(.*)$/);return{value:t?t[1]:"0",unit:t?t[2]||"px":"px"}},slide:function(e,t){e=n.extend({easing:"swing",duration:300},e,t);var r,i;e.horizontal?(r={width:"show"},i={width:"hide"}):(r={height:"show"},i={height:"hide"});if(!e.toHide.size()){e.toShow.stop(!0,!0).animate(r,e);return}if(!e.toShow.size()){e.toHide.stop(!0,!0).animate(i,e);return}var s=e.toShow.css("overflow"),o=0,u={},a={},f,l=e.horizontal?["width","paddingLeft","paddingRight"]:["height","paddingTop","paddingBottom"],c,h=e.toShow;e.horizontal?(c=h[0].style.height,h.height(parseInt(h.parent().height(),10)-parseInt(h.css("paddingTop"),10)-parseInt(h.css("paddingBottom"),10)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0))):(c=h[0].style.width,h.width(parseInt(h.parent().width(),10)-parseInt(h.css("paddingLeft"),10)-parseInt(h.css("paddingRight"),10)-(parseInt(h.css("borderLeftWidth"),10)||0)-(parseInt(h.css("borderRightWidth"),10)||0))),n.each(l,function(t,r){a[r]="hide",!e.horizontal&&r==="height"?u[r]=n.wijmo.wijaccordion.animations._parseWidth(n.css(e.toShow[0],r)):u[r]=n.wijmo.wijaccordion.animations._parseWidth(e.defaultLayoutSetting[r])}),e.horizontal?f={width:0,overflow:"hidden"}:f={height:0,overflow:"hidden"},e.toShow.css(f).stop(!0,!0).show(),e.toHide.filter(":hidden").each(e.complete).end().filter(":visible").stop(!0,!0).animate(a,{step:function(t,n){var r;if(n.prop===e.horizontal?"width":"height")o=n.end-n.start===0?0:(n.now-n.start)/(n.end-n.start);r=o*u[n.prop].value,r<0&&(r=0),e.toShow[0].style[n.prop]=r+u[n.prop].unit},duration:e.duration,easing:e.easing,complete:function(){e.autoHeight||e.toShow.css(e.horizontal?"width":"height",""),e.toShow.css(e.horizontal?"height":"width",c),e.toShow.css({overflow:s}),e.complete()}})},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})})(e.accordion||(e.accordion={}));var t=e.accordion})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n};$.fn.extend({getBounds:function(){return $.extend({},$(this).offset(),{width:$(this).outerWidth(!0),height:$(this).outerHeight(!0)})},setBounds:function(e){return $(this).css({left:e.left,top:e.top}).width(e.width).height(e.height),this},getMaxZIndex:function(){var e=($(this).css("z-index")=="auto"?0:$(this).css("z-index"))*1;return $(this).siblings().each(function(t,n){e=Math.max(e,($(n).css("z-index")=="auto"?0:$(n).css("z-index"))*1)}),Math.max(e,$(this).zIndex())}});var wijmo;(function(e){(function(t){var n=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._init=function(){this.elementZIndex=this.element.zIndex();if(!!this.options.ensureOutermost){var e=$("form");e.length===0&&(e=$(document.body)),this.element.appendTo(e)}this.element.data("visible.wijpopup",!1),this.element.css("position","absolute"),this.element.position({of:$(document.body)}),this.element.hide()},t.prototype._setOption=function(t,n){e.prototype._setOption.call(this,t,n);if(t==="autoHide"){var r=this.isVisible();this.hide(),r&&this.show()}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.isVisible()&&this.hide();if($.browser.msie&&parseInt($.browser.version)<7){var t=this.element.data("backframe.wijpopup");t||t.remove()}var n=this;this.element.unbind(".wijpopup"),$.each(["visible","backframe","animating","width"],function(e,t){n.element.removeData(t+".wijpopup")})},t.prototype.isVisible=function(){return!!this.element.data("visible.wijpopup")&&this.element.is(":visible")},t.prototype.isAnimating=function(){return!!this.element.data("animating.wijpopup")},t.prototype.show=function(e){var t=this;this._setPosition(e);if(this.isVisible())return;if(this._trigger("showing")===!1)return;this.options.autoHide&&window.setTimeout(function(){t._bindDocMouseUpEvent()},0);var n=this.options.showEffect||"show",r=this.options.showDuration||300,i=this.options.showOptions||{};this.element.data("animating.wijpopup",!0),$.effects&&$.effects.effect[n]?this.element.show(n,i,r,$.proxy(this._showCompleted,this)):this.element[n](n==="show"?null:r,$.proxy(this._showCompleted,this)),(!n||!r||n==="show"||r<=0)&&this._showCompleted()},t.prototype._showCompleted=function(){this.element.removeData("animating.wijpopup"),this.element.data("visible.wijpopup",!0),this._trigger("shown")},t.prototype.showAt=function(e,t){this.show({my:"left+"+e+" top+"+t,at:"left top",of:document.body})},t.prototype.hide=function(){var e=this;if(!this.isVisible())return;if(this._trigger("hiding")===!1){window.setTimeout(function(){e._bindDocMouseUpEvent()},0);return}var t=this.options.hideEffect||"hide",n=this.options.hideDuration||300,r=this.options.hideOptions||{};this.element.data("animating.wijpopup",!0),$.effects&&$.effects.effect[t]?this.element.hide(t,r,n,$.proxy(this._hideCompleted,this)):this.element[t](t==="hide"?null:n,$.proxy(this._hideCompleted,this)),(!t||!n||t==="hide"||n<=0)&&this._hideCompleted()},t.prototype._hideCompleted=function(){this.element.data("width.wijpopup")!==undefined&&(this.element.width(this.element.data("width.wijpopup")),this.element.removeData("width.wijpopup")),this.element.unbind("move.wijpopup"),this.element.removeData("animating.wijpopup");if($.browser.msie&&parseInt($.browser.version)<7){var e=this.element.data("backframe.wijpopup");e&&e.hide()}this._trigger("hidden")},t.prototype._onDocMouseUp=function(e,t){var n=e.target?e.target:e.srcElement;t.isVisible()&&!!t.options.autoHide&&(n!=t.element.get(0)&&$(n).parents().index(t.element)<0?t.hide():this._bindDocMouseUpEvent())},t.prototype._bindDocMouseUpEvent=function(){var e=this,t="";$.support.isTouchEnabled&&$.support.isTouchEnabled()&&(t="wij"),$(document).one(t+"mouseup.wijpopup",function(t){e._onDocMouseUp(t,e)})},t.prototype._onMove=function(e){var t=this.element.data("backframe.wijpopup");t&&(this.element.before(t),t.css({top:this.element.css("top"),left:this.element.css("left")}))},t.prototype._addBackgroundIFrame=function(){if($.browser.msie&&parseInt($.browser.version)<7){var e=this.element.data("backframe.wijpopup");e||(e=jQuery("<iframe/>").css({position:"absolute",display:"none",filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"}).attr({src:"javascript:'<html></html>';",scrolling:"no",frameborder:"0","tabIndex ":-1}),this.element.before(e),this.element.data("backframe.wijpopup",e),this.element.bind("move.wijpopup",$.proxy(this._onMove,this))),e.setBounds(this.element.getBounds()),e.css({display:"block",left:this.element.css("left"),top:this.element.css("top"),"z-index":this.element.css("z-index")-1})}},t.prototype._setZIndex=function(e){this.element.css("z-index",e);var t=this.element.data("backframe.wijpopup");t&&t.css("z-index",this.element.css("z-index")-1)},t.prototype._setPosition=function(e){var t=this.element.is(":visible"),n;this.element.show(),this.element.position($.extend({},this.options.position,e?e:{})),t||this.element.hide(),e&&(n=e.of),n||(n=this.options.position.of),this._addBackgroundIFrame();var r=Math.max(1e3,this.elementZIndex);n&&(r=Math.max(r,$(n).getMaxZIndex())),this._setZIndex(r+10),this._trigger("posChanged")},t}(e.JQueryUIWidget);t.wijpopup=n;var r=function(){function e(){this.ensureOutermost=!1,this.showEffect="show",this.showOptions={},this.showDuration=300,this.hideEffect="hide",this.hideOptions={},this.hideDuration=100,this.autoHide=!1,this.position={at:"left bottom",my:"left top"},this.showing=null,this.shown=null,this.hiding=null,this.hidden=null,this.posChanged=null}return e}();n.prototype.options=$.extend(!0,{},e.wijmoWidget.prototype.options,new r),$.wijmo.registerWidget("wijpopup",n.prototype)})(e.popup||(e.popup={}));var t=e.popup})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r=function(){function e(){this.wijCSS={superpanelHeader:"wijmo-wijsuperpanel-header",superpanelFooter:"wijmo-wijsuperpanel-footer",superpanelHandle:"",superpanelVBarbuttonTop:"",superpanelVBarbuttonBottom:"",superpanelHBarbuttonLeft:"",superpanelHBarbuttonRight:"",superpanelHBarContainer:"",superpanelVBarContainer:"",superpanelButton:"",superpanelButtonLeft:"",superpanelButtonRight:"",superpanelButtonTop:"",superpanelButtonBottom:""},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-b",stateDefault:"ui-btn ui-btn-b",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},this.initSelector=":jqmData(role='wijsuperpanel')",this.allowResize=!1,this.autoRefresh=!1,this.animationOptions={queue:!1,disabled:!1,duration:250,easing:undefined},this.hScrollerActivating=null,this.hScroller={scrollBarPosition:"bottom",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},this.keyboardSupport=!1,this.keyDownInterval=100,this.mouseWheelSupport=!0,this.bubbleScrollingEvent=!0,this.resizableOptions={handles:"all",helper:"ui-widget-content wijmo-wijsuperpanel-helper"},this.resized=null,this.dragStop=null,this.painted=null,this.scrolling=null,this.scroll=null,this.scrolled=null,this.showRounder=!0,this.vScrollerActivating=null,this.vScroller={scrollBarPosition:"right",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},this.customScrolling=!1,this.listenContentScroll=!1}return e}(),i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.destroy=function(){},t.prototype.needToScroll=function(e){},t.prototype.scrollChildIntoView=function(e){},t.prototype.hScrollTo=function(e,t){},t.prototype.vScrollTo=function(e,t){},t.prototype.scrollPxToValue=function(e,t){},t.prototype.scrollValueToPx=function(e,t){},t.prototype.scrollTo=function(e,t,n){},t.prototype.refresh=function(){},t.prototype.paintPanel=function(e){},t.prototype.getContentElement=function(){},t}(e.wijmoWidget);t.wijsuperpanel=i;var s;if(!n.support.isTouchEnabled||!n.support.isTouchEnabled()){var o="wijmo-wijsuperpanel-handle",u="wijmo-wijsuperpanel-hbarcontainer",a="wijmo-wijsuperpanel-vbarcontainer",f="",l="<div class='wijmo-wijsuperpanel-statecontainer'><div class='wijmo-wijsuperpanel-contentwrapper'><div class='wijmo-wijsuperpanel-templateouterwrapper'></div></div></div>",c="<div class='wijmo-wijsuperpanel-hbarcontainer {superpanelHBarContainer} {header}'><div class='wijmo-wijsuperpanel-handle {superpanelHandle} {stateDefault} {cornerAll}'><span class='{icon} {iconVGripSolid}'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonleft {superpanelHBarbuttonLeft} {stateDefault} {cornerBL}'><span class='{icon} {iconArrowLeft}'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonright {superpanelHBarbuttonRight} {stateDefault} {cornerBR}'><span class='{icon} {iconArrowRight}'></span></div></div>",h="<div class='wijmo-wijsuperpanel-vbarcontainer {superpanelVBarContainer} {header}'><div class='wijmo-wijsuperpanel-handle {superpanelHandle} {stateDefault} {cornerAll}'><span class='{icon} {iconHGripSolid}'></span></div><div class='wijmo-wijsuperpanel-vbar-buttontop {superpanelVBarbuttonTop} {stateDefault} {cornerTR}'><span class='{icon} {iconArrowUp}'></span></div><div class='wijmo-wijsuperpanel-vbar-buttonbottom {superpanelVBarbuttonBottom} {stateDefault} {cornerBR}'><span class='{icon} {iconArrowDown}'></span></div></div>",p="<div class='{stateDefault} wijmo-wijsuperpanel-button {superpanelButton} wijmo-wijsuperpanel-buttonleft {superpanelButtonLeft}'><span class='{icon} {iconCaratLeft}'></span></div><div class='{stateDefault} wijmo-wijsuperpanel-button {superpanelButton} wijmo-wijsuperpanel-buttonright {superpanelButtonRight}'><span class='{icon} {iconCaratRight}'></span></div>",d="<div class='{stateDefault} wijmo-wijsuperpanel-button {superpanelButton}  wijmo-wijsuperpanel-buttontop {superpanelButtonTop}'><span class='{icon} {iconCaratUp}'></span></div><div class='{stateDefault} wijmo-wijsuperpanel-button {superpanelButton} wijmo-wijsuperpanel-buttonbottom {superpanelButtonBottom}'><span class='{icon} {iconCaratDown}'> </span></div>";i.prototype=n.extend(!0,{},n.Widget.prototype,{widgetEventPrefix:"wijsuperpanel",_setOption:function(e,t){var r=this,i=r.options,s=r._fields(),o=s.hbarDrag,u=s.vbarDrag,a=s.resizer;e==="animationOptions"?t=n.extend(i.animationOptions,t):e==="hScroller"?(t.scrollLargeChange!==undefined&&t.scrollLargeChange!==null&&(r._autoHLarge=!1),t=n.extend(i.hScroller,t),r._adjustScrollValue("h"),r.refresh()):e==="vScroller"?(t.scrollLargeChange!==undefined&&t.scrollLargeChange!==null&&(r._autoVLarge=!1),r._adjustScrollValue("v"),t=n.extend(i.vScroller,t),r.refresh()):e==="resizableOptions"&&(t=n.extend(r.resizableOptions,t)),n.Widget.prototype._setOption.apply(r,arguments),n.isPlainObject(t)&&(r.options[e]=t);switch(e){case"allowResize":r._initResizer();break;case"disabled":t?(o!==undefined&&o.draggable("disable"),u!==undefined&&u.draggable("disable"),a!==undefined&&a.resizable("disable")):(o!==undefined&&o.draggable("enable"),u!==undefined&&u.draggable("enable"),a!==undefined&&a.resizable("enable"));break;case"mouseWheelSupport":case"keyboardSupport":r._bindElementEvents(r,s,r.element,i)}return r},_create:function(){var e=this,t=e.options;t.vScroller.dir="v",t.hScroller.dir="h",e._initMarkup(),e.paintPanel(t.unfocus),e._initResizer(),e.options.disabled&&e.disable(),e._detectAutoRefresh(),t.listenContentScroll&&e._listenContentScroll(),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver(),e.refresh()},"wijsuperpanel")},_initMarkup:function(){var e=this.options.wijCSS,t=/\{(\w+?)\}/ig,n=function(t,n){return e[n]};f=e.stateActive,c=c.replace(t,n),h=h.replace(t,n),p=p.replace(t,n),d=d.replace(t,n)},_detectAutoRefresh:function(){var e=this,t=n.wijmo.wijsuperpanel.panels;t===undefined&&(t=[],n.wijmo.wijsuperpanel.panels=t),t.push(e),e.options.autoRefresh&&(n.wijmo.wijsuperpanel.setAutoRefreshInterval||(n.wijmo.wijsuperpanel.setAutoRefreshInterval=e._setAutoRefreshInterval,n.wijmo.wijsuperpanel.setAutoRefreshInterval()))},_setAutoRefreshInterval:function(){var e=n.wijmo.wijsuperpanel.autoRereshInterval,t=n.wijmo.wijsuperpanel.panels,r;r=window.setInterval(function(){window.clearInterval(r);var e=t.length,i=!1,s,o,u,a,f,l;for(s=0;s<e;s++)o=t[s],u=o.element[0],a=o.options.autoRefresh,a&&(i=!0),f=o.getContentElement(),l=o._paintedMark,a&&f.is(":visible")&&(l===undefined||l.width!==f[0].offsetWidth||l.height!==f[0].offsetHeight||l.mainWidth!==u.offsetWidth||l.mainHeight!==u.offsetHeight)&&o.paintPanel();i&&window.setTimeout(n.wijmo.wijsuperpanel.setAutoRefreshInterval,0)},e===undefined?500:e)},destroy:function(){var e=this,t=e._fields(),r=e.element,i,s,o=e.options.wijCSS;n.wijmo.wijsuperpanel.panels=n.grep(n.wijmo.wijsuperpanel.panels,function(t){return t!==e},!1);if(!t.initialized)return;e._radiusKey&&e.element.css(e._radiusKey,""),t.intervalID!==undefined&&(window.clearInterval(t.intervalID),t.intervalID=undefined),t.resizer!==undefined&&t.resizer.resizable("destroy"),t.hbarContainer!==undefined&&(t.hbarDrag.remove(),t.hbarContainer.unbind("."+e.widgetName)),t.vbarContainer!==undefined&&(t.vbarDrag.remove(),t.vbarContainer.unbind("."+e.widgetName)),r.unbind("."+e.widgetName),t.contentWrapper.unbind("."+e.widgetName),i=t.stateContainer.find(">.wijmo-wijsuperpanel-button"),i.unbind("."+e.widgetName),s=t.templateWrapper,s.contents().each(function(e,t){r.append(t)}),t.stateContainer.remove(),t.tabindex&&r.removeAttr("tabindex"),r.removeClass(["wijmo-wijsuperpanel",o.widget,o.content,o.cornerAll].join(" ")),n.Widget.prototype.destroy.apply(e,arguments)},_fields:function(){var e=this,t=e.element,n=e.widgetName+"-fields",r=e._fieldsStore;return r===undefined&&(r={},t.data(n,r),e._fieldsStore=r),r},_hasMode:function(e,t){var r=e.scrollMode.split(",");return r=n.map(r,function(e){return n.trim(e).toLowerCase()}),n.inArray(t.toLowerCase(),r)>-1},_bindElementEvents:function(e,t,n,r){var i=e._hasMode(r.hScroller,"edge"),s=e._hasMode(r.vScroller,"edge"),o=e.widgetName;i||s?e._mousemoveBind===undefined&&(e._mousemoveBind=!0,n.bind("mousemove."+o,e,e._contentMouseMove),n.bind("mouseleave."+o,null,function(){e._clearInterval()})):(n.unbind("mousemove",e._contentMouseMove),e._mousemoveBind=undefined),r.mouseWheelSupport?e._mouseWheelBind===undefined&&(e._mouseWheelBind=!0,n.bind("mousewheel."+o,e,e._panelMouseWheel)):(n.unbind("mousewheel",e._panelMouseWheel),e._mouseWheelBind=undefined),r.keyboardSupport?e._keyboardBind===undefined&&(e._keyboardBind=!0,n.bind("keydown."+o,e,e._panelKeyDown)):(n.unbind("keydown",e._panelKeyDown),e._keyboardBind=undefined)},_dragStop:function(e,t,n){var r={dragHandle:n};t._trigger("dragStop",e,r)},_contentMouseMove:function(e){if(e.data.options.disabled)return;var t=e.data,r=t.options,i=r.hScroller,s=r.vScroller,o=n(e.currentTarget),u=t._fields(),a=t._hasMode(i,"edge"),f=t._hasMode(s,"edge"),l={X:e.pageX,Y:e.pageY},c=o.offset(),h=c.left,p=c.top,d=i.hoverEdgeSpan,v=s.hoverEdgeSpan,m=o.innerHeight(),g=o.innerWidth(),y="";h=l.X-h,p=l.Y-p,t._clearInterval(),a&&(h<d&&(y="left"),h>g-d&&(y="right")),f&&(p<v&&(y="top"),p>m-v&&(y="bottom")),t._setScrollingInterval(u,y,t,!1)},_setScrollingInterval:function(e,t,n,r){var i=n.options;t.length>0&&(e.internalFuncID=window.setInterval(function(){n._doScrolling(t,n,r)},i.keyDownInterval))},_scrollButtonMouseOver:function(e){var t=e.data,r=t.options,i=n(e.currentTarget);if(r.disabled)return;i.hasAllClasses(r.wijCSS.stateDisabled)||(i.bind("mouseout."+t.widgetName,t,t._buttonMouseOut).bind("mousedown."+t.widgetName,t,t._buttonMouseDown).bind("mouseup."+t.widgetName,t,t._buttonMouseUp).addClass(r.wijCSS.stateHover),t._buttonScroll(i,t,"buttonshover"))},_buttonScroll:function(e,t,n){var r="",i=t.options,s=t._fields(),o=t._hasMode(i.hScroller,n),u=t._hasMode(i.vScroller,n);e.hasClass("wijmo-wijsuperpanel-buttonleft")&&o?r="left":e.hasClass("wijmo-wijsuperpanel-buttonright")&&o?r="right":e.hasClass("wijmo-wijsuperpanel-buttontop")&&u?r="top":e.hasClass("wijmo-wijsuperpanel-buttonbottom")&&u&&(r="bottom"),r.length>0&&(t._clearInterval(),t._doScrolling(r,t,!0),t._setScrollingInterval(s,r,t,!0))},_listenContentScroll:function(){var e=this,t=e.options,n=e._fields(),r=n.hbarContainer,i=n.hbarDrag,s=n.vbarContainer,o=n.vbarDrag,u=n.templateWrapper,a=n.contentWrapper,f=a.width(),l=a.height(),c=u&&u.offset(),h=c&&c.left,p=c&&c.top,d=n.contentWidth,v=n.contentHeight;a.bind("scroll",function(n){var c=u.position(),h=c.left,p=c.top;a.scrollTop(0).scrollLeft(0),u.css({left:h,top:p}),h<=0&&h>f-d&&(e._updateScrollValue(e.scrollPxToValue(-h,"h"),t.hScroller),e._scrollDrag("h",r,i,!0)),p<=0&&p>l-v&&(e._updateScrollValue(e.scrollPxToValue(-p,"v"),t.vScroller),e._scrollDrag("v",s,o,!0))})},_buttonMouseDown:function(e){var t=e.data,r=n(e.currentTarget),i=t.options.wijCSS;if(t.options.disabled)return;r.hasAllClasses(i.stateDisabled)||(r.addClass(i.stateActive),t._buttonScroll(r,t,"buttons"))},_buttonMouseUp:function(e){var t=e.data,r=n(e.currentTarget);r.removeClass(t.options.wijCSS.stateActive),t._clearInterval()},_buttonMouseOut:function(e){var t=e.data,r=t.options.wijCSS,i=n(e.currentTarget);i.unbind("mouseout",t._buttonMouseOut).unbind("mousedown",t._buttonMouseDown).unbind("mouseup",t._buttonMouseUp).removeClass(r.stateHover).removeClass(r.stateActive),t._clearInterval()},_updateScrollValue:function(e,t){var r=n.Event("scrollValueChanged");t.scrollValue=e,this._trigger("scrollValueChanged",r,t)},_panelKeyDown:function(t){var n=t.data,r=n.options,i=t.shiftKey,s=t.keyCode,o=e.getKeyCodeEnum();if(!r.keyboardSupport||r.disabled)return;s===o.LEFT?n._doScrolling("left",n,i):s===o.RIGHT?n._doScrolling("right",n,i):s===o.UP?n._doScrolling("top",n,i):s===o.DOWN&&n._doScrolling("bottom",n,i),t.stopPropagation(),t.preventDefault()},_draggingInternal:function(e,t,n,r){var i=n.dir,s=i==="h",o=s?"left":"top",u=e.position[o]-t._getScrollContainerPadding(o),a=t._getTrackLen(i)-r[s?"outerWidth":"outerHeight"](!0),f=u/a,l=n.scrollMax-n.scrollLargeChange+1,c=f*l,h,p,d;c<n.scrollMin&&(c=n.scrollMin),c>l&&(c=l),h={oldValue:n.scrollValue,newValue:c,dir:i};if(!t._scrolling(!0,t,h))return;t.customScroll&&(d=Math.abs(t.customScroll),p=t.scrollPxToValue(d,n.dir)),t._updateScrollValue(p||c,n),t.customScroll=undefined,t._setDragAndContentPosition(!0,!1,i,"dragging")},_dragging:function(e,t,r){var i=r.options,s=n(e.target),o=s.parent();o.hasAllClasses(u)?r._draggingInternal(t,r,i.hScroller,s):r._draggingInternal(t,r,i.vScroller,s)},_panelMouseWheel:function(e,t){var r=e.data,i=r.options,s,o="",a,f=i.hScroller,l=i.vScroller,c;if(!i.mouseWheelSupport||i.disabled)return;s=n(e.srcElement||e.originalEvent.target),a=s.closest("."+u,r.element).size()>0,t>0?o=a?"left":"top":o=a?"right":"bottom",o.length>0&&r._doScrolling(o,r),c=!1,o==="left"&&(c=!r.hNeedScrollBar||Math.abs(f.scrollValue-f.scrollMin)<.001),o==="right"&&(c=!r.hNeedScrollBar||Math.abs(f.scrollValue-(f.scrollMax-r._getHScrollBarLargeChange()+1))<.001),o==="top"&&(c=!r.vNeedScrollBar||Math.abs(l.scrollValue-l.scrollMin)<.001),o==="bottom"&&(c=!r.vNeedScrollBar||Math.abs(l.scrollValue-(l.scrollMax-r._getVScrollBarLargeChange()+1))<.001);if(!c||!i.bubbleScrollingEvent||o==="left"||o==="right")e.stopPropagation(),e.preventDefault()},_documentMouseUp:function(e){var t=e.data.self,r=e.data.ele;r.removeClass(t.options.wijCSS.stateActive),t._clearInterval(),n(document).unbind("mouseup",t._documentMouseUp)},_scrollerMouseOver:function(e){var t=e.data,r=t.options,i,s=null,o=!1;if(r.disabled)return;i=n(e.srcElement||e.originalEvent.target||e.originalEvent.srcElement);if(i.hasAllClasses(r.wijCSS.stateDefault))s=i,o=!0;else if(i.parent().hasAllClasses(r.wijCSS.stateDefault))s=i.parent(),o=!0;else if(i.hasAllClasses(a)||i.hasAllClasses(u))s=i;s&&(o&&s.addClass(r.wijCSS.stateHover),s.bind("mouseout."+t.widgetName,t,t._elementMouseOut),s.bind("mousedown."+t.widgetName,t,t._elementMouseDown),s.bind("mouseup."+t.widgetName,t,t._elementMouseUp))},_elementMouseUp:function(e){var t=n(e.currentTarget);t.removeClass(f)},_elementMouseDown:function(e){var t=n(e.currentTarget),r=e.data,i,s,l="",c=!1,h=!1,p,d,v;if(r.options.disabled||e.which!==1)return;if(t.hasClass("wijmo-wijsuperpanel-vbar-buttontop"))l="top",h=!0;else if(t.hasClass("wijmo-wijsuperpanel-vbar-buttonbottom"))l="bottom",h=!0;else if(t.hasClass("wijmo-wijsuperpanel-hbar-buttonleft"))l="left",h=!0;else if(t.hasClass("wijmo-wijsuperpanel-hbar-buttonright"))l="right",h=!0;else{if(t.hasAllClasses(o)){t.addClass(f);return}t.hasAllClasses(u)?(i=t.find("."+o),p=i.offset(),e.pageX<p.left?l="left":l="right",c=!0):t.hasAllClasses(a)&&(s=t.find("."+o),d=s.offset(),e.pageY<d.top?l="top":l="bottom",c=!0)}r._clearInterval(),r._doScrolling(l,r,c),v=r._fields(),r._setScrollingInterval(v,l,r,c),h&&t.addClass(f),n(document).bind("mouseup."+r.widgetName,{self:r,ele:t},r._documentMouseUp)},doScrolling:function(e,t){this._doScrolling(e,this,t)},_setScrollerValue:function(e,t,n,r,i,s,o){var u=t.scrollMin,a=s?r:n,f=t.scrollValue,l=0,c,h,p,d,v;f||(f=u),c=t.scrollMax-r+1,f>c&&(f=c);if(i){if(Math.abs(f-c)<.001)return o._clearInterval(),!1;h=t.firstStepChangeFix,l=f+a,!s&&Math.abs(f-u)<1e-4&&!isNaN(h)&&(l+=h),l>c&&(l=c)}else{if(Math.abs(f-u)<.001)return o._clearInterval(),!1;l=f-a,l<0&&(l=u)}return p={oldValue:t.scrollValue,newValue:l,direction:e,dir:t.dir},o._scrolling(!0,o,p)?(o.customScroll&&(v=Math.abs(o.customScroll),d=o.scrollPxToValue(v,t.dir)),o._updateScrollValue(d||l,t),o.customScroll=undefined,!0):!1},_doScrolling:function(e,t,n){var r=t.options,i=r.vScroller,s=r.hScroller,o=t._getVScrollBarSmallChange(),u=t._getVScrollBarLargeChange(),a=t._getHScrollBarLargeChange(),f=t._getHScrollBarSmallChange();if(e==="top"||e==="bottom"){if(!t._setScrollerValue(e,i,o,u,e==="bottom",n,t))return;e="v"}else if(e==="left"||e==="right"){if(!t._setScrollerValue(e,s,f,a,e==="right",n,t))return;e="h"}t._setDragAndContentPosition(!0,!0,e)},_disableButtonIfNeeded:function(e){var t=e._fields(),n=e.options,r=t.buttonLeft,i=t.buttonRight,s=t.buttonTop,o=t.buttonBottom,u,a,f,l,c,h,p,d;t.intervalID>0&&window.clearInterval(t.intervalID),r!==undefined&&(u=e._getHScrollBarLargeChange(),a=n.hScroller.scrollMax-u+1,f=n.hScroller.scrollValue,l=n.hScroller.scrollMin,f===undefined&&(f=l),Math.abs(f-l)<.001||!t.hScrolling?r.addClass(n.wijCSS.stateDisabled):r.removeClass(n.wijCSS.stateDisabled),Math.abs(f-a)<.001||!t.hScrolling?i.addClass(n.wijCSS.stateDisabled):i.removeClass(n.wijCSS.stateDisabled)),s!==undefined&&(c=e._getVScrollBarLargeChange(),h=n.vScroller.scrollMax-c+1,p=n.vScroller.scrollValue,d=n.vScroller.scrollMin,p===undefined&&(p=d),Math.abs(p-d)<.001||!t.vScrolling?s.addClass(n.wijCSS.stateDisabled):s.removeClass(n.wijCSS.stateDisabled),Math.abs(p-h)<.001||!t.vScrolling?o.addClass(n.wijCSS.stateDisabled):o.removeClass(n.wijCSS.stateDisabled))},_clearInterval:function(){var e=this._fields(),t=e.internalFuncID;t>0&&(window.clearInterval(t),e.internalFuncID=-1)},_elementMouseOut:function(e){var t=n(e.currentTarget),r=e.data;t.unbind("mouseout",r._elementMouseOut),t.unbind("mousedown",r._elementMouseDown),t.unbind("mouseup",r._elementMouseUp),t.removeClass(r.options.wijCSS.stateHover)},_getScrollOffset:function(e){var t=n(e),r=this._fields(),i=r.contentWrapper,s=r.templateWrapper,o,u,a,f,l,c,h,p={left:null,top:null};return t.length===0?p:(o=t.offset(),u=s.offset(),o.leftWidth=o.left+t.outerWidth(),o.topHeight=o.top+t.outerHeight(),a=i.offset(),a.leftWidth=a.left+i.outerWidth(),a.topHeight=a.top+i.outerHeight(),c=o.left-u.left,o.left<a.left?p.left=c:o.leftWidth>a.leftWidth&&(h=o.leftWidth-u.left-i.innerWidth(),c<h?p.left=c:p.left=h),f=o.top-u.top,o.top<a.top?p.top=f:o.topHeight>a.topHeight&&(l=o.topHeight-u.top-i.innerHeight(),f<l?p.top=f:p.top=l),p)},_scrollDrag:function(e,t,n,r){var i=this,s=i.options,o=e==="v",u=o?s.vScroller:s.hScroller,a=u.scrollMin,f=u.scrollMax,l=u.scrollValue===undefined?a:u.scrollValue-a,c=i._getLargeChange(e),h=f-a-c+1,p=-1,d,v,m;l>h&&(l=h),t!==undefined&&(d=i._getTrackLen(e),v=n[o?"outerHeight":"outerWidth"](),m=i._getScrollContainerPadding(o?"top":"left"),p=l/h*(d-v)+m),p>=0&&n.css(o?"top":"left",p+"px"),i._scrollEnd(r,i,e)},needToScroll:function(e){var t=this._getScrollOffset(e);return t.top!==null||t.left!==null},scrollChildIntoView:function(e){var t=this._getScrollOffset(e),n=t.left,r=t.top;n!==null&&this.hScrollTo(n),r!==null&&this.vScrollTo(r)},hScrollTo:function(e,t){var n=this.options;this._updateScrollValue(t?e:this.scrollPxToValue(e,"h"),n.hScroller),this._setDragAndContentPosition(!0,!0,"h","nonestop")},vScrollTo:function(e,t){var n=this.options;this._updateScrollValue(t?e:this.scrollPxToValue(e,"v"),n.vScroller),this._setDragAndContentPosition(!0,!0,"v","nonestop")},scrollPxToValue:function(e,t){var n=this.options,r=t==="h"?"outerWidth":"outerHeight",i=t==="h"?"contentWidth":"contentHeight",s=t==="h"?"hScroller":"vScroller",o=this._fields(),u=o.contentWrapper,a=o[i],f=u[r](),l=n[s].scrollMin,c=n[s].scrollMax,h=c-l,p=t==="h"?this._getHScrollBarLargeChange():this._getVScrollBarLargeChange(),d=h-p+1,v=d*(e/(a-f));return v<l&&(v=l),v>d&&(v=d),v},scrollValueToPx:function(e,t){var n=this,r=n.options,i=n._fields(),s=t==="h",o,u,a,f,l,c,h,p,d,v,m;o=s?"outerWidth":"outerHeight",u=s?"contentWidth":"contentHeight",a=s?"hScroller":"vScroller",d=s?n._getHScrollBarLargeChange():n._getVScrollBarLargeChange(),f=i.contentWrapper,l=i[u],c=f[o](),h=r[a].scrollMin,p=r[a].scrollMax,v=p-h-d+1;if(e===undefined||e<h)e=h;return e>v&&(e=v),m=(l-c)*(e/v),Math.round(m)},scrollTo:function(e,t,n){this.hScrollTo(e,n),this.vScrollTo(t,n)},refresh:function(){this.paintPanel()},paintPanel:function(e){var t=this,r=t.element,i,s,o,u;return r.is(":visible")?(i=typeof document.activeElement!="unknown"?document.activeElement:undefined,s=t.options,o=t._fields(),o.initialized||t._initialize(o,r,t),t._resetLargeChange(t,o,s),t._bindElementEvents(t,o,r,s),u=o.templateWrapper,u.css({"float":"left",left:"0px",top:"0px",width:"auto",height:"auto"}),u.hide(),u.show(),o.contentWidth=u.width(),o.contentHeight=u.height(),u.css("float",""),t._setRounder(t,r),t._setInnerElementsSize(o,r),t._testScroll(t,o,s)===!1?!1:(t._initScrollBars(t,o,s),t._initScrollButtons(t,o,s),t._trigger("painted"),t._paintedMark={date:new Date,mainWidth:r[0].offsetWidth,mainHeight:r[0].offsetHeight,width:o.contentWidth,height:o.contentWidth},i!==undefined&&!e&&n(i).focus(),!0)):!1},_adjustScrollValue:function(e){var t=e==="h",n=this,r=this.options,i=t?n.hNeedScrollBar:n.vNeedScrollBar,s=t?r.hScroller:r.vScroller,o=s.scrollMax,u=s.scrollMin,a,f;i&&(a=t?n._getHScrollBarLargeChange():n._getVScrollBarLargeChange(),f=o-a+1,s.scrollValue>f&&(s.scrollValue=f),s.scrollValue<u&&(s.scrollValue=u))},_resetLargeChange:function(e,t,n){var r;e._autoVLarge&&(n.vScroller.scrollLargeChange=null),e._autoHLarge&&(n.hScroller.scrollLargeChange=null),t.vTrackLen=undefined,t.hTrackLen=undefined,t.vbarContainer&&(r=t.vbarContainer.children("."+o+":eq(0)"),r.detach(),t.vbarContainer.remove(),t.vbarContainer=undefined),t.hbarContainer&&(r=t.hbarContainer.children("."+o+":eq(0)"),r.detach(),t.hbarContainer.remove(),t.hbarContainer=undefined)},_initialize:function(e,t,n){var r=n.options.wijCSS;e.initialized=!0,t.addClass(["wijmo-wijsuperpanel",r.widget,r.content].join(" ")),e.oldHeight=t.css("height");var i=t.css("overflow");t.css("overflow",""),t.height(t.height()),t.css("overflow",i),n._createAdditionalDom(n,e,t)},getContentElement:function(){return this._fields().templateWrapper},_setButtonPosition:function(e,t,r,i,s,o,u){var a=i==="h",f="mouseover."+e.widgetName,l=a?"buttonLeft":"buttonTop",c=a?"buttonRight":"buttonBottom",h=o[l],v=o[c],m,g,y;e._hasMode(r,"buttons")||e._hasMode(r,"buttonshover")?(m=a?p:d,h===undefined&&(g=n(m).appendTo(u),g.bind(f,e,e._scrollButtonMouseOver),o[l]=h=u.children(a?".wijmo-wijsuperpanel-buttonleft":".wijmo-wijsuperpanel-buttontop"),o[c]=v=u.children(a?".wijmo-wijsuperpanel-buttonright":".wijmo-wijsuperpanel-buttonbottom")),y={my:a?"left":"top",of:s,at:a?"left":"top",collision:"none"},n.extend(y,r.decreaseButtonPosition),h.position(y),y={my:a?"right":"bottom",of:s,at:a?"right":"bottom",collision:"none"},n.extend(y,r.increaseButtonPosition),v.position(y)):h!==undefined&&(h.remove(),v.remove(),o[l]=o[c]=undefined)},_initScrollButtons:function(e,t,n){var r=t.contentWrapper,i=t.stateContainer;e._setButtonPosition(e,n,n.hScroller,"h",r,t,i),e._setButtonPosition(e,n,n.vScroller,"v",r,t,i)},_getVScrollBarSmallChange:function(){var e=this.options,t;return e.vScroller.scrollSmallChange||(t=this._getVScrollBarLargeChange(),e.vScroller.scrollSmallChange=t/2),e.vScroller.scrollSmallChange},_getVScrollBarLargeChange:function(){return this._getLargeChange("v")},_getLargeChange:function(e){var t=this,n=t.options,r=t._fields(),i=e==="v",s=i?n.vScroller:n.hScroller,o=i?"innerHeight":"innerWidth",u=i?"contentHeight":"contentWidth",a=i?"_autoVLarge":"_autoHLarge",f,l,c,h,p,d,v,m;return s.scrollLargeChange?s.scrollLargeChange:(f=s.scrollMax,l=s.scrollMin,c=f-l,h=r.contentWrapper,p=h[o](),d=r[u],v=p/(d-p),m=(c+1)*v/(1+v),isNaN(m)&&(m=0),s.scrollLargeChange=m,t[a]=!0,s.scrollLargeChange)},_getHScrollBarSmallChange:function(){var e=this.options,t;return e.hScroller.scrollSmallChange||(t=this._getHScrollBarLargeChange(),e.hScroller.scrollSmallChange=t/2),e.hScroller.scrollSmallChange},_getHScrollBarLargeChange:function(){return this._getLargeChange("h")},_initScrollBars:function(e,t,r){var i=r.hScroller,s=i.scrollMax,o=i.scrollMin,u=s-o,a=r.vScroller,f=a.scrollMax,l=a.scrollMin,c=f-l,h=t.hbarDrag,p=t.vbarDrag,d,v,m,g,y,b,w,E,S,x;e.hNeedScrollBar&&h.is(":visible")&&(d=e._getHScrollBarLargeChange(),v=e._getTrackLen("h"),m=e._getDragLength(u,d,v,r.hScroller.scrollMinDragLength),h.width(m),g=h.outerWidth(!0)-h.width(),h.width(m-g),y=h.children("span"),y.css("margin-left",(h.width()-y[0].offsetWidth)/2),v<=h.outerWidth(!0)?h.hide():h.show(),e._isDragging==1&&(n(document).trigger("mouseup"),e._isDragging=!1)),e.vNeedScrollBar&&p.is(":visible")&&(b=e._getVScrollBarLargeChange(),w=e._getTrackLen("v"),E=e._getDragLength(c,b,w,r.vScroller.scrollMinDragLength),p.height(E),S=p.outerHeight(!0)-p.height(),p.height(E-S),x=p.children("span"),x.css("margin-top",(p.height()-x[0].offsetHeight)/2),w<=p.outerHeight(!0)?p.hide():p.show(),e._isDragging==1&&(n(document).trigger("mouseup"),e._isDragging=!1)),e._setDragAndContentPosition(!1,!1,"both")},_getTrackLen:function(e){var t=this,n=t._fields(),r=e+"TrackLen",i=n.hbarContainer,s=n.vbarContainer,o=0,u=0,a=0;return n[r]!==undefined?n[r]:(e==="h"&&(u=t._getScrollContainerPadding("h"),a=t._getScrollContainerBorders("h"),o=i.innerWidth()),e==="v"&&(u=t._getScrollContainerPadding("v"),a=t._getScrollContainerBorders("v"),o=s.innerHeight()),n[r]=o-u-a,n[r])},_getScrollContainerPadding:function(e){var t=this,n=t._fields(),r=0,i,s;if(e==="h")r=t._getScrollContainerPadding("left")+t._getScrollContainerPadding("right");else if(e==="v")r=t._getScrollContainerPadding("top")+t._getScrollContainerPadding("bottom");else{e==="left"||e==="right"?i=n.hbarContainer:i=n.vbarContainer,s=e+"Padding";if(n[s]!==undefined)return r=n[s],r;i&&i.css&&(r=parseFloat(i.css("padding-"+e))),n[s]=r}return r},_getScrollContainerBorders:function(e){var t=this,n=t._fields(),r=0,i;return i=e+"Borders",n[i]!==undefined?(r=n[i],r):(e==="h"?r=t._getScrollContainerBorder("left")+t._getScrollContainerBorder("right"):e==="v"&&(r=t._getScrollContainerBorder("top")+t._getScrollContainerBorder("bottom")),n[i]=r,r)},_getScrollContainerBorder:function(e){var t=this,n=t._fields(),r=0,i,s,o,u;e==="left"||e==="right"?i=n.hbarContainer:i=n.vbarContainer,s=e+"Border";if(n[s]!==undefined)return r=n[s],r;if(i&&i.css){u=i.css("border-"+e+"-width").toLowerCase(),r=parseFloat(u);if(isNaN(r)){o=i.css("border-"+e+"-style").toLowerCase();switch(o){case"none":case"hidden":r=0;break;default:switch(u){case"thin":r=1;break;case"medium":r=3;break;case"thick":r=5;break;default:r=0}}}}return n[s]=r,r},_triggerScroll:function(e,t,n){var r={position:e,dir:t,animationOptions:n};this._trigger("scroll",null,r)},_contentDragAnimate:function(e,t,r,i,s,o,u){var a=this,f=a.options,l=e==="v",c=l?f.vScroller:f.hScroller,h=l?"outerHeight":"outerWidth",p=l?"top":"left",d=c.scrollMin,v=c.scrollMax,m=v-d,g=c.scrollValue===undefined?d:c.scrollValue,y=a._getLargeChange(e),b=m-y+1,w=a._fields(),E=w.templateWrapper,S,x,T,N,C,k,L,A,O,M,_,D;S=a.scrollValueToPx(g,e),x=-1,r!==undefined&&(t&&i.is(":animated")&&s!=="nonestop"&&i.stop(!0,!1),T=a._getTrackLen(e),N=i[h](!0),C=T-N,k=a._getScrollContainerPadding(p),x=g/b*C+k),t&&f.animationOptions&&!f.animationOptions.disabled?(x>=0&&u!=="dragging"&&(L=n.extend({},f.animationOptions),L.complete=undefined,l?A={top:x}:A={left:x},i.animate(A,L)),O=n.extend({},f.animationOptions),M=f.animationOptions.complete,O.complete=function(){a._scrollEnd(o,a,e),n.isFunction(M)&&M(arguments)},t&&E.is(":animated")&&s!=="nonestop"&&E.stop(!0,!1),l?_={top:-S}:_={left:-S},f.customScrolling?a._scrollEnd(o,a,e,g):E.animate(_,O),a._triggerScroll(S,e,O)):c.scrollBarVisibility!=="hidden"&&(D=l?"top":"left",x>=0&&u!=="dragging"&&(i[0].style[D]=x+"px"),f.customScrolling||(E[0].style[D]=-S+"px"),a._triggerScroll(S,e),a._scrollEnd(o,a,e,g))},_setDragAndContentPosition:function(e,t,n,r,i){var s=this,o=s._fields(),u=o.hbarContainer,a=o.hbarDrag,f=o.vbarContainer,l=o.vbarDrag;(n==="both"||n==="h")&&o.hScrolling&&s._contentDragAnimate("h",t,u,a,r,e,i),(n==="both"||n==="v")&&o.vScrolling&&s._contentDragAnimate("v",t,f,l,r,e,i),o.intervalID>0&&window.clearInterval(o.intervalID),o.intervalID=window.setInterval(function(){s._disableButtonIfNeeded(s)},500)},_scrolling:function(e,t,n){var r=!0;return e&&(n.beforePosition=t.getContentElement().position(),t._beforePosition=n.beforePosition,r=t._trigger("scrolling",null,n),t.customScroll=n.customScroll),r},_scrollEnd:function(e,t,n,r){e&&window.setTimeout(function(){var e=t.getContentElement(),i,s;if(!e.is(":visible"))return;i=t.getContentElement().position(),s={dir:n,beforePosition:t._beforePosition,afterPosition:i},isNaN(r)||(s.newValue=r),t._trigger("scrolled",null,s)},0)},_getDragLength:function(e,t,n,r){var i=e/t,s=n/i,o=r;return s<o?s=o:s+1>=n&&(s=n-1),Math.round(s)},_needScrollbar:function(e,t){var n=this._hasMode(e,"scrollbar"),r=e.scrollBarVisibility,i=n&&(r==="visible"||r==="auto"&&t);return i},_bindBarEvent:function(e,t,r){var i=this;e.bind("mouseover."+i.widgetName,i,i._scrollerMouseOver);if(!n.fn.draggable)return;t.draggable({axis:r==="h"?"x":"y",start:function(e,t){if(i.options.disabled)return!1;i._isDragging=!0},drag:function(e,t){i._dragging(e,t,i)},containment:"parent",stop:function(e){i._dragStop(e,i,r),n(e.target).removeClass(f),i._isDragging=!1}})},_createBarIfNeeded:function(e,t,r,i,s){if(e){var u=this,a,f=u._fields(),l=r+"barContainer",c=r+"barDrag",h=r==="h",p=s[h?"innerHeight":"innerWidth"](),d=f[l]=n(i),v,m;t.append(d),v=d[0][h?"offsetHeight":"offsetWidth"],p-=v,a={direction:h?"horizontal":"vertical",targetBarLen:v,contentLength:p};if(u._trigger(h?"hScrollerActivating":"vScrollerActivating",null,a)===!1)return!1;m=f[c]=d.find("."+o),u._bindBarEvent(d,m,r),s[h?"height":"width"](p)}},_setScrollbarPosition:function(e,t,n,r,i,s,o,u,a,f,l){var c=f==="h",h,p,d,v,m,g,y,b,w,E,S=t.options.wijCSS;s?(h=r[0][c?"offsetHeight":"offsetWidth"],p=t._getScrollContainerPadding(f),d=t._getScrollContainerBorders(f),v=c?"top":"left",m=c?{top:"0px",bottom:"auto",left:"auto",right:"auto"}:{left:"0px",right:"auto",top:"auto",bottom:"auto"},g=c?{top:h+"px",left:null}:{left:h+"px"},y=c?{top:"auto",right:"auto",left:"auto",bottom:"0px"}:{left:"auto",right:"0px",top:"auto",bottom:"auto"},b=c?{top:"",left:null}:{left:""},w=n[c?"innerWidth":"innerHeight"](),u===v?(r.css(m),n.css(g),c?(r.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass(S.cornerBL).addClass(S.cornerTL),r.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass(S.cornerBR).addClass(S.cornerTR),r.removeClass(S.cornerBottom).addClass(S.cornerTop)):(r.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass(S.cornerTR).addClass(S.cornerTL),r.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass(S.cornerBR).addClass(S.cornerBL),r.removeClass(S.cornerRight).addClass(S.cornerLeft))):(r.css(y),n.css(b),c?(r.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass(S.cornerTL).addClass(S.cornerBL),r.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass(S.cornerBL).addClass(S.cornerBR),r.removeClass(S.cornerTop).addClass(S.cornerBottom)):(r.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass(S.cornerTL).addClass(S.cornerTR),r.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass(S.cornerBL).addClass(S.cornerBR),r.removeClass(S.cornerLeft).addClass(S.cornerRight))),E=0,o&&(E=i[0][c?"offsetWidth":"offsetHeight"],a==="left"?r.css("right","0px"):a==="right"?r.css("left","0px"):a==="top"?r.css("bottom","0px"):a==="bottom"&&r.css("top","0px")),!c&&o&&(E=0),r[c?"width":"height"](w-p-d),t._enableDisableScrollBar(f,r,!l)):e.css(c?"left":"top","")},_testScroll:function(e,t,n){var r=t.templateWrapper,i=t.contentWrapper,s=t.stateContainer,o=i.innerWidth(),u=i.innerHeight(),a=t.contentWidth,f=t.contentHeight,l,p,d,v,m,g;t.hScrolling=a>o,t.vScrolling=f>u,l=e.hNeedScrollBar=e._needScrollbar(n.hScroller,t.hScrolling);if(e._createBarIfNeeded(l,s,"h",c,i)===!1)return!1;l&&!t.vScrolling&&(r.css("float","left"),t.contentHeight=r.height(),t.vScrolling=t.contentHeight>u-t.hbarContainer[0].offsetHeight,r.css("float","")),p=e.vNeedScrollBar=e._needScrollbar(n.vScroller,t.vScrolling);if(e._createBarIfNeeded(p,s,"v",h,i)===!1)return!1;if(p&&!t.hScrolling){r.css("float","left"),t.contentWidth=r.width(),t.hScrolling=t.contentWidth>o-t.vbarContainer[0].offsetWidth,r.css("float","");if(t.hScrolling&&!l){l=e.hNeedScrollBar=e._needScrollbar(n.hScroller,t.hScrolling);if(e._createBarIfNeeded(l,s,"h",c,i)===!1)return!1}}d=t.hbarContainer,v=t.vbarContainer,m=n.hScroller.scrollBarPosition,g=n.vScroller.scrollBarPosition,e._setScrollbarPosition(r,e,i,d,v,l,p,m,g,"h",t.hScrolling),e._setScrollbarPosition(r,e,i,v,d,p,l,g,m,"v",t.vScrolling)},_enableDisableScrollBar:function(e,t,n){var r=this.options;e==="v"?(t[n?"addClass":"removeClass"]("wijmo-wijsuperpanel-vbarcontainer-disabled"),t.find("."+r.wijCSS.stateDefault)[n?"addClass":"removeClass"](r.wijCSS.stateDisabled)):e==="h"&&(t[n?"addClass":"removeClass"]("wijmo-wijsuperpanel-hbarcontainer-disabled"),t.find("."+r.wijCSS.stateDefault)[n?"addClass":"removeClass"](r.wijCSS.stateDisabled)),t.children("."+o)[n?"hide":"show"]()},_initResizer:function(){var e=this,t=e.options,r=e._fields(),i=r.resizer,s,o;if(!n.fn.resizable)return;!i&&t.allowResize&&(s=t.resizableOptions,o=s.stop,s.stop=function(t){e._resizeStop(t,e),n.isFunction(o)&&o(t)},r.resizer=i=e.element.resizable(s)),!t.allowResize&&r.resizer&&(i.resizable("destroy"),r.resizer=null)},_resizeStop:function(e,t){this.options.autoRefresh||t.paintPanel(!0),t._trigger("resized")},_createAdditionalDom:function(e,t,r){r.attr("tabindex")||(r.attr("tabindex","-1"),t.tabindex=!0);var i=t.stateContainer=n(l),s,o=e.options.wijCSS;t.contentWrapper=i.children(),s=t.templateWrapper=t.contentWrapper.children(),r.contents().each(function(e,r){var i=n(r);if(i.hasAllClasses(o.superpanelHeader)){t.header=i;return}if(i.hasAllClasses(o.superpanelFooter)){t.footer=i;return}s[0].appendChild(r)}),t.header!==undefined&&r.prepend(t.header),r[0].appendChild(i[0]),t.footer!==undefined&&t.footer.insertAfter(i)},_setRounder:function(e,t){if(this.options.showRounder){t.addClass(this.options.wijCSS.cornerAll);if(e._rounderAdded)return;if(n.browser.msie)return;var r="",i="",s,o;n.browser.webkit?(i="WebkitBorderTopLeftRadius",r="WebkitBorderRadius"):n.browser.mozilla?(i="MozBorderRadiusBottomleft",r="MozBorderRadius"):(i="border-top-left-radius",r="border-radius"),s=t.css(i),o=parseInt(s,10),t.css(r,o+1),e._rounderAdded=!0,e._radiusKey=r}else t.removeClass(this.options.wijCSS.cornerAll)},_setInnerElementsSize:function(e,t){var n=e.stateContainer,r=e.contentWrapper,i=0,s,o,u,a;e.header!==undefined&&(i+=e.header.outerHeight()),e.footer!==undefined&&(i+=e.footer.outerHeight()),s=n[0].style,o=t.innerHeight()-i,u=t.innerWidth(),s.display="none",s.height=o+"px",s.width=u+"px",a=r[0].style,a.height=o+"px",a.width=u+"px",s.display=""}}),i.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new r),n.wijmo.registerWidget("wijsuperpanel",i.prototype)}else{var o="wijmo-wijsuperpanel-handle",l="<div class='wijmo-wijsuperpanel-statecontainer' style='float: left; height: 100%; -webkit-overflow-scrolling: auto;'><div class='wijmo-wijsuperpanel-contentwrapper-touch'></div></div>",v="wijmo-wijsuperpanel-panelContainer",m="wijmo-wijsuperpanel-assistContainer",g="wijmo-wijsuperpanel-simulateScrollBar",y="wijmo-wijsuperpanel-scrollBarEle",b=window.navigator.userAgent.match(/iPhone|iPad|iPod/i),w=window.navigator.userAgent.match(/Windows/i),E=b?"<div class='"+y+"' style='position: absolute; width: 3px; background:#7E7E7E; -webkit-border-radius: 1px; display: none'></div>":"",S="<div class='"+m+"' style='position: absolute;'><div class='"+g+"' "+"style='position: absolute; overflow-x: hidden; -webkit-overflow-scrolling: touch; -ms-overflow-style: -ms-autohiding-scrollbar'>"+"<div></div></div>"+E+"</div>",x=w?18:4;i.prototype=n.extend(!0,{},n.Widget.prototype,{widgetEventPrefix:"wijsuperpanel",_setOption:function(e,t){var r=this,i=r.element,s=r.options,o=r._fields();if(e==="animationOptions"||e==="resizableOptions")t=n.extend(s[e],t);else if(e==="hScroller"||e==="vScroller"){var u=e==="hScroller"?"h":"v";t=n.extend(s[e],t),r._adjustScrollValue(u),r.refresh()}e==="customScrolling"&&s[e]!==t&&(s[e]=t,r._initialize(o,i,r),r._bindElementEvents()),n.Widget.prototype._setOption.apply(r,arguments);switch(e){case"allowResize":r._initResizer();break;case"disabled":r._handleDisabledOption(t,r.element);break;case"mouseWheelSupport":case"keyboardSupport":r._bindElementEvents(r,o,r.element,s)}},_create:function(){var e=this,t=e.options;t.vScroller.dir="v",t.hScroller.dir="h",e._createDom(),e.options.disabled&&e.disable(),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijsuperpanel")},_handleDisabledOption:function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},_createDisabledDiv:function(e){var t=this,r=e?e:t.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight();return n("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top})},_createDom:function(){var e=this,t=e.element;e.paintPanel(),e._initResizer(),e._bindElementEvents()},_applyOverflow:function(e){var t={},n=this.options,r=n.hScroller.scrollBarVisibility,i=n.vScroller.scrollBarVisibility;t["overflow-x"]=r,t["overflow-y"]=i,r==="visible"&&i==="visible"&&(t["overflow-x"]="auto",t["overflow-y"]="auto"),t["touch-action"]="",t["ms-touch-action"]="",n.customScrolling&&(t["overflow-y"]="hidden",t["touch-action"]="none",t["ms-touch-action"]="none",t["overflow-x"]==="auto"&&(t["touch-action"]="pan-x",t["ms-touch-action"]="pan-x")),e.css(t)},_createAdditionalDom:function(e,t,r){r.attr("tabindex")||(r.attr("tabindex","-1"),t.tabindex=!0);var i=n("<div class='"+v+"'></div>"),s=e.options.customScrolling,o=t.stateContainer=n(l),u=t.assistContainer=n(S),a=t.simulateScroll=u.find("."+g),f=t.customScrollBarEle=u.find("."+y),c=e.options.wijCSS,h=!1;t.contentWrapper=o.children(),r.contents().each(function(e,r){var i=n(r);if(i.hasAllClasses(c.superpanelHeader)){t.header=i;return}if(i.hasAllClasses(c.superpanelFooter)){t.footer=i;return}if(i.hasClass(v))return h=!0,!1;t.contentWrapper[0].appendChild(r)}),t.header!==undefined&&r.prepend(t.header),h&&(i=r.children("."+v),o=t.stateContainer=i.find(".wijmo-wijsuperpanel-statecontainer"),t.contentWrapper=o.children()),i[0].appendChild(o[0]),r[0].appendChild(i[0]),i.children("."+m).length>0&&(t.assistContainer=i.children("."+m),t.simulateScroll=t.assistContainer.find("."+g),t.customScrollBar=t.assistContainer.find("."+y)),s?i[0].appendChild(t.assistContainer[0]):t.assistContainer.remove(),e._resetDom(),i.height(o.height()).width(o.width()+x),t.footer!==undefined&&t.footer.insertAfter(i),t.contentWrapper.css("float","left"),t.contentWidth=t.contentWrapper.width(),t.contentHeight=t.contentWrapper.height(),t.contentWrapper.css("float",""),s&&e._setAssistElementStyle(t),e._applyOverflow(t.stateContainer)},_setAssistElementStyle:function(e){var t=this,n=t.options.vScroller.scrollBarVisibility,r=e.stateContainer,i=e.assistContainer,s=e.simulateScroll,r,o,u,a,f;o=r.height(),u=e.contentHeight,f=r.position().left+r.width()-x,a=s.children(),s.css("width",x).css("height",o).css("overflow-y",n),i.css("left",f+"px").css("width",x).css("height",o),a.css("width",x+2).css("height",u).css("background","transparent"),t._setCustomScrollDragLengthForIOS(t.options,e)},_setCustomScrollDragLengthForIOS:function(e,t){if(!b)return;var n=this,r=t.customScrollBarEle,i=e.vScroller.scrollMax-e.vScroller.scrollMin,s=n._getVScrollBarLargeChange(),o=t.stateContainer.height(),u=i/s,a=o/u,f=e.vScroller.scrollMinDragLength||6;a<f?a=f:a+1>=o&&(a=o-1),a=Math.round(a),r.height(a)},_elementScrolled:function(e,t,n,r,i){var s=this,o=s.options,u=s.element,a,f,l,c,h;if(t===r&&e===n)return;if(t===r){if(i)return;f="h",e>n?a="right":a="left",l=o.hScroller.scrollValue,h=e}else f="v",t>r?a="bottom":a="top",l=o.vScroller.scrollValue,h=t;c=s.scrollPxToValue(h,f),c=Math.round(c),s._trigger("scrolling",null,{dir:f,direction:a,oldValue:l,newValue:c,beforePosition:{left:-n,top:-r}}),s._triggerScroll(h,f),s._updateScrollValue(h,f),s._trigger("scrolled",null,{dir:f,beforePosition:{left:-n,top:-r},afterPosition:{left:-e,top:-t},newValue:c})},_bindElementEvents:function(){var e=this,t=e.element,r=e.options,i=e._fields(),s=e.widgetName,o=i.stateContainer,u=o.scrollLeft(),a=o.scrollTop(),f=i.simulateScroll,l,c,h=i.customScrollBarEle,p,d,v,m,g,y,w,E,S,x,T=!1,N=!1,C,k=b&&h.length>0;f.unbind(),o.unbind("."+s),n(document).unbind("mouseup."+s),r.customScrolling&&(f.length>0&&(v=f.children().height(),m=f.height(),a=f.scrollTop(),k&&(h.css("display","block"),d=h.height(),h.css("display","none"),p=h.position().top),f.bind("scroll",function(t,n){l=f.scrollTop(),c=o.scrollLeft(),k&&(p=e._getCustomScrollOffset(l,v,m,d),p<0&&(p=0),h.css("top",p+"px")),e._elementScrolled(c,l,u,a,!0),u=c,a=l}),o.bind("wijmousedown."+s,function(e){g=e.pageY,E=e.pageX,N=!0,C&&clearTimeout(C),k&&h.stop().fadeIn(100)}),o.bind("wijmousemove."+s,function(e){N&&(y=e.pageY,w=y-g,S=e.pageX,x=S-E,T=Math.abs(w)<Math.abs(x),w&&(T||(l=f.scrollTop(),f.scrollTop(l-w)),g=y)),!n.browser.msie&&!T&&(e.stopPropagation(),e.preventDefault())}),o.bind("wijmouseup."+s,function(e){g=e.pageY,E=e.pageX,N=!1,T=!1,k&&(C=setTimeout(function(){h.fadeOut("slow")},1e3))}),n(document).bind("mouseup."+s,function(e){N=!1,T=!1,g=e.pageY,E=e.pageX})),o.bind("mousewheel."+s,e,e._panelMouseWheel)),o.bind("scroll",function(t,n){r.customScrolling&&f.length>0?l=f.scrollTop():l=o.scrollTop(),c=o.scrollLeft(),e._elementScrolled(c,l,u,a,!1),u=c,a=l}),r.keyboardSupport?e._keyboardBind===undefined&&(e._keyboardBind=!0,t.bind("keydown."+s,e,e._panelKeyDown)):(t.unbind("keydown."+s,e._panelKeyDown),e._keyboardBind=undefined),r.mouseWheelSupport||t.bind("mousewheel",function(e){return e.stopPropagation(),!1})},_getCustomScrollOffset:function(e,t,n,r){var i,s;return s=(n-r)/(t-n),e*s},_panelMouseWheel:function(e,t){var r=e.data,i=r.options,s,o="",a,f=i.hScroller,l=i.vScroller,c,h,p,d,v,m;if(!i.mouseWheelSupport||i.disabled)return;s=n(e.srcElement||e.originalEvent.target),a=s.closest("."+u,r.element).size()>0;if(a){e.stopPropagation(),e.preventDefault();return}t>0?o="top":o="bottom";if(o.length>0){h=r._getVScrollBarSmallChange(),p=r._getVScrollBarLargeChange();if(!r._setScrollerValue(o,l,h,p,o==="bottom",!1,r))return;d=l.scrollValue,v=d?r._scrollValueToPx(d,"v"):0,d!==undefined&&r._fields().assistContainer.find("."+g).prop("scrollTop",v)}c=!1,o==="top"&&(c=!r.vNeedScrollBar||Math.abs(l.scrollValue-l.scrollMin)<.001),o==="bottom"&&(c=!r.vNeedScrollBar||Math.abs(l.scrollValue-(l.scrollMax-r._getVScrollBarLargeChange()+1))<.001);if(!c||!i.bubbleScrollingEvent)e.stopPropagation(),e.preventDefault()},_getVScrollBarSmallChange:function(){var e=this.options,t;return e.vScroller.scrollSmallChange||(t=this._getVScrollBarLargeChange(),e.vScroller.scrollSmallChange=t/2),e.vScroller.scrollSmallChange},_getVScrollBarLargeChange:function(){var e=this,t=e.options,n=e._fields(),r=t.vScroller,i="_autoVLarge",s,o,u,a,f,l,c,h;return r.scrollLargeChange?r.scrollLargeChange:(s=r.scrollMax,o=r.scrollMin,u=s-o,a=n.simulateScroll,f=a.innerHeight(),l=n.contentHeight,c=f/(l-f),h=(u+1)*c/(1+c),isNaN(h)&&(h=0),r.scrollLargeChange=h,e[i]=!0,r.scrollLargeChange)},_setScrollerValue:function(e,t,r,i,s,o,u){var a=this.options,f=t.scrollMin,l=o?i:r,c=t.scrollValue,h=0,p,d,v,m,g,y;c||(c=f),p=t.scrollMax-i+1,c>p&&(c=p);if(s){if(Math.abs(c-p)<1e-4)return u._clearInterval(),!1;d=t.firstStepChangeFix,h=c+l,!o&&Math.abs(c-f)<1e-4&&!isNaN(d)&&(h+=d),h>p&&(h=p)}else{if(Math.abs(c-f)<1e-4)return u._clearInterval(),!1;h=c-l,h<0&&(h=f)}return v={oldValue:t.scrollValue,newValue:h,direction:e,dir:t.dir},u._scrolling(!0,u,v)?(u.customScroll&&(g=Math.abs(u.customScroll),m=u.scrollPxToValue(g,t.dir)),t.scrollValue=m||h,y=n.Event("scrollValueChanged"),this._trigger("scrollValueChanged",y,t),u.customScroll=undefined,!0):!1},_clearInterval:function(){var e=this._fields(),t=e.internalFuncID;t>0&&(window.clearInterval(t),e.internalFuncID=-1)},_scrolling:function(e,t,n){var r=!0;return e&&(n.beforePosition=t.getContentElement().position(),t._beforePosition=n.beforePosition,r=t._trigger("scrolling",null,n),t.customScroll=n.customScroll),r},_setScrollingInterval:function(e,t,n,r){var i=n.options;t.length>0&&(e.internalFuncID=window.setInterval(function(){n._doScrolling(t,n,r)},i.keyDownInterval))},_triggerScroll:function(e,t){var n={position:e,dir:t};this._trigger("scroll",null,n)},_panelKeyDown:function(t){var n=t.data,r=n.options,i,s,o=e.getKeyCodeEnum();if(!r.keyboardSupport||r.disabled)return;i=t.shiftKey,s=t.keyCode,s===o.LEFT?n._doScrolling("left",n,i):s===o.RIGHT?n._doScrolling("right",n,i):s===o.UP?n._doScrolling("top",n,i):s===o.DOWN&&n._doScrolling("bottom",n,i),t.stopPropagation(),t.preventDefault()},_doScrolling:function(e,t,n){var r,i,s,o=t._fields(),u=t.options.customScrolling?o.simulateScroll[0]:o.stateContainer[0],a={},f;if(e==="top"||e==="bottom")i="v",s="scrollTop";else if(e==="left"||e==="right")i="h",s="scrollLeft";n?r=t._getLargeChange(i):r=t._getSmallChange(i),f=u[s],e==="top"||e==="left"?a[s]=f-r:a[s]=f+r,t._animateTo(a)},_getLargeChange:function(e){var t=this,n=t._fields(),r,i=e=="h"?n.clientWidth:n.clientHeight;return i?r=i:r=n.stateContainer[e=="h"?"width":"height"](),r},_getSmallChange:function(){return this._getLargeChange()/2},_setRounder:function(e,t){var r=this.options.wijCSS.cornerAll;if(this.options.showRounder){t.addClass(r);if(e._rounderAdded)return;if(n.browser.msie)return;var i="",s="",o,u;n.browser.webkit?(s="WebkitBorderTopLeftRadius",i="WebkitBorderRadius"):n.browser.mozilla?(s="MozBorderRadiusBottomleft",i="MozBorderRadius"):(s="border-top-left-radius",i="border-radius"),o=t.css(s),u=parseInt(o,10),t.css(i,u+1),e._rounderAdded=!0,e._radiusKey=i}else t.removeClass(r)},_initResizer:function(){var e=this,t=e.options,r=e._fields(),i=r.resizer,s,o;if(!n.fn.resizable)return;!i&&t.allowResize&&(s=t.resizableOptions,o=s.stop,s.stop=function(t){e._resetDom(),e._trigger("resized"),n.isFunction(o)&&o(t)},r.resizer=i=e.element.resizable(s)),!t.allowResize&&r.resizer&&(i.resizable("destroy"),r.resizer=null)},_adjustScrollValue:function(e){var t=e==="h",n=this,r=this.options,i=t?n.hNeedScrollBar:n.vNeedScrollBar,s=t?r.hScroller:r.vScroller,o=s.scrollMax,u=s.scrollMin,a,f;i&&(a=t?n._getHScrollBarLargeChange():n._getVScrollBarLargeChange(),f=o-a+1,s.scrollValue>f&&(s.scrollValue=f),s.scrollValue<u&&(s.scrollValue=u))},_resetDom:function(){var e=this,t=e.options,n=e.element,r=e._fields(),i=n.width(),s=n.height();r.header!==undefined&&(s-=r.header.outerHeight()),r.footer!==undefined&&(s-=r.footer.outerHeight()),r.stateContainer.length&&(r.stateContainer.css({width:i,height:s}),r.clientWidth=r.stateContainer[0].clientWidth,r.clientHeight=r.stateContainer[0].clientHeight),e._initScrollPosition()},_fields:function(){var e=this,t=e.element,n=e.widgetName+"-fields",r=e._fieldsStore;return r===undefined&&(r={},t.data(n,r),e._fieldsStore=r),r},_getScrollOffset:function(e){var t=n(e),r,i,s,o,u,a,f,l,c,h={left:null,top:null};return t.length===0?h:(r=this._fields(),i=r.contentWrapper,s=t.offset(),s.leftWidth=s.left+t.outerWidth(),s.topHeight=s.top+t.outerHeight(),u=i.offset(),u.leftWidth=u.left+r.clientWidth,u.topHeight=u.top+r.clientHeight,l=s.left-u.left,s.left<u.left?h.left=l:s.leftWidth>u.leftWidth&&(c=s.leftWidth-u.left-r.clientWidth,l<c?h.left=l:h.left=c),a=s.top-u.top,s.top<u.top?h.top=a:s.topHeight>u.topHeight&&(f=s.topHeight-u.top-r.clientHeight,a<f?h.top=a:h.top=f),h)},_initialize:function(e,t,n){var r=n.options.wijCSS;e.initialized=!0,t.addClass(["wijmo-wijsuperpanel",r.widget,r.content].join(" ")),n._setRounder(n,t),n._createAdditionalDom(n,e,t),n._trigger("painted"),n._initScrollPosition()},_initScrollPosition:function(){var e=this.options,t=e.hScroller,n=e.vScroller,r=t.scrollValue,i=n.scrollValue,s=this._fields(),o=e.customScrolling?s.simulateScroll:s.stateContainer,u=r?this._scrollValueToPx(r,"h"):0,a=i?this._scrollValueToPx(i,"v"):0;r&&s.stateContainer.prop("scrollLeft",u),i&&o.prop("scrollTop",a)},_updateScrollValue:function(e,t){var r=this.scrollPxToValue(e,t),i=this.options,s=t==="h"?"hScroller":"vScroller",o=n.Event("scrollValueChanged");i[s].scrollValue=r,this._trigger("scrollValueChanged",o,i[s])},scrollPxToValue:function(e,t){var n=this,r=n.options,i=n._fields(),s,o,u,a,f,l,c,h,p,d,v,m;return s=t==="h"?"clientWidth":"clientHeight",o=t==="h"?"scrollWidth":"scrollHeight",u=t==="h"?"hScroller":"vScroller",f=i.stateContainer[0],a=r.customScrolling?i.simulateScroll[0]:f,l=t==="h"?f:a,c=l[s],h=l[o],p=r[u].scrollMin,d=r[u].scrollMax-n._getVScrollBarLargeChange()+1,v=d-p,m=v*e/(h-c)+p,m},scrollValueToPx:function(e,t){return this._scrollValueToPx(e,t)},_scrollValueToPx:function(e,t){var n=this,r=n.options,i=n._fields(),s,o,u,a,f,l,c,h,p,d,v,m;s=t==="h"?"clientWidth":"clientHeight",o=t==="h"?"scrollWidth":"scrollHeight",u=t==="h"?"hScroller":"vScroller",m=i.stateContainer[0],v=r.customScrolling?i.simulateScroll[0]:m,a=t==="h"?m:v,f=a[s],l=a[o],c=r[u].scrollMin,h=r[u].scrollMax-n._getVScrollBarLargeChange()+1,p=h-c;if(e===undefined||e<c)e=c;return e>h&&(e=h),d=(e-c)*(l-f)/p,d},_animateTo:function(e){var t=this,n=t.element,r=t.options,i=r.animationOptions,s=t._fields();r.customScrolling?s.simulateScroll.animate(e,i):s.stateContainer.animate(e,i)},destroy:function(){var e=this,t=e.element,r=e.options,i=e._fields(),s,o,u=r.wijCSS;e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),i.resizer!==undefined&&i.resizer.resizable("destroy"),t.unbind("."+e.widgetName),t.removeClass(["wijmo-wijsuperpanel",u.widget,u.content,u.cornerAll].join(" ")),o=t.find("."+v),s=i.contentWrapper,s.contents().each(function(e,n){t.append(n)}),i.stateContainer.remove(),i.assistContainer.remove(),o.remove(),n.Widget.prototype.destroy.apply(e,arguments)},doScrolling:function(e,t){this._doScrolling(e,this,t)},paintPanel:function(e){var t=this,n=t.element,r=t._fields();r.initialized||this._initialize(r,n,t)},needToScroll:function(e){var t=this._getScrollOffset(e);return t.top!==null||t.left!==null},scrollChildIntoView:function(e){var t=this._getScrollOffset(e),n=t.left,r=t.top;this.scrollTo(n,r)},getContentElement:function(){return this._fields().contentWrapper},hScrollTo:function(e,t){var n=t?this._scrollValueToPx(e):e;this._animateTo({scrollLeft:n})},vScrollTo:function(e,t){var n=t?this._scrollValueToPx(e):e;this._animateTo({scrollTop:n})},refresh:function(){var e=this,t=e._fields();e._applyOverflow(t.stateContainer),e._resetDom()},scrollTo:function(e,t,n){var r=n?this._scrollValueToPx(e):e,i=n?this._scrollValueToPx(t):t;this._animateTo({scrollTop:i}),this._animateTo({scrollLeft:r})}}),i.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,{wijCSS:{superpanelHeader:"wijmo-wijsuperpanel-header",superpanelFooter:"wijmo-wijsuperpanel-footer",superpanelHandle:"",superpanelVBarbuttonTop:"",superpanelVBarbuttonBottom:"",superpanelHBarbuttonLeft:"",superpanelHBarbuttonRight:"",superpanelHBarContainer:"",superpanelVBarContainer:"",superpanelButton:"",superpanelButtonLeft:"",superpanelButtonRight:"",superpanelButtonTop:"",superpanelButtonBottom:""},wijMobileCSS:{header:"ui-header ui-bar-a",content:"ui-body-b",stateDefault:"ui-btn ui-btn-b",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},initSelector:":jqmData(role='wijsuperpanel')",allowResize:!1,animationOptions:{queue:!1,disabled:!1,duration:250,easing:undefined},hScroller:{scrollBarVisibility:"auto",scrollValue:null,scrollMax:100,firstStepChangeFix:0,scrollMin:0,hoverEdgeSpan:20},keyboardSupport:!1,keyDownInterval:100,mouseWheelSupport:!0,resizableOptions:{handles:"all",helper:"ui-widget-content wijmo-wijsuperpanel-helper"},resized:null,painted:null,scroll:null,showRounder:!0,vScroller:{scrollBarVisibility:"auto",scrollValue:null,scrollMax:100,scrollMin:0,firstStepChangeFix:0,hoverEdgeSpan:20}}),n.wijmo.registerWidget("wijsuperpanel",i.prototype)}})(e.superpanel||(e.superpanel={}));var t=e.superpanel})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijtextbox",i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){var e=this,t=e.element,r=e.options.wijCSS,i={input:!0,textarea:!0},s={text:!0,password:!0,email:!0,url:!0},o=t.get(0).nodeName.toLowerCase();window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n));if(!i.hasOwnProperty(o))return;if(o==="input"&&e.element.attr("type")&&!s.hasOwnProperty(e.element.attr("type").toLowerCase()))return;t.addClass(r.wijtextbox).addClass(r.widget).addClass(r.stateDefault).addClass(r.cornerAll),e.element.bind("mouseover."+e.widgetName,function(){t.addClass(r.stateHover)}).bind("mouseout."+e.widgetName,function(){t.removeClass(r.stateHover)}).bind("mousedown."+e.widgetName,function(){t.addClass(r.stateActive)}).bind("mouseup."+e.widgetName,function(){t.removeClass(r.stateActive)}).bind("focus."+e.widgetName,function(){t.addClass(r.stateFocus)}).bind("blur."+e.widgetName,function(){t.removeClass(r.stateFocus)}),t.is(":disabled")?(e._setOption("disabled",!0),t.addClass(r.stateDisabled)):(e._setOption("disabled",!1),t.removeClass(r.stateDisabled))},t.prototype.destroy=function(){var t=this,n=t.options.wijCSS;t.element.removeClass(n.widget).removeClass(n.stateDefault).removeClass(n.cornerAll).removeClass(n.stateHover).removeClass(n.stateActive).removeClass(n.wijtextbox).unbind("."+t.widgetName),e.prototype.destroy.call(this)},t}(e.wijmoWidget);t.wijtextbox=i;var s=function(){function e(){this.initSelector=":jqmData(role='wijtextbox')",this.wijCSS={wijtextbox:"wijmo-wijtextbox"}}return e}();i.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new s),n.wijmo.registerWidget(r,i.prototype)})(e.textbox||(e.textbox={}));var t=e.textbox})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijdropdown",i=function(t){function r(){t.apply(this,arguments)}return __extends(r,t),r.prototype._setOption=function(e,n){var r=this,i=r.options.wijCSS;t.prototype._setOption.call(this,e,n),e==="disabled"&&(r._labelWrap.toggleClass(i.stateDisabled,n),r._label.toggleClass(i.stateDisabled,n),r.element.attr("disabled",n?"disabled":""))},r.prototype._create=function(){var e=this,t=e.element;window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n));if(t.get(0).tagName.toLowerCase()!=="select")return;t.is(":visible")?(e._activeItem=null,e._createSelect(),e._bindEvents(),e.needInit=!1):e.needInit=!0,e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijdropdown")},r.prototype._createSelect=function(){this.cssWidth=this.element.get(0).style.width;var e=this,t=e.options,r=e.options.wijCSS,i=e.element,s=i.width(),o=s,u=i.wrap("<div></div>").parent().addClass(r.helperHidden),a=u.wrap("<div></div>").parent().attr("role","select").addClass(r.wijdropdown).addClass(r.widget).addClass(r.stateDefault).addClass(r.cornerAll).addClass(r.helperClearFix),f=n("<label></label>").addClass(r.wijdropdownLabel).addClass(r.cornerAll).attr("id",i.get(0).id+"_select"),l=n("<div></div>").addClass(r.wijdropdownTrigger).addClass(r.stateDefault).addClass(r.cornerRight),c=n('<a href="#"></a>'),h=n("<div>").addClass(r.wijmodropdown),p=n("<ul></ul>").addClass(r.wijdropdownList).addClass(r.content).addClass(r.widget).addClass(r.cornerAll).addClass(r.helperReset).appendTo(h);i.attr("name")&&i.attr("name")!==""&&f.attr("name",i.attr("name")),n("<span></span>").addClass(r.icon).addClass(r.iconArrowDown).appendTo(l),i.get(0).tabIndex!==""&&c.attr("tabindex",i.attr("tabindex")),i.get(0).disabled!==!1&&(e.options.disabled=!0),e.options.disabled&&(c.addClass(r.stateDisabled),f.addClass(r.stateDisabled)),c.append(f),a.append(u).append(c).append(l),t.ensureDropDownOnBody?h.wrap(n("<div></div>").addClass(r.wijdropdown)).parent().appendTo("body").css("position","absolute"):a.append(h),o+=parseInt(f.css("padding-left").replace(/px/,""),10),o+=parseInt(f.css("padding-right").replace(/px/,""),10),o-=16,a.width(o),e._container=a,e._buildList(p,h,o),e._rightTrigger=l,e._label=f,e._listContainer=h,e._list=p,e._value=i.val(),e._selectedIndex=n("option",i).index(i.find("option:selected")),e._selectWrap=u,e._labelWrap=c,a.attr("title",i.attr("title"))},r.prototype._buildList=function(e,t,r){var i=this,s=i.options.wijCSS,o=i.element,u;t.show(),o.children().each(function(t,r){var o=n(r),u,a,f,l=!1;return o.is("option")?e.append(i._buildItem(o)):(u=n("<li></li>").addClass(s.wijdropdownOptgroup),a=n("<span>"+o.attr("label")+"</span>").addClass(s.wijdropdownOptgroupHeader).addClass(s.priorityPrimary),f=n("<ul></ul>").addClass(s.helperReset).addClass(s.wijdropdownItems),o.attr("disabled")=="disabled"&&(l=!0,u.addClass(s.stateDisabled)),o.children("option").each(function(){return l&&n(this).attr("disabled","disabled"),f.append(i._buildItem(n(this))),this}),u.append(a).append(f),e.append(u)),this}),t.height(""),u=t.height(),u=e.outerHeight()<u?e.outerHeight():u,(this.cssWidth===""||this.cssWidth==="auto")&&e.outerWidth()>r-19&&(r=e.outerWidth()+10,this._container.width(r)),t.css({height:u,width:r}),n.browser.msie&&/^[8]\.[0-9]+/.test(n.browser.version)?e.setOutWidth(r-19):e.setOutWidth(r-18),t.data("wijmo-wijsuperpanel")?(t.wijsuperpanel("paintPanel"),i.superpanel=t.data("wijmo-wijsuperpanel")):i.superpanel=t.wijsuperpanel({unfocus:i.options.unfocus}).data("wijmo-wijsuperpanel"),n.fn.bgiframe&&i.superpanel.element.bgiframe(),i.superpanel.vNeedScrollBar||(n.browser.msie&&/^[8]\.[0-9]+/.test(n.browser.version)?e.setOutWidth(r-1):e.setOutWidth(r),i.superpanel.paintPanel(i.options.unfocus)),t.hide()},r.prototype._handelEvents=function(e){var t=this,n=t.options.wijCSS,r="."+t.widgetName,i=t.element;e.bind("click"+r,function(n){if(t.options.disabled)return;t._listContainer.is(":hidden")?t._show():t._hide(),i.click(),e.get(0)===t._label.get(0)?n.preventDefault():t._labelWrap.focus()}).bind("mouseover"+r,function(){if(t.options.disabled)return;t._label.addClass(n.stateHover),t._rightTrigger.addClass(n.stateHover),i.trigger("mouseover")}).bind("mouseout"+r,function(){if(t.options.disabled)return;t._label.removeClass(n.stateHover),t._rightTrigger.removeClass(n.stateHover),i.trigger("mouseout")}).bind("mousedown"+r,function(){if(t.options.disabled)return;t._label.addClass(n.stateActive),t._rightTrigger.addClass(n.stateActive),i.trigger("mousedown")}).bind("mouseup"+r,function(){if(t.options.disabled)return;t._label.removeClass(n.stateActive),t._rightTrigger.removeClass(n.stateActive),i.trigger("mouseup")})},r.prototype._bindEvents=function(){var t=this,r=t.options.wijCSS,i="."+t.widgetName,s=t._label,o=t._rightTrigger,u=t._labelWrap,a=t._listContainer,f=t.element,l=!1,c;t._handelEvents(t._label),t._handelEvents(t._rightTrigger),n(window).bind("resize",function(e){t._setListContainerPosition()}),n(document).bind("mouseup"+i,function(e){if(a.is(":hidden")){s.removeClass(r.stateFocus),o.removeClass(r.stateFocus);return}c=a.offset();if(e.target===s.get(0)||e.target===o.get(0)||e.target===o.children().get(0))return;if(n(e.target).closest(a).length>0)return;if(e.pageX<c.left||e.pageX>c.left+a.width()||e.pageY<c.top||e.pageY>c.top+a.height())s.removeClass(r.stateFocus),o.removeClass(r.stateFocus),t._hide()}),a.bind("click"+i,function(e){var i=n(e.target),s=i.closest("li"),o=s.attr("disabled")&&s.attr("disabled")==="disabled";if(o)return;i.closest("li."+r.wijdropdownItem,n(this).get(0)).length>0&&(t._setValue(),a.css("z-index",""),n.browser.msie&&/^[6,7].[0-9]+/.test(n.browser.version)&&a.parent().css("z-index",""),a.hide(),t._setValueToEle()),f.click()}),u.bind("keydown"+i,function(n){if(t.options.disabled)return;var r=e.getKeyCodeEnum();switch(n.which){case r.UP:case r.LEFT:t._previous(),t._setValue(),t._setValueToEle();break;case r.DOWN:case r.RIGHT:t._next(),t._setValue(),t._setValueToEle();break;case r.PAGE_DOWN:t._nextPage(),t._setValue(),t._setValueToEle();break;case r.PAGE_UP:t._previousPage(),t._setValue(),t._setValueToEle();break;case r.ENTER:case r.NUMPAD_ENTER:t._setValue(),t._listContainer.hide(),t._setValueToEle()}n.which!==r.TAB&&n.preventDefault(),f.trigger("keydown")}).bind("focus"+i,function(){if(t.options.disabled)return;s.addClass(r.stateFocus),o.addClass(r.stateFocus),f.focus()}).bind("blur"+i,function(){if(t.options.disabled)return;s.removeClass(r.stateFocus),o.removeClass(r.stateFocus),f.trigger("blur")}).bind("keypress"+i,function(){if(t.options.disabled)return;f.trigger("keypress")}).bind("keyup"+i,function(){if(t.options.disabled)return;f.trigger("keyup")}),l=/chrome/.test(navigator.userAgent.toLowerCase());if(l||n.browser.safari)u.bind("click"+i,function(){u.focus()}),o.bind("mouseout"+i,function(){if(t.options.disabled)return;s.removeClass(r.stateFocus),o.removeClass(r.stateFocus)})},r.prototype._setListContainerPosition=function(){var e=this,t=e.options,n;if(!t.ensureDropDownOnBody)return;n=e._container.offset(),e._listContainer.parent().offset({left:n.left,top:n.top+e._container.outerHeight()})},r.prototype._init=function(){var e=this;e._initActiveItem(),e._activeItem&&e._label.text(e._activeItem.text())},r.prototype._buildItem=function(e){var t=e.val(),r=e.text(),i=this,s=i.options.wijCSS,o;return r===""&&(r="&nbsp;"),o=n("<li></li>").addClass(s.wijdropdownItem).addClass(s.stateDefault).addClass(s.cornerAll).append(n("<span>"+r+"</span>")).attr("role","option"),e.is(":disabled")?o.attr("disabled","disabled").addClass(s.stateDisabled):o.mousemove(function(e){var t=n(e.target).closest("."+s.wijdropdownItem);t!==this.last&&i._activate(n(this)),this.last=n(e.target).closest("."+s.wijdropdownItem)}),o.data("value",t),o},r.prototype._show=function(){var e=this,t=e._listContainer,r=e.options.showingAnimation;e._setListContainerPosition(),t.css("z-index","100000"),n.browser.msie&&/^[6,7]\.[0-9]+/.test(n.browser.version)&&t.parent().css("z-index","99999"),r?t.show(r.effect,r.options,r.speed,function(){e._initActiveItem()}):t.show()},r.prototype._hide=function(){var e=this,t=e._listContainer,r=e.options.hidingAnimation;if(t.is(":hidden"))return;r?t.hide(r.effect,r.options,r.speed,function(){n.isFunction(r.callback)&&r.callback.apply(e,arguments),n.browser.msie&&/^[6,7]\.[0-9]+/.test(n.browser.version)&&t.parent().css("z-index",""),t.css("z-index","")}):(n.browser.msie&&n.browser.version==="6.0"&&t.parent().css("z-index",""),t.css("z-index",""),t.hide())},r.prototype._setValue=function(){var e=this,t=e.options.wijCSS,r=e._listContainer,i,s;e._activeItem&&(e._label.text(e._activeItem.text()),e._value=e._activeItem.data("value"),e._selectedIndex=n("li."+t.wijdropdownItem,r).index(e._activeItem),e.superpanel.vNeedScrollBar&&(i=e._activeItem.offset().top,s=e._activeItem.outerHeight(),r.offset().top>i?r.wijsuperpanel("scrollTo",0,i-e._list.offset().top):r.offset().top<i+s-r.innerHeight()&&r.wijsuperpanel("scrollTo",0,i+s-r.height()-e._list.offset().top)))},r.prototype._setValueToEle=function(){var e=this,t=e.element,r=t.find(":selected"),i=n("option",t).index(r),s=e._selectedIndex;i!==s&&(n.browser.mozilla&&t.val(e._value),r.removeAttr("selected"),t.find("option:eq("+s+")").prop("selected",!0),t.trigger("change"))},r.prototype._initActiveItem=function(){var e=this,t=e.options.wijCSS;if(e._value!==undefined){if(e._selectedIndex===-1){e._activate(e._list.find("li."+t.wijdropdownItem).eq(0));return}e._list.find("li."+t.wijdropdownItem).each(function(t){if(t===e._selectedIndex)return e._activate(n(this)),!1})}},r.prototype._activate=function(e){var t=this,n=t.options.wijCSS;t._deactivate(),t._activeItem=e,t._activeItem.addClass(n.stateHover).attr("aria-selected",!0)},r.prototype._deactivate=function(){var e=this,t=e.options.wijCSS;e._activeItem&&e._activeItem.removeClass(t.stateHover).attr("aria-selected",!1)},r.prototype._next=function(){this._move("next","first")},r.prototype._previous=function(){this._move("prev","last")},r.prototype._nextPage=function(){this._movePage("first")},r.prototype._previousPage=function(){this._movePage("last")},r.prototype.refresh=function(){var e=this,t=e.options.wijCSS,r=e.element,i;if(e.needInit)e.element.is(":visible")&&(e._activeItem=null,e._createSelect(),e._bindEvents(),e._init(),e.needInit=!1);else{if(!e._list)return;e._listContainer.show(),e._list.empty(),e._buildList(e._list,e._listContainer,i),e._value=e.element.val(),e._selectedIndex=n("option",r).index(r.find("option:selected")),e._initActiveItem(),e._activeItem&&e._label.text(e._activeItem.text())}},r.prototype._move=function(e,t){var n=this,r=n.options.wijCSS,i,s;if(!n._activeItem){n._activate(n._list.find("."+r.wijdropdownItem+":"+t));return}i=n._activeItem[e]().eq(0),i.length?s=n._getNextItem(i,e,t):n._activeItem.closest("."+r.wijdropdownOptgroup).length&&(s=n._getNextItem(n._activeItem.closest("."+r.wijdropdownOptgroup)[e](),e,t));if(!s||!s.length)s=n._getNextItem(n._list.find("."+r.wijdropdownItem+":"+t),e,t);n._activate(s)},r.prototype._movePage=function(e){var t=this,r=t.options.wijCSS,i,s,o,u,a=e==="first"?"next":"prev",f=e==="first"?"last":"first";t.superpanel.vNeedScrollBar?(i=t._activeItem.offset().top,s=t.options.height,o=t._list.find("."+r.wijdropdownItem).filter(function(){var t=n(this).offset().top-i+(e==="first"?-s:s)+n(this).height(),r=n(this).height();return t<r&&t>-r}),o.length||(o=t._list.find("."+r.wijdropdownItem+":"+f))):o=t._list.find("."+r.wijdropdownItem+":"+(t._activeItem?f:e)),u=t._getNextItem(o,a);if(!u||!u.length)u=t._getNextItem(o,a==="next"?"prev":"next");t._activate(u)},r.prototype._getNextItem=function(e,t,n){var r=this.options.wijCSS,i;if(e.length)return e.is("."+r.wijdropdownOptgroup)?e.find(">ul>li."+r.wijdropdownItem).length?i=e.find(">ul>li."+r.wijdropdownItem+":"+n).eq(0):i=this._getNextItem(e[t]().eq(0)):i=e,i.attr("disabled")==="disabled"?i[t]().length?this._getNextItem(i[t](),t):(n||(n=t=="next"?"first":"last"),this._getNextItem(i.closest("."+r.wijdropdownOptgroup)[t](),t,n)):i},r.prototype.destroy=function(){var e=this,n=e.options.wijCSS;this.element.attr("title",this._container.attr("title")),this.element.closest("."+n.wijdropdown).find(">div."+n.wijdropdownTrigger+",>div."+n.wijmodropdown+",>a").remove(),this._listContainer.remove(),this.element.unwrap().unwrap().removeData("maxZIndex"),t.prototype.destroy.call(this)},r}(e.wijmoWidget);t.wijdropdown=i;var s=function(){function e(){this.initSelector=":jqmData(role='wijdropdown')",this.wijCSS={wijmodropdown:"wijmo-dropdown",wijdropdown:"wijmo-wijdropdown",wijdropdownLabel:"wijmo-dropdown-label",wijdropdownTrigger:"wijmo-dropdown-trigger",wijdropdownList:"wijmo-dropdown-list",wijdropdownOptgroup:"wijmo-dropdown-optgroup",wijdropdownOptgroupHeader:"wijmo-optgroup-header",wijdropdownItems:"wijmo-dropdown-items",wijdropdownItem:"wijmo-dropdown-item"},this.zIndex=1e3,this.showingAnimation={effect:"blind"},this.hidingAnimation={effect:"blind"},this.ensureDropDownOnBody=!1}return e}();i.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new s),n.wijmo.registerWidget(r,i.prototype)})(e.dropdown||(e.dropdown={}));var t=e.dropdown})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijcheckbox",i="wijcheckbox",s=0,o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._init=function(){var e=this,t=e.element,r=e.options,o,u,a,f,l;t.is(":checkbox")&&(t.attr("id")||(t.attr("id",i+s),s+=1),t.parent().is("label")?(o=t.parent().wrap(n("<div></div>").addClass(r.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(r.wijCSS.wijcheckbox).addClass(r.wijCSS.widget),u=t.parent(),u.attr("for",t.attr("id")),o.find("."+r.wijCSS.wijcheckboxInputwrapper).append(t),o.append(u)):o=t.wrap(n("<div></div>").addClass(r.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(r.wijCSS.wijcheckbox).addClass(r.wijCSS.widget),a=n("label[for='"+t.attr("id")+"']"),a.length>0&&(o.append(a),a.attr("labelsign","C1")),t.is(":disabled")&&e._setOption("disabled",!0),f=n("<div></div>").addClass(r.wijCSS.wijcheckboxBox).addClass(r.wijCSS.widget).addClass(r.wijCSS.stateDefault).addClass(r.wijCSS.cornerAll).append(n("<span></span>").addClass(r.wijCSS.wijcheckboxIcon)),r.disabled&&f.addClass(r.wijCSS.stateDisabled),l=f.children("."+r.wijCSS.wijcheckboxIcon),o.append(f),t.data("iconElement",l),t.data("boxElement",f),t.data("checkboxElement",o),f.removeClass(r.wijCSS.wijcheckboxRelative).attr("role","checkbox").bind("mouseover",function(){t.mouseover(null)}).bind("mouseout",function(){t.mouseout(null)}),(a.length===0||a.html()==="")&&f.addClass(r.wijCSS.wijcheckboxRelative),t.bind("click.checkbox",function(t){if(r.disabled)return;e.refresh(t),e._trigger("changed",null,{checked:e.options.checked})}).bind("focus.checkbox",function(){if(r.disabled)return;f.addClass(r.wijCSS.stateFocus)}).bind("blur.checkbox",function(){if(r.disabled)return;f.removeClass(r.wijCSS.stateFocus).not("."+r.wijCSS.stateHover)}).bind("keydown.checkbox",function(t){if(t.keyCode===32){if(r.disabled)return;e.refresh(null)}}),f.bind("click.checkbox",function(n){if(r.disabled)return;t.get(0).checked=!t.get(0).checked,t.change(),t.focus(),e.refresh(n),e._trigger("changed",null,{checked:e.options.checked})}),e._initCheckState(),e.refresh(null),o.bind("mouseover.checkbox",function(e){if(r.disabled)return;f.addClass(r.wijCSS.stateHover)}).bind("mouseout.checkbox",function(e){if(r.disabled)return;f.removeClass(r.wijCSS.stateHover).not("."+r.wijCSS.stateFocus)}),o.attr("title",t.attr("title")))},t.prototype._create=function(){window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n))},t.prototype._setOption=function(t,n){var r=this,i=r.options,s,o=i.checked;e.prototype._setOption.call(this,t,n),t==="checked"?(r.element.get(0).checked=n,r.refresh(null),o!==n&&r._trigger("changed",null,{checked:n})):t==="disabled"&&(s=r.element.data("boxElement"),r.element.prop("disabled",n),s&&s.toggleClass(i.wijCSS.stateDisabled,n))},t.prototype._initCheckState=function(){var e=this,t=e.options;t.checked!==undefined&&t.checked!==null&&(e.element.get(0).checked=t.checked)},t.prototype.refresh=function(e){var t=this,n=t.options;n.checked=t.element.get(0).checked,t.element.data("iconElement").toggleClass(n.wijCSS.icon+" "+n.wijCSS.iconCheck,t.element.get(0).checked),t.element.data("boxElement").toggleClass(n.wijCSS.stateActive,t.element.get(0).checked).attr("aria-checked",t.element.get(0).checked),t.element.data("checkboxElement").toggleClass(n.wijCSS.stateChecked,t.element.get(0).checked),e&&e.stopPropagation()},t.prototype.destroy=function(){var t=this,n=t.element.parent().parent();n.children("div."+t.options.wijCSS.wijcheckboxBox).remove(),t.element.unwrap(),t.element.unwrap(),e.prototype.destroy.call(this)},t}(e.wijmoWidget);t.wijcheckbox=o;var u=function(){function e(){this.initSelector=":jqmData(role='wijcheckbox')",this.wijCSS={wijcheckbox:"wijmo-checkbox",wijcheckboxBox:"wijmo-checkbox-box",wijcheckboxIcon:"wijmo-checkbox-icon",wijcheckboxInputwrapper:"wijmo-checkbox-inputwrapper",wijcheckboxRelative:"wijmo-checkbox-relative"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-b",stateDefault:"ui-btn ui-btn-b",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-b"},this.checked=null,this.changed=null}return e}();o.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new u),n.wijmo.registerWidget(r,o.prototype)})(e.checkbox||(e.checkbox={}));var t=e.checkbox})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijradio",i="wijmo-wijradio",s=0,o=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){var e=this,t=e.element,r=e.options.wijCSS,o,u,a,f,l,c;window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n)),t.is(":radio")&&(t.attr("id")||(t.attr("id",i+s),s+=1),t.parent().is("label")?(u=t.parent().wrap(n("<div></div>").addClass(r.wijradioInputwrapper)).parent().wrap("<div></div>").parent().addClass(r.wijradio).addClass(r.widget),a=t.parent(),a.attr("for",t.attr("id")),u.find("."+r.wijradioInputwrapper).append(t),u.append(a)):u=t.wrap(n("<div></div>").addClass(r.wijradioInputwrapper)).parent().wrap("<div></div>").parent().addClass(r.wijradio).addClass(r.widget),f=n("label[for='"+t.attr("id")+"']"),f.length>0&&(u.append(f),f.attr("labelsign","wij")),t.is(":disabled")&&e._setOption("disabled",!0),l=n("<div></div>").addClass(r.wijradioBox).addClass(r.widget).addClass(r.stateDefault).addClass(r.cornerAll).append(n("<span></span>").addClass(r.wijradioIcon)),e.options.disabled&&l.addClass(r.stateDisabled),c=l.children("."+r.wijradioIcon),u.append(l),c.addClass(r.icon).addClass(r.iconRadioOn),t.data("iconElement",c),t.data("boxElement",l),t.data("radiobuttonElement",u),l.removeClass(r.wijradioRelative).attr("role","radio").bind("mouseover",function(){t.mouseover(null)}).bind("mouseout",function(){t.mouseout(null)}),(f.length===0||f.html()==="")&&l.addClass(r.wijradioRelative),e._setDefaul(),t.bind("click.radio",function(){if(e.options.disabled)return;o=e.options.checked,e._refresh(),o!==e.element.is(":checked")&&e._trigger("changed",null,{checked:e.options.checked})}).bind("focus.radio",function(){if(e.options.disabled)return;l.addClass(r.stateFocus)}).bind("blur.radio",function(){if(e.options.disabled)return;l.removeClass(r.stateFocus)}),u.click(function(){if(e.options.disabled)return;if(f.length===0||f.html()==="")o=e.options.checked,t.prop("checked",!0),e._refresh(),t.change(),o!==e.element.is(":checked")&&e._trigger("changed",null,{checked:e.options.checked})}),u.bind("mouseover.radio",function(){if(e.options.disabled)return;l.addClass(r.stateHover)}).bind("mouseout.radio",function(){if(e.options.disabled)return;l.removeClass(r.stateHover)}),u.attr("title",t.attr("title")))},t.prototype._setOption=function(t,n){var r=this,i=r.options.checked;e.prototype._setOption.call(this,t,n),t==="checked"&&(r.element.prop("checked",n),r._refresh(),i!==n&&r._trigger("changed",null,{checked:n}))},t.prototype._setDefaul=function(){var e=this,t=e.options;t.checked!==undefined&&t.checked!==null&&this.element.prop("checked",t.checked),this.element.prop("checked")&&(this.element.parents("."+t.wijCSS.wijradio).find("."+t.wijCSS.wijradioBox).children().removeClass(t.wijCSS.iconRadioOn).addClass(t.wijCSS.iconRadioOff),this.element.data("boxElement").addClass(t.wijCSS.stateActive).attr("aria-checked",!0),this.element.data("radiobuttonElement").addClass(t.wijCSS.stateChecked))},t.prototype._refresh=function(){var e=this.element.attr("name")||"",t=this,r=t.options.wijCSS,i;if(e==="")return;n("[name='"+e+"']").each(function(e,s){return n(s).parents("."+r.wijradio).find("."+r.wijradioBox).children().removeClass(r.iconRadioOff).addClass(r.iconRadioOn),n(s).parents("."+r.wijradio).find("."+r.wijradioBox).removeClass(r.stateActive).attr("aria-checked",!1),n(s).parents("."+r.wijradio).removeClass(r.stateChecked),i=n(s).parents("."+r.wijradio).find(":radio"),i.wijradio("option","checked")&&i[0]!==t.element[0]&&i.wijradio("setCheckedOption",!1),this}),t.element.is(":checked")&&(t.element.data("iconElement").removeClass(r.iconRadioOn).addClass(r.iconRadioOff),t.element.data("boxElement").addClass(r.stateActive).attr("aria-checked",!0),t.element.data("radiobuttonElement").addClass(r.stateChecked)),t.options.checked=t.element.is(":checked")},t.prototype.setCheckedOption=function(e){var t=this,n=t.options;n.checked!==null&&n.checked!==e&&(n.checked=e,t._trigger("changed",null,{checked:e}))},t.prototype.refresh=function(){this._refresh()},t.prototype.destroy=function(){var t=this,n=t.element.parent().parent();n.children("div."+t.options.wijCSS.wijradioBox).remove(),t.element.unwrap(),t.element.unwrap(),e.prototype.destroy.call(this)},t}(e.wijmoWidget);t.wijradio=o;var u=function(){function e(){this.initSelector=":jqmData(role='wijradio')",this.wijCSS={wijradio:"wijmo-wijradio",wijradioBox:"wijmo-wijradio-box",wijradioIcon:"wijmo-wijradio-icon",wijradioInputwrapper:"wijmo-wijradio-inputwrapper",wijradioRelative:"wijmo-wijradio-relative"},this.checked=null,this.changed=null}return e}();o.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new u),n.wijmo.registerWidget(r,o.prototype)})(e.radio||(e.radio={}));var t=e.radio})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijlist",i="wijmo-wijlist-item",s=i+"-alternate",o=i+"-selected",u=i+"-first",a=i+"-last",f="wijmo-wijlistitem-active",l="item.wijlist",c=function(t){function r(){t.apply(this,arguments)}return __extends(r,t),r.prototype.removeAll=function(){var e=this;e.items=[],e._refresh()},r.prototype.addItem=function(e,t){var n=this;n._checkData(),t===null||t===undefined?n.items.push(e):n.items&&n.items.splice(t,0,e),n._refresh(),n._trigger("added",null,{item:e,index:t})},r.prototype.removeItem=function(e){var t=this,n;t._checkData(),n=t.indexOf(e),n>=0&&t.removeItemAt(n)},r.prototype.indexOf=function(e){var t=this,n=-1,r=0,i;t._checkData();for(r=0;r<t.items.length;r++){i=t.items[r];if(i.label===e.label&&i.value===e.value){n=r;break}}return n},r.prototype.findIndexByLabel=function(e){var t=this,n=-1,r=0,i;if(e===null||e===undefined)return n;t._checkData();for(r=0;r<t.items.length;r++){i=t.items[r];if(i.label===e){n=r;break}}return n},r.prototype.removeItemAt=function(e){var t=this;t._checkData(),t.items.splice(e,1),t._refresh()},r.prototype._checkData=function(){var e=this;e.items||(e.items=[])},r.prototype._refresh=function(){var e=this;e.renderList(),e.refreshSuperPanel()},r.prototype._setOption=function(e,r){var i=this,s=this.options,u=o+" "+s.wijCSS.stateActive,a,f,l,c;t.prototype._setOption.call(this,e,r);if(e==="disabled")i._handleDisabledOption(r,i.element);else if(e==="selectionMode")c=i.selectedItem,c&&(c.selected=!1,c.element&&c.element.removeClass(u),i.selectedItem=undefined),i.selectedItems&&n.each(i.selectedItems,function(e,t){t.selected=!1,t.element.removeClass(u)}),i.selectedItems=[],r==="single"?s.selectedIndex=-1:s.selectedIndex=[];else if(e==="selectedIndex")i._initInvalidateSelectIndex(),i._setSelectedIndex();else if(e==="listItems")f=i._isBind(),f?(l=i._getRenderItems(),i.setItems(l)):i.setItems(r),i.renderList(),i.refreshSuperPanel();else if(e==="dataSource")f=i._isBind(),f&&(l=i._getRenderItems(),i.setItems(l),i.renderList(),i.refreshSuperPanel());else if(e==="autoSize"||e==="maxItemsCount")!s.autoSize&&i.element.is(":visible")&&(i._oriHeight!==0?i.element.height(i._oriHeight):(a=i.ul.outerHeight(),i.element.height(a),n(".wijmo-wijsuperpanel-statecontainer",i.element).height(a),n(".wijmo-wijsuperpanel-contentwrapper",i.element).height(a))),i.refreshSuperPanel()},r.prototype._initInvalidateSelectIndex=function(){var e=this.options,t=e.selectedIndex,r=this.items,i=[];e.selectionMode==="single"?(n.isArray(t)&&t.length&&(t=t[0]),r[t]||(t=-1)):(n.isArray(t)||(t=[t]),n.each(t,function(e,t){r[t]&&i.push(t)}),t=i),e.selectedIndex=t},r.prototype._setSelectedIndex=function(){var e=this.options,t=e.selectedIndex,r=this.items,i=this.selectedItem,s=this.selectedItems,o=e.selectionMode,u=-1,a=!0,f=!0;o==="single"?(i&&(u=n.inArray(i,r)),u===-1&&(a=!1),t===-1&&(f=!1)):(s&&s.length&&(u=[],n.each(s,function(e,t){u.push(n.inArray(t,r))})),u.length===0&&(a=!1),t.length===0&&(f=!1)),a&&this.unselectItems(u),f&&this.selectItems(t,!1,!0)},r.prototype._create=function(){var e=this,t=this.element,r=this.options,i=r.wijCSS,s=i.widget+" "+i.content+" "+i.cornerAll+" wijmo-wijlist",o;window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n)),e._oriHeight=parseInt(t.css("height"),10),t.addClass(s).attr({role:"listbox","aria-activedescendant":f,"aria-multiselectable":r.selectionMode==="multiple"}).bind("click."+e.widgetName,e,e._onListClick).bind("mousedown."+e.widgetName,e,e._onListMouseDown),t.is("div")&&t.children().is("ul")&&(e._isInnerData=!0,e._templates=[],n.each(n("ul > li",t),function(t,n){e._templates.push({templateHtml:n.innerHTML})}),e._oriChildren=t.children().hide()),e.ul=n("<ul class='"+i.listul+"'></ul>").appendTo(t),r.listItems!==null&&(o=e._getRenderItems(),o&&(e.setItems(o),e.renderList(),e.refreshSuperPanel())),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refreshSuperPanel(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijlist"),r.disabled&&(e.disable(),e._handleDisabledOption(!0,e.element))},r.prototype._isBind=function(){var e=this.options,t=e.listItems;return t!==null&&t.label&&t.label.bind?!0:!1},r.prototype._getRenderItems=function(){var e=this.options,t=e.listItems;return t!==null?n.isArray(t)&&t.length>0&&typeof t[0].label=="string"?t:t.label&&t.label.bind?this._getMappingItems():null:null},r.prototype._getMappingItems=function(){var e=this.options,t=e.dataSource,r=e.listItems,i,s,o;return!t||!r?null:!r.label||!r.label.bind||!r.value||!r.value.bind?null:(s=r.label.bind,o=r.value.bind,t&&t.length!==0?(i=[],n.each(t,function(e,t){i.push({label:t[s],value:t[o]})}),i):null)},r.prototype._handleDisabledOption=function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},r.prototype._createDisabledDiv=function(e){var t=this,r=e||t.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight();return n("<div></div>").addClass(t.options.wijCSS.stateDisabled).css({"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top,"pointer-events":"auto"})},r.prototype.setTemplateItems=function(e){this._setItemsByExtend(e,!0)},r.prototype.setItems=function(e){this._setItemsByExtend(e,!1)},r.prototype._setItemsByExtend=function(t,r){var i=this,s,o=[];n.each(t,function(e,t){o[e]=n.extend(!0,{label:"",value:""},t)});if(r){if(i._templates&&o&&o.length!==i._templates.length)return;i.items=o,i.items||(i.items=[]),n.each(i._templates,function(t){i.items[t]?i.items[t].templateEncoded||(i.items[t].templateHtml=e.htmlEncode(i._templates[t].templateHtml),i.items[t].templateEncoded=!0):i.items.push({templateHtml:e.htmlEncode(i._templates[t].templateHtml),templateEncoded:!0,label:o[t].label,value:o[t].value})})}else i.items=o;if(!o)return null;i._initSelectedIndex(),s=n.grep(o,function(e){return e.selected},undefined),i.options.selectionMode==="single"?(i.selectedItems=[],i.selectedItem=s.length>0?s[0]:undefined):i.selectedItems=s},r.prototype._initSelectedIndex=function(){function s(e){n.each(e,function(e,t){t.selected&&(t.selected=!1)})}var e=this.items,t=this.options,r=t.selectionMode,i;this._initInvalidateSelectIndex(),i=t.selectedIndex,r==="single"?i!==-1&&(s(e),e[i].selected=!0):i.length>0&&(s(e),n.each(i,function(t,n){e[n].selected=!0}))},r.prototype.filterItems=function(t,r,s,u){var a=this,f=a._escapeRegex(t),l,c=o+" "+a.options.wijCSS.stateActive,h=a.options.wijCSS.priorityPrimary,p="highlight-filter",d,v="",m=!1,g=null;if(!this.items)return null;n("li[wijhidden]."+i,a.element)&&n("li[wijhidden]."+i,a.element).length>0&&(m=!0),n("span."+p,a.element)&&n("span."+p,a.element).length>0&&(m=!0);if(!m&&(!t||t.length===0)){n.each(this.items,function(e,t){t.selected?(a.activate(null,t,!1),t.element&&t.element.addClass(c),a.selectedItem=t):t.element&&t.element.hasAllClasses(c)&&t.element.removeClass(c)});return}return l=new RegExp(f,"i"),n.each(this.items,function(t,i){d=i.label,i.templateHtml?i.templateEncoded?d=e.htmlDecode(i.templateHtml):d=i.templateHtml:i.text!==undefined&&(d=i.text),n("span."+p,i.element).length>0&&i.element.empty().append(d);var o=l.exec(i.label);o===null&&r?i.element&&(i.element.hide(),i.element.attr("wijhidden","wijhidden")):(i.selected?(a.activate(null,i,!1),i.element&&i.element.addClass(c),a.selectedItem=i):i.element&&i.element.hasAllClasses(c)&&i.element.removeClass(c),s&&(v=d.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+f+")(?![^<>]*>)(?![^&;]+;)","gi"),"<span class='"+h+" "+p+"'>$1</span>"),i.element&&i.element.html(v)),i.element&&!i.element.is(":visible")&&(i.element.show(),i.element.removeAttr("wijhidden")),f!==undefined&&f.length!==0&&g===null&&o&&o.index===0&&(g=i))}),g},r.prototype.popItem=function(){var e=this;e._checkData(),e.items.pop(),e._refresh()},r.prototype.getList=function(){return this.ul},r.prototype.getSelectedItems=function(){return this.options.selectionMode==="single"?this.selectedItem||null:this.selectedItems},r.prototype._onListClick=function(e){var t=e.data;if(t.options.disabled)return;if(!n(e.target).closest("."+i).length)return;t.select(e)},r.prototype._onListMouseDown=function(e){var t=e.data,r;if(t.options.disabled)return;if(!n(e.target).closest("."+i).length)return;t.active&&t.active.element&&(r=t.active.element.data(l)),t._trigger("mouseDown",e,{item:r})},r.prototype.destroy=function(){var e=this,n=this.element,r=this.options,i=r.wijCSS,s=i.widget+" "+i.content+" "+i.cornerAll+" wijmo-wijlist";e.superPanel!==undefined&&e.superPanel.destroy(),n.removeClass("wijmo-wijobserver-visibility").removeClass(s).removeAttr("role").removeAttr("aria-activedescendant").unbind("."+e.widgetName),e.ul.remove(),e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),e._isInnerData&&e._oriChildren.show(),t.prototype.destroy.call(this)},r.prototype.activate=function(e,t,n){var r=this,i,s;r.deactivate();if(t===null||t===undefined)return;if(r._trigger("focusing",e,t)===!1)return;i=r.active=t,s=i&&i.element,s&&(r.options.addHoverItemClass&&s.addClass(r.options.wijCSS.stateHover),s.attr("id",f)),n&&r.superPanel!==undefined&&r.superPanel.scrollChildIntoView(s),r.element.is(":visible")&&r._trigger("focus",e,t)},r.prototype.deactivate=function(){var e=this,t=e.active,n;if(!t)return;n=t.element,e._trigger("blur",null,t),n&&n.removeClass(e.options.wijCSS.stateHover).removeAttr("id"),e.active=undefined},r.prototype.next=function(e){this.move("next","."+i+":first",e)},r.prototype.nextPage=function(){this.superPanel.doScrolling("bottom",!0)},r.prototype.previous=function(e){this.move("prev","."+i+":last",e)},r.prototype.previousPage=function(){this.superPanel.doScrolling("top",!0)},r.prototype.first=function(){return this.active&&this.active.element.is(":visible")&&!this.active.element.prevAll(":visible").length},r.prototype.last=function(){return this.active&&this.active.element.is(":visible")&&!this.active.element.nextAll(":visible").length},r.prototype.move=function(e,t,n){var r=this,s,o;if(!r.active||!r.active.element.is(":visible")){s=r.ul.children(":visible"+t).data(l),r.activate(n,s,!0);return}o=r.active.element[e+"All"](":visible."+i).eq(0),o.length?r.activate(n,o.data(l),!0):r.activate(n,r.element.children(t).data(l),!0)},r.prototype.select=function(e,t){var r=this,s,u,a=r.options,f=o+" "+r.options.wijCSS.stateActive,c,h,p;if(!r.active){r.active=n(n(e.target).closest("."+i)).data(l);if(!r.active)return}s=r.active.element;if(s===undefined||s.attr("wijhidden"))return;c=s.data(l);if(!c)return;h=r.options.selectionMode==="single",h?(p=r.selectedItem,s.addClass(f).attr("aria-selected","true"),c.selected=!0,p!==undefined&&c!==p&&(p.selected=!1,p.element&&p.element.removeClass(f).removeAttr("aria-selected")),r.selectedItem=c,u=n.inArray(c,r.items),r._trigger("selected",e,{item:c,previousItem:p,selectedIndex:u,data:t})):(c.selected=!c.selected,c.selected?s.addClass(f).attr("aria-selected","true"):s.removeClass(f).removeClass("wijmo-wijcombobox-selecteditem").removeAttr("aria-selected","true"),u=[],r.selectedItems=n.grep(r.items,function(e,t){return e.selected&&u.push(t),e.selected===!0},undefined),r._trigger("selected",e,{selectedIndex:u,item:c,selectedItems:r.selectedItems}))},r.prototype._findItemsByValues=function(e){var t,r=[];return r=n.grep(this.items,function(n,r){t=!1;for(var i=0;i<e.length;i++)n.value===e[i]&&(t=!0);return t},undefined),r},r.prototype._findItemsByIndices=function(e){var t=this,r=this.items.length,i=[];return n.each(e,function(e,n){n>=0&&n<r&&i.push(t.items[n])}),i},r.prototype.getItems=function(e,t){var r=this,i,s,o,u;s=n.isArray(e),i=!s&&typeof e=="number"||s&&typeof e[0]=="number",o=s?e:[e];if(!t)u=r._findItemsByValues(o);else{if(!i)return[];u=r._findItemsByIndices(o)}return u},r.prototype.selectItems=function(e,t,r){var i=this,s=this.options.selectionMode==="single",u=o+" "+i.options.wijCSS.stateActive,a,f,l;l=i.getItems(e,r),s?(l.length>0&&(a=l[0],a.selected=!0,a.element.addClass(u)),f=i.selectedItem,f&&(f.selected=!1,f.element.removeClass(u)),i.selectedItem=a,t&&i._trigger("selected",null,{item:a,previousItem:f})):(n.each(l,function(e,t){t.selected=!0,t.element.addClass(u)}),i.selectedItems=n.grep(i.items,function(e){return e.selected},undefined),t&&i._trigger("selected",null,{selectedItems:i.selectedItems}))},r.prototype.unselectItems=function(e){var t=this,r=this.options.selectionMode,i=o+" "+t.options.wijCSS.stateActive,s,u;if(r==="single")s=t.selectedItem,s&&(s.selected=!1,s.element.removeClass(i).removeClass("wijmo-wijcombobox-selecteditem"),t.selectedItem=undefined);else{u=t.getItems(e,!0);if(!u||u.length===0)return;n.each(u,function(e,t){t.selected=!1,t.element.removeClass(i).removeClass("wijmo-wijcombobox-selecteditem")}),t.selectedItems=n.grep(t.items,function(e){return e.selected},undefined)}},r.prototype.renderList=function(){var e=this,t=this.ul,n=this.options,r,i,s,o,f;t.empty(),r=e.items;if(r===undefined||r===null)return;i=r.length;if(i===0)return;s=n.selectionMode==="single";for(o=0;o<i;o++)f=r[o],e._renderItem(t,f,o,s);i>0&&(r[0].element&&r[0].element.addClass(u),r[i-1].element&&r[i-1].element.addClass(a)),e._trigger("listRendered",null,e)},r.prototype._renderItem=function(t,r,i,u){var a=this,f=n("<li role='option' class='"+a.options.wijCSS.listItem+" "+a.options.wijCSS.cornerAll+"'></li>"),c=o+" "+a.options.wijCSS.stateActive,h,p;r.element=f,r.list=a;if(a._trigger("itemRendering",null,r)===!1)return;return h=r.label,r.title&&f.attr("title",r.title),r.templateHtml?r.templateEncoded?h=e.htmlDecode(r.templateHtml):h=r.templateHtml:r.text!==undefined&&(h=r.text),f.bind("mouseover",function(e){if(a.options.disabled)return;a.activate(e,r,!1)}).bind("mouseout",function(){if(a.options.disabled)return;a.options.keepHightlightOnMouseLeave||a.deactivate()}).data(l,r),r.templateHtml?f.append(h):f.text(h),f.appendTo(t),a._isInnerData||(p=r.imageUrl,p!==undefined&&p.length>0&&f.prepend("<img src='"+r.imageUrl+"'>")),r.selected&&(a.activate(null,r,!1),f.addClass(c)),i%2===1&&f.addClass(s),a._trigger("itemRendered",null,r),f},r.prototype._escapeRegex=function(e){return e===undefined?e:e.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")},r.prototype.adjustOptions=function(){var e=this.options,t;if(e.data!==null)for(t=0;t<e.listItems.length;t++)delete e.listItems[t].element,delete e.listItems[t].list;return e},r.prototype.refreshSuperPanel=function(){var e=this,t=this.element,r=this.options,s=this.ul,o=s.children("."+i+":first"),u,a,f,l=t.find(".wijmo-wijsuperpanel-header"),c=t.find(".wijmo-wijsuperpanel-footer"),h=null,p,d,v,m,g,y,b,w,E=e.superPanel||t.data("wijmo-wijsuperpanel");if(!t.is(":visible"))return!1;a=s.outerHeight(),f=t.innerWidth(),r.autoSize&&(h=o.outerHeight(!0)*r.maxItemsCount),h!==null&&t.height(Math.min(h,a));if(!(e.items&&e.items.length>0)&&!E)return;p=t.innerHeight(),l.length&&(p-=l.height()),c.length&&(p-=c.height()),v=a-p,d=p/v,y=101*d/(1+d),m=o.outerHeight()/v*(101-y),e.superPanel===undefined?(b={allowResize:!1,keyboardSupport:!1,bubbleScrollingEvent:!0,hScroller:{scrollBarVisibility:"hidden"},vScroller:{scrollSmallChange:m,scrollLargeChange:y}},n.extend(b,r.superPanelOptions),e.superPanel=t.wijsuperpanel(b).data("wijmo-wijsuperpanel"),e.superPanel&&e.superPanel.vNeedScrollBar&&(s.setOutWidth(f-18),e.superPanel.refresh())):(g=e.superPanel.options.vScroller,g.scrollLargeChange=y,g.scrollSmallChange=m,e.superPanel.paintPanel(),e.superPanel.vNeedScrollBar||n.support.isTouchEnabled&&n.support.isTouchEnabled()?(s.setOutWidth(f-18),e.superPanel.refresh()):(s.setOutWidth(t.outerWidth()),u=t.children(".wijmo-wijsuperpanel-header").outerHeight(),u!==null&&u!==undefined&&t.height(a+u),e.superPanel.refresh())),w=s.css("padding-top"),w.length>0?(g=e.superPanel.options.vScroller,g.firstStepChangeFix=e.superPanel.scrollPxToValue(parseFloat(w),"v")):g.firstStepChangeFix=0,s.setOutWidth(s.parent().parent().innerWidth()),r.disabled&&e.disabledDiv&&e.disabledDiv.css("left",t.offset().left).css("top",t.offset().top).css("width",t.outerWidth()).css("height",t.outerHeight())},r}(e.wijmoWidget);t.wijlist=c;var h=function(){function e(){this.wijCSS={listul:"wijmo-wijlist-ul",listItem:"wijmo-wijlist-item"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-b",stateDefault:"ui-btn ui-btn-b",stateHover:"ui-btn-up-b",stateActive:"ui-btn-down-b"},this.initSelector=":jqmData(role='wijlist')",this.dataSource=null,this.listItems=[],this.selected=null,this.selectionMode="single",this.selectedIndex=-1,this.autoSize=!1,this.maxItemsCount=5,this.addHoverItemClass=!0,this.superPanelOptions=null,this.disabled=!1,this.focusing=null,this.focus=null,this.blur=null,this.itemRendering=null,this.itemRendered=null,this.listRendered=null,this.added=null,this.keepHightlightOnMouseLeave=!1}return e}();c.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new h),n.wijmo.registerWidget("wijlist",c.prototype)})(e.list||(e.list={}));var t=e.list})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijcalendar",i={general:0,weekEnd:1,otherMonth:2,outOfRange:4,today:8,custom:16,disabled:32,selected:64,gap:128},s=function(e){function t(){e.apply(this,arguments),this._touchRangeSelect=!1}return __extends(t,e),t.prototype._create=function(){var e=this,t=e.options.wijCSS;e._originalStyle=e.element.attr("style"),window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n)),n.isFunction(window.wijmoASPNetParseOptions)&&wijmoASPNetParseOptions(this.options),this.element.addClass("wijmo-wijcalendar  "+t.datepickerInline+" "+t.datepicker+" "+t.widget+" "+t.content+" "+t.helperClearFix+" "+t.cornerAll).attr("role","grid"),this._previewWrapper(this.options.allowPreview),this.element.data("preview.wijcalendar",!1),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijcalendar")},t.prototype._init=function(){if(this.options.popupMode){var e={autoHide:!!this.options.autoHide,showing:undefined,shown:undefined,hiding:undefined,hidden:undefined},t=this;this.options.beforePopup&&(e.showing=this.options.beforePopup),this.options.afterPopup&&(e.shown=this.options.afterPopup),this.options.beforeClose&&(e.hiding=this.options.beforeClose),e.hidden=function(e){t.element.removeData("lastdate.wijcalendar"),t.options.afterClose&&t.options.afterClose.call(e)},this.element.wijpopup(e)}else this.element.removeAttr("style"),this._originalStyle&&this.element.attr("style",this._originalStyle);this._getSelectedDates(),this._getDisabledDates(),this._resetWidth(),this.refresh()},t.prototype.destroy=function(){var t=this.options.wijCSS;e.prototype.destroy.call(this),this.close(),this._unbindEvents(),this.element.html(""),this.element.removeClass("wijmo-wijcalendar "+t.datepickerInline+" "+t.datepicker+" "+t.widget+" "+t.content+" "+t.helperClearFix+" "+t.cornerAll+" "+t.datepickerMulti).removeAttr("role");var r=this;n.each(["preview","disableddates","selecteddates","dragging","lastdate","animating"],function(e,t){r.element.removeData(t+".wijcalendar")}),this._previewWrapper(!1)},t.prototype._setOption=function(t,n){if(t==="disabled"&&n===this.options.disabled)return;e.prototype._setOption.call(this,t,n);switch(t){case"showWeekDays":case"showWeekNumbers":case"showTitle":case"showOtherMonthDays":case"selectionMode":this.unSelectAll(),this._resetWidth(),this.refresh();break;case"culture":this.refresh();break;case"allowPreview":this._previewWrapper(n),this.refresh();break;case"monthCols":this._resetWidth(),this.refresh();break;case"monthRows":this._myGrid&&(this._myGrid=undefined);break;case"autoHide":this.element.wijpopup({autoHide:this.options.autoHide});break;case"selectedDates":this._getSelectedDates().setDates(n),this.refresh();break;case"disabledDates":this._getDisabledDates().setDates(n),this.refresh();break;case"displayDate":this.refresh();break;case"allowQuickPick":this.refresh();break;case"disabled":n?this._unbindEvents():this.refresh()}},t.prototype._previewWrapper=function(e){e?this.element.parent().hasClass("wijmo-wijcalendar-preview-wrapper")||this.element.wrap("<div class='wijmo-wijcalendar-preview-wrapper "+this.options.wijCSS.helperClearFix+"'></div>"):this.element.parent().hasClass("wijmo-wijcalendar-preview-wrapper")&&this.element.unwrap()},t.prototype._isRTL=function(){return!!this._getCulture(null).isRTL},t.prototype.refresh=function(){this._myGrid&&(this._myGrid=undefined),this.element.empty().append(this._createCalendar()),this.element[(this._isRTL()?"add":"remove")+"Class"](this.options.wijCSS.datepickerRtl),this.options.showTitle?this.element.removeClass("wijmo-wijcalendar-notitle"):this.element.addClass("wijmo-wijcalendar-notitle"),this._bindEvents()},t.prototype.refreshDate=function(e){if(!this._monthViews)return;if(e<this._groupStartDate||e>this._groupEndDate)return;n.each(this._monthViews,function(){this._refreshDate(e)})},t.prototype.getDisplayDate=function(){var e=this.options.displayDate?this.options.displayDate:new Date;return a.isSameDate(e,new Date(1900,0,1))&&(e=new Date),e},t.prototype.getSelectedDate=function(){var e=this.options.selectedDates;return!e||e.length===0?null:e[0]},t.prototype.selectDate=function(e){return e=new Date(e),this._getDisabledDates().contains(e)?!1:e<this.options.minDate||e>this.options.maxDate?!1:(this._getSelectedDates().add(e),this.refreshDate(e),!0)},t.prototype.unSelectDate=function(e){return e=new Date(e),this._getDisabledDates().contains(e)?!1:e<this.options.minDate||e>this.options.maxDate?!1:(this._getSelectedDates().remove(e),this.refreshDate(e),!0)},t.prototype.unSelectAll=function(){var e=this.options.selectedDates,t;if(e&&e.length>0){this._getSelectedDates().clear();for(t=0;t<e.length;t++)this.refreshDate(e[t])}},t.prototype._slideToDate=function(e){if(a.isSameMonth(this.getDisplayDate(),e))return;var t=this.element.is(":visible");if(!t)this.options.displayDate=e;else{if(this._trigger("beforeSlide")===!1)return;this._isSingleMonth()?this._playSlideAnimation(e):this._playMmSlideAnimation(e)}},t.prototype.isPopupShowing=function(){return this.options.popupMode?this.element.wijpopup("isVisible"):!1},t.prototype.popup=function(e){this._myGrid=undefined,this.refresh(),this.element.data("dragging.wijcalendar",!1),this.element.data("wijmo-wijpopup")&&this.element.wijpopup("show",e)},t.prototype.popupAt=function(e,t){this._myGrid=undefined,this.refresh(),this.element.data("dragging.wijcalendar",!1),this.element.data("wijmo-wijpopup")&&this.element.wijpopup("showAt",e,t)},t.prototype.close=function(){this.isPopupShowing()&&this.element.wijpopup("hide")},t.prototype._getCulture=function(e){return Globalize.findClosestCulture(e||this.options.culture)},t.prototype._getDates=function(e){var t=e.toLowerCase()+".wijcalendar",n=this.element.data(t);return n===undefined&&(n=new l(this,e),this.element.data(t,n)),n},t.prototype._getDisabledDates=function(){return this._getDates("disabledDates")},t.prototype._getSelectedDates=function(){return this._getDates("selectedDates")},t.prototype._onDayDragStart=function(e){return e.preventDefault(),e.stopPropagation(),!1},t.prototype._onDayMouseDown=function(e){e.preventDefault(),e.stopPropagation();var t=this.options,r=this,i,s,o=!1,u=t.selectedDates,a=!1,f=[];if(e.which!==1)return e.which===0&&this._onTouchstart(e),!1;if(n.browser.msie&&parseFloat(n.browser.version)>=10)if(e.originalEvent.pointerType){if(e.originalEvent.pointerType===2||e.originalEvent.pointerType==="touch")return this._onTouchstart(e),!1}else if(e.originalEvent.originalEvent&&e.originalEvent.originalEvent.pointerType)if(e.originalEvent.originalEvent.pointerType===2||e.originalEvent.originalEvent.pointerType==="touch")return this._onTouchstart(e),!1;return i=this._getCellDate(e.currentTarget),i===undefined?!1:t.selectionMode.day?(s={date:i},this._trigger("beforeSelect",null,s)===!1?!1:((!t.selectionMode.days||!e.metaKey&&!e.shiftKey&&!e.ctrlKey)&&this.unSelectAll(),!t.selectionMode.days||(e.shiftKey&&this.element.data("lastdate.wijcalendar")?(this._selectRange(this.element.data("lastdate.wijcalendar"),i,null),o=!0):e.ctrlKey&&(this.element.data("lastdate.wijcalendar",i),n.each(u,function(e,t){if(i.getFullYear()===t.getFullYear()&&i.getMonth()===t.getMonth()&&i.getDate()===t.getDate())return a=!0,!1}),a?this.unSelectDate(i):this.selectDate(i),u=t.selectedDates,n.each(u,function(e,t){f.push(new Date(t))}),this._trigger("selectedDatesChanged",null,{dates:f}),o=!0)),o||(this.element.data("lastdate.wijcalendar",i),o=this.selectDate(i),this._trigger("selectedDatesChanged",null,{dates:[i]})),o&&(this._trigger("afterSelect",null,s),!t.selectionMode.days||(this.element.data("dragging.wijcalendar",!0),n(document.body).one("mouseup."+this.widgetName,function(){r.element.data("dragging.wijcalendar",!1)}))),!1)):!1},t.prototype._onMouseUp=function(e){return e.preventDefault(),e.stopPropagation(),this.element.data("dragging.wijcalendar",!1),!1},t.prototype._onDayClicked=function(e){var t=this._getCellDate(e.currentTarget);return t===undefined?!1:this.options.selectionMode.day?(this.isPopupShowing()?this.close():n(e.currentTarget).hasAllClasses(this.options.wijCSS.datepickerOtherMonth)&&this._slideToDate(t),!1):!1},t.prototype._onDayMouseEnter=function(e){n(e.currentTarget).attr("state","hover"),this._refreshDayCell(e.currentTarget);if(!!this.element.data("dragging.wijcalendar")){var t=this._getCellDate(e.currentTarget);if(t===undefined)return;this.unSelectAll(),this._selectRange(this.element.data("lastdate.wijcalendar"),t,!0)}},t.prototype._onDayMouseLeave=function(e){n(e.currentTarget).attr("state","normal"),this._refreshDayCell(e.currentTarget)},t.prototype._onTouchstart=function(e){this._touchStartTime=new Date},t.prototype._onTouchend=function(e){e.preventDefault(),e.stopPropagation();var t=new Date,r=t-this._touchStartTime,i=this.options,s=this,o,u,a=i.selectedDates,f=!1,l=[];this.element.data("dragging.wijcalendar",!1);if(n.browser.msie){if(!(parseFloat(n.browser.version)>=10))return!1;if(e.originalEvent.pointerType){if(e.originalEvent.pointerType!==2&&e.originalEvent.pointerType!=="touch")return!1}else{if(!e.originalEvent.originalEvent.pointerType)return!1;if(e.originalEvent.originalEvent.pointerType!==2&&e.originalEvent.originalEvent.pointerType!=="touch")return!1}}else if(e.which!==0)return!1;return o=this._getCellDate(e.currentTarget),o===undefined?!1:i.selectionMode.day?(u={date:o},this._trigger("beforeSelect",null,u)===!1?!1:(n.each(a,function(e,t){if(o.getFullYear()===t.getFullYear()&&o.getMonth()===t.getMonth()&&o.getDate()===t.getDate())return f=!0,!1}),!this._touchRangeSelect&&r>=750?(this.element.data("lastdate.wijcalendar",o),f?!i.selectionMode.days||this.unSelectDate(o):(i.selectionMode.days?this._touchRangeSelect=!0:this.unSelectAll(),this.selectDate(o)),a=i.selectedDates,n.each(a,function(e,t){l.push(new Date(t))}),a.length>0&&this._trigger("selectedDatesChanged",null,{dates:l})):(i.selectionMode.days||(this.unSelectAll(),this._touchRangeSelect=!1),this._touchRangeSelect?(r>=750&&(!i.selectionMode.days||(this.element.data("lastdate.wijcalendar",o),f?(this.unSelectDate(o),this._touchRangeSelect=!1):this.selectDate(o),a=i.selectedDates,n.each(a,function(e,t){l.push(new Date(t))}),this._trigger("selectedDatesChanged",null,{dates:l}))),r<750&&this.element.data("lastdate.wijcalendar")&&(this._selectRange(this.element.data("lastdate.wijcalendar"),o,null),this._touchRangeSelect&&(this._touchRangeSelect=!1))):(this.unSelectAll(),this.element.data("lastdate.wijcalendar",o),this.selectDate(o),this._trigger("selectedDatesChanged",null,{dates:[o]}))),this._trigger("afterSelect",null,u),this._touchStartTime=null,!1)):!1},t.prototype._selectRange=function(e,t,n){if(e!==undefined&&e!==new Date(1900,1,1)){var r=e,i=t,s=[];e>t&&(i=e,r=t);for(;;){if(r>i)break;this.selectDate(r),s[s.length]=r,r=a.addDays(r,1)}n||this.element.removeData("lastdate.wijcalendar"),this._trigger("selectedDatesChanged",null,{dates:s})}else this.selectDate(e),this._trigger("selectedDatesChanged",null,{dates:[e]});return!0},t.prototype._getCellDate=function(e){var t=n(e).attr("date");return t===undefined?t:new Date(t)},t.prototype._getParentTable=function(e){var t=n(e).parents("table");return t.length===0?undefined:t.get(0)},t.prototype._initMonthSelector=function(e){if(n(e).data("cells")!==undefined)return;var t=e.id.split("_"),r,i,s=[],o,u,a,f,l;if(t[t.length-1]!=="ms")throw Error.create("not a monthview");r=t.slice(0,t.length-1).join("_"),i=this._getParentTable(e);if(i){if(i.id!==r)throw Error.create("not a monthview");for(o=0;o<i.rows.length;o++){l=i.rows[o];for(u=0;u<l.cells.length;u++)a=l.cells[u],a&&(f=n(a).attr("daytype"),f!==undefined&&n(a).find("a").hasAllClasses(this.options.wijCSS.prioritySecondary)===!1&&this._isSelectable(parseInt(f,10))&&(s[s.length]=a))}}n(e).data("cells",s)},t.prototype._onMonthSelectorClicked=function(e){this._initMonthSelector(e.currentTarget);var t=n(e.currentTarget).data("cells"),r=[],i,s,o,u;this.element.removeData("lastdate.wijcalendar"),this.unSelectAll();for(i=0;i<t.length;i++)s=t[i],o=n(s).attr("date"),o!==undefined&&(u=new Date(o),this.selectDate(u),r[r.length]=u);return this._trigger("selectedDatesChanged",null,{dates:r}),this.isPopupShowing()&&this.close(),!1},t.prototype._onMonthSelectorMouseEnter=function(e){this._initMonthSelector(e.currentTarget);var t=n(e.currentTarget).data("cells"),r;for(r=0;r<t.length;r++)e.currentTarget=t[r],this._onDayMouseEnter(e)},t.prototype._onMonthSelectorMouseLeave=function(e){this._initMonthSelector(e.currentTarget);var t=n(e.currentTarget).data("cells"),r;for(r=0;r<t.length;r++)e.currentTarget=t[r],this._onDayMouseLeave(e)},t.prototype._initWeekDaySelector=function(e){if(n(e).data("cells")!==undefined)return;var t=e.id.split("_"),r,i,s,o=[],u=0,a,f,l;if(t[t.length-2]!=="cs")throw Error.create("not a column");r=parseInt(t[t.length-1],10),i=t.slice(0,t.length-2).join("_"),s=this._getParentTable(e);if(s){if(s.id!==i)throw Error.create("not a column");this.options.showWeekDays&&u++;for(;u<s.rows.length;u++)a=s.rows[u],r<a.cells.length&&(f=a.cells[r],f&&(l=n(f).attr("daytype"),l!==undefined&&n(f).find("a").hasAllClasses(this.options.wijCSS.prioritySecondary)===!1&&this._isSelectable(parseInt(l,10))&&(o[o.length]=f)))}n(e).data("cells",o)},t.prototype._onWeekDayClicked=function(e){this._initWeekDaySelector(e.currentTarget);var t=n(e.currentTarget).data("cells"),r=[],i,s,o,u;this.unSelectAll();for(i=0;i<t.length;i++)s=n(t[i]),o=s.attr("date"),o!==undefined&&(u=new Date(o),this.selectDate(u),r[r.length]=u);return this._trigger("selectedDatesChanged",null,{dates:r}),this.isPopupShowing()&&this.close(),!1},t.prototype._onWeekDayMouseEnter=function(e){this._initWeekDaySelector(e.currentTarget);var t=n(e.currentTarget).data("cells"),r;for(r=0;r<t.length;r++)e.currentTarget=t[r],this._onDayMouseEnter(e)},t.prototype._onWeekDayMouseLeave=function(e){this._initWeekDaySelector(e.currentTarget);var t=n(e.currentTarget).data("cells"),r;for(r=0;r<t.length;r++)e.currentTarget=t[r],this._onDayMouseLeave(e)},t.prototype._initWeekNumberSelector=function(e){if(n(e).data("cells")!==undefined)return;var t=e.id.split("_"),r,i,s,o=[],u,a,f,l;if(t[t.length-2]!=="rs")throw Error.create("not a row");r=parseInt(t[t.length-1],10),i=t.slice(0,t.length-2).join("_"),s=this._getParentTable(e);if(s){if(s.id!==i)throw Error.create("not a row");u=s.rows[r];if(u){a=0,this.options.showWeekNumbers&&a++;for(;a<u.cells.length;a++)f=u.cells[a],f&&(l=n(f).attr("daytype"),l!==undefined&&n(f).find("a").hasAllClasses(this.options.wijCSS.prioritySecondary)===!1&&this._isSelectable(parseInt(l,10))&&(o[o.length]=f))}}n(e).data("cells",o)},t.prototype._onWeekNumberClicked=function(e){this._initWeekNumberSelector(e.currentTarget);var t=n(e.currentTarget).data("cells"),r=[],i,s,o,u;this.unSelectAll();for(i=0;i<t.length;i++)s=n(t[i]),o=s.attr("date"),o!==undefined&&(u=new Date(o),this.selectDate(u),r[r.length]=u);return this._trigger("selectedDatesChanged",null,{dates:r}),this.isPopupShowing()&&this.close(),!1},t.prototype._onWeekNumberMouseEnter=function(e){this._initWeekNumberSelector(e.currentTarget);var t=n(e.currentTarget).data("cells"),r;for(r=0;r<t.length;r++)e.currentTarget=t[r],this._onDayMouseEnter(e)},t.prototype._onWeekNumberMouseLeave=function(e){this._initWeekNumberSelector(e.currentTarget);var t=n(e.currentTarget).data("cells"),r;for(r=0;r<t.length;r++)e.currentTarget=t[r],this._onDayMouseLeave(e)},t.prototype._isAnimating=function(){return!!this.element.data("animating.wijcalendar")},t.prototype._onPreviewMouseEnter=function(e){if(!!this.element.data("previewContainer"))return;if(this._isAnimating())return;var t=n(e.currentTarget),r=t.attr("id"),i=this.getDisplayDate(),s=this.options.wijCSS,o=this.options.monthCols*this.options.monthRows,u=n("<div/>");if(r===undefined)return;r==="prevPreview"&&(o=-o),this.options.displayDate=a.addMonths(i,o),this.element.data("preview.wijcalendar",!0),u.appendTo(document.body),u.hide(),u.addClass("wijmo-wijcalendar "+s.datepickerInline+" "+s.datepicker+" "+s.widget+" "+s.content+" "+s.helperClearFix+" "+s.cornerAll),u.append(this._createCalendar()),this.options.displayDate=i,this.element.data("preview.wijcalendar",!1),this._createMonthViews(),u.wijpopup({showEffect:"slide",showOptions:{direction:r==="prevPreview"?"right":"left"},hideEffect:"slide",hideOptions:{direction:r==="prevPreview"?"right":"left"}}),u.wijpopup("show",{my:r==="prevPreview"?"right top":"left top",at:r==="prevPreview"?"left top":"right top",of:t}),this.element.data("previewContainer",u)},t.prototype._onPreviewMouseLeave=function(e){var t=n(e.currentTarget),r=t.attr("id"),i=this.element.data("previewContainer"),s=this;if(r===undefined)return;i&&(i.wijpopup("isAnimating")?window.setTimeout(function(){s._onPreviewMouseLeave(e)},200):(i.wijpopup("hide"),this.element.removeData("previewContainer")))},t.prototype._resetWidth=function(){this._myGrid||(this.element.css("height",""),this.options.monthCols>1?(this.element.css("width",17*this.options.monthCols+"em"),this.element.addClass(this.options.wijCSS.datepickerMulti)):(this.element.css("width",""),this.element.removeClass(this.options.wijCSS.datepickerMulti)))},t.prototype._playMmSlideAnimation=function(e){var t=this.element.width(),r=this.element.height(),i=this.getDisplayDate(),s,o,u,a=this.options.direction||"horizontal",f=this,l,c;this.element.height(r),this.element.wrapInner("<div class='wijmo-wijcalendar-multi-aniwrapper'></div>"),s=this.element.find(">:first-child").width(t).height(r),o=s.clone(!1),o.hide(),this.options.displayDate=e,this._createMonthViews(),o.empty().append(this._createMonthGroup()),o.appendTo(this.element),u=e>i,this.element.data("animating.wijcalendar",!0),n.effects?(s.effect("slide",{mode:"hide",direction:a==="horizontal"?u?"left":"right":u?"up":"down",easing:this.options.easing||"easeOutBack",duration:this.options.duration},function(){s.remove()}),o.effect("slide",{direction:a==="horizontal"?u?"right":"left":u?"down":"up",easing:this.options.easing||"easeOutBack",duration:this.options.duration},function(){while(o.parent().is(".wijmo-wijcalendar-multi-aniwrapper"))o.parent().replaceWith(o);o.replaceWith(o.contents()),f.element.height(""),f._bindEvents(),f.element.data("animating.wijcalendar",!1),f._trigger("afterSlide")})):(a==="horizontal"?(l={width:0},c={width:"100%"}):(l={height:0},c={height:"100%"}),s.animate(l,this.options.duration,null,function(){s.remove()}),o.animate(c,this.options.duration,null,function(){while(o.parent().is(".wijmo-wijcalendar-multi-aniwrapper"))o.parent().replaceWith(o);o.replaceWith(o.contents()),f.element.height(""),f._bindEvents(),f.element.data("animating.wijcalendar",!1),f._trigger("afterSlide")}))},t.prototype._playSlideAnimation=function(e){if(!this._isSingleMonth())return;var t=this,r=this.getDisplayDate(),i=t.options.wijCSS,s=this.element.find("."+i.datepickerCalendar),o,u,a=1,l=this.options.direction||"horizontal",c=e>r,h=[],p,d,v;s.parent().is(".wijmo-wijcalendar-aniwrapper")?o=s.parent():(o=n.createWrapper(s).css({overflow:"hidden"}),o.removeClass(i.effectsWrapper),o.addClass("wijmo-wijcalendar-aniwrapper")),o.parent().is(".wijmo-wijcalendar-aniwrapper")?u=o.parent():(u=n.createWrapper(o).css({overflow:"hidden"}),u.removeClass(i.effectsWrapper),u.addClass("wijmo-wijcalendar-aniwrapper"));if(this._myGrid)switch(this._myGrid.gridType){case"month":a=1;break;case"year":a=10;break;case"decade":a=100}h[h.length]=e,p=s.outerWidth(),d=s.outerHeight(),l==="horizontal"?(s.width(p).css("float",c?"left":"right"),o.width((h.length+1)*p),o.css("left",c?0:-h.length*p).css("position","absolute")):(o.width(p),o.css("top",c?0:-h.length*d).css("position","absolute"),o.height((h.length+1)*d)),n.each(h,function(e,r){if(t._myGrid===undefined){var i=new f(t,r),s=t._customize(i.getHtml(!0));l==="horizontal"?s.width(p).css("float",c?"left":"right").appendTo(o):s.appendTo(o)}else l==="horizontal"?n(t._myGrid.getHtml(r,!0)).width(p).height(d).css("float",c?"left":"right").appendTo(o):n(t._myGrid.getHtml(r,!0)).height(d).appendTo(o)}),this.options.displayDate=e,this._myGrid===undefined&&this._createMonthViews(),this._refreshTitle(),this.element.data("animating.wijcalendar",!0),n.effects?o.effect("slide",{mode:"hide",direction:l==="horizontal"?c?"left":"right":c?"up":"down",easing:this.options.easing||"easeOutBack",distance:(l==="horizontal"?p:d)*h.length,duration:this.options.duration},function(){s=o.children(":last");while(s.parent().is(".wijmo-wijcalendar-aniwrapper"))s.parent().replaceWith(s);s.css({"float":"",width:""}),t._bindEvents(),t.element.data("animating.wijcalendar",!1),t._trigger("afterSlide")}):(l==="horizontal"?v={width:0}:v={height:0},o.animate(v,this.options.duration,null,function(){s=o.children(":last");while(s.parent().is(".wijmo-wijcalendar-aniwrapper"))s.parent().replaceWith(s);s.css({"float":"",width:""}),t._bindEvents(),t.element.data("animating.wijcalendar",!1),t._trigger("afterSlide")}))},t.prototype._onTitleClicked=function(){if(!this.options.allowQuickPick||!this._isSingleMonth())return;if(this._isAnimating())return;if(this._myGrid===undefined)this._myGrid=new c(this);else switch(this._myGrid.gridType){case"month":this._myGrid.gridType="year";break;case"year":this._myGrid.gridType="decade";break;case"decade":return}this._refreshTitle(),this.element.width(this.element.width()).height(this.element.height());var e=this.options.wijCSS,t=this.element.find("."+e.datepickerCalendar),r,i,s,o=t.outerWidth(),u=t.outerHeight(),a,f,l,h,p,d,v=this;t.parent().is(".wijmo-wijcalendar-aniwrapper")?r=t.parent():r=n.createWrapper(t).css({overflow:"hidden"}).removeClass(e.effectsWrapper).addClass("wijmo-wijcalendar-aniwrapper"),r.parent().is(".wijmo-wijcalendar-aniwrapper")?i=r.parent():i=n.createWrapper(r).css({overflow:"hidden"}).removeClass(e.effectsWrapper).addClass("wijmo-wijcalendar-aniwrapper").width(o).height(u),s=n(this._myGrid.getHtml(!0)).css({position:"absolute",top:0,left:0,opacity:0}).appendTo(i).height(u),a=this._myGrid.getSelectedIndex(),f=Math.floor(a/4),l=a-f*4,h=o/4,p=u/3,d={left:h*l,top:p*f,width:h,height:p},t.width("100%").height("100%"),r.css({border:"solid 1px #cccccc"}),this.element.data("animating.wijcalendar",!0),n.effects?r.effect("size",{to:d,duration:this.options.duration||500},function(){r.remove()}):r.animate(d,this.options.duration||500,null,function(){r.remove()}),s.animate({opacity:1},this.options.duration||500,null,function(){s.css({position:"",top:"",left:"",filter:""});while(s.parent().is(".wijmo-wijcalendar-aniwrapper"))s.parent().replaceWith(s);v._bindEvents(),v.element.data("animating.wijcalendar",!1)})},t.prototype._onMyGridClicked=function(e){if(this._myGrid===undefined)return!1;if(this._isAnimating())return!1;var t=n(e.currentTarget),r=parseInt(t.attr("index"),10),i=parseInt(t.attr("value"),10),s=this.options.wijCSS,o=this.element.find("."+s.datepickerCalendar),u,a,f,l,c,h,p,d,v,m=this;if(this._myGrid.gridType!=="month")if(!r||r===11)return!1;return t.hasAllClasses(s.stateActive)||this._myGrid.select(r,i),this._myGrid.gridType==="decade"?this._myGrid.gridType="year":this._myGrid.gridType==="year"?this._myGrid.gridType="month":this._myGrid=undefined,this._refreshTitle(),f=o.outerWidth(),l=o.outerHeight(),o.parent().is(".wijmo-wijcalendar-aniwrapper")?a=o.parent():a=n.createWrapper(o).css({overflow:"hidden"}).removeClass(s.effectsWrapper).addClass("wijmo-wijcalendar-aniwrapper").width(f).height(l),c=n.extend({},t.position(),{width:t.width(),height:t.height()}),this._myGrid===undefined?(this._createMonthViews(),p=this.getDisplayDate(),d=this._getMonthView(p),h=this._customize(d.getHtml(!0))):h=n(this._myGrid.getHtml(!0)),v=h.height(l).appendTo(a),u=n.createWrapper(v).css({overflow:"hidden"}).removeClass(s.effectsWrapper).addClass("wijmo-wijcalendar-aniwrapper").css(n.extend(c,{border:"solid 1px #cccccc",position:"absolute"})),this.element.data("animating.wijcalendar",!0),u.animate({left:0,top:0,width:f,height:l},this.options.duration||500,null,function(){v.css("width","")}),o.animate({opacity:0},this.options.duration||500,null,function(){o.remove();while(v.parent().is(".wijmo-wijcalendar-aniwrapper"))v.parent().replaceWith(v);m._myGrid===undefined&&m.element.width("").height(""),m._bindEvents(),m.element.data("animating.wijcalendar",!1)}),!1},t.prototype._onMyGridMouseEnter=function(e){if(this._myGrid===undefined)return;var t=n(e.currentTarget),r=parseInt(t.attr("index"),10);if(this._myGrid.gridType!=="month"&&(r<0||r>11))return;t.addClass(this.options.wijCSS.stateHover)},t.prototype._onMyGridMouseLeave=function(e){if(this._myGrid===undefined)return;var t=n(e.currentTarget),r=parseInt(t.attr("index"),10);if(this._myGrid.gridType!=="month"&&(r<0||r>11))return;t.removeClass(this.options.wijCSS.stateHover)},t.prototype._unbindEvents=function(){var e=this,t=e.element,r=e.options.wijCSS,i=e.options.selectionMode;t.unbind(".wijcalendar"),t.find("div .wijmo-wijcalendar-navbutton").unbind(),t.find("."+r.datepickerTitle).unbind(),t.find(".wijmo-wijcalendar-prevpreview-button, .wijmo-wijcalendar-nextpreview-button").unbind("mouseenter.wijcalendar").unbind("mouseleave.wijcalendar"),e._myGrid===undefined?(t.find(".wijmo-wijcalendar-day-selectable").unbind(),n.support.isTouchEnabled&&n.support.isTouchEnabled()&&(n.browser.msie&&t.unbind("contextmenu.wijcalendar"),t.find(".wijmo-wijcalendar-day-selectable").unbind("wijmouseup.wijcalendar")),!i.month||t.find(".wijmo-wijcalendar-monthselector").unbind(),!i.weekDay||t.find("."+r.datepickerWeekDay).unbind(),!i.weekNumber||t.find(".wijmo-wijcalendar-week-num").unbind()):t.find(".wijmo-wijcalendar-day-selectable").unbind()},t.prototype._bindEvents=function(){var e=this.options.wijCSS,t="";n.support.isTouchEnabled&&n.support.isTouchEnabled()&&(t="wij"),!this.element.data("preview.wijcalendar")&&!this.options.disabledState&&!this.options.disabled&&(this.element.find("div .wijmo-wijcalendar-navbutton").unbind().bind("mouseout.wijcalendar",function(){var t=n(this);t.removeClass(e.stateHover),t.hasAllClasses(e.datepickerNextHover)?t.removeClass(e.datepickerNextHover):t.hasAllClasses(e.datepickerPrevHover)&&t.removeClass(e.datepickerPrevHover)}).bind("mouseover.wijcalendar",function(){var t=n(this);t.addClass(e.stateHover),t.hasAllClasses(e.datepickerNext)?t.addClass(e.datepickerNextHover):t.hasAllClasses(e.datepickerPrev)&&t.addClass(e.datepickerPrevHover)}).bind("click.wijcalendar",n.proxy(this._onNavButtonClicked,this)),this.element.unbind(".wijcalendar").bind(t+"mouseup.wijcalendar",n.proxy(this._onMouseUp,this)),this.element.find("."+e.datepickerTitle).unbind().bind("mouseout.wijcalendar",function(){n(this).removeClass(e.stateHover)}).bind("mouseover.wijcalendar",function(){n(this).addClass(e.stateHover)}).bind("click.wijcalendar",n.proxy(this._onTitleClicked,this)),this.element.find(".wijmo-wijcalendar-prevpreview-button, .wijmo-wijcalendar-nextpreview-button").unbind("mouseenter.wijcalendar").unbind("mouseleave.wijcalendar").bind({"mouseenter.wijcalendar":n.proxy(this._onPreviewMouseEnter,this),"mouseleave.wijcalendar":n.proxy(this._onPreviewMouseLeave,this)}),this._myGrid===undefined?(this.element.find(".wijmo-wijcalendar-day-selectable").unbind().bind(t+"click.wijcalendar",n.proxy(this._onDayClicked,this)).bind("mouseenter.wijcalendar",n.proxy(this._onDayMouseEnter,this)).bind("mouseleave.wijcalendar",n.proxy(this._onDayMouseLeave,this)).bind(t+"mousedown.wijcalendar",n.proxy(this._onDayMouseDown,this)).bind("dragstart.wijcalendar",n.proxy(this._onDayDragStart,this)),n.support.isTouchEnabled&&n.support.isTouchEnabled()&&(n.browser.msie&&this.element.unbind("contextmenu.wijcalendar").bind({"contextmenu.wijcalendar":function(){return!1}}),this.element.find(".wijmo-wijcalendar-day-selectable").unbind(t+"mouseup.wijcalendar").bind(t+"mouseup.wijcalendar",n.proxy(this._onTouchend,this))),!this.options.selectionMode.month||this.element.find(".wijmo-wijcalendar-monthselector").unbind().bind({"click.wijcalendar":n.proxy(this._onMonthSelectorClicked,this),"mouseenter.wijcalendar":n.proxy(this._onMonthSelectorMouseEnter,this),"mouseleave.wijcalendar":n.proxy(this._onMonthSelectorMouseLeave,this)}),!this.options.selectionMode.weekDay||this.element.find("."+e.datepickerWeekDay).unbind().bind({"click.wijcalendar":n.proxy(this._onWeekDayClicked,this),"mouseenter.wijcalendar":n.proxy(this._onWeekDayMouseEnter,this),"mouseleave.wijcalendar":n.proxy(this._onWeekDayMouseLeave,this)}),!this.options.selectionMode.weekNumber||this.element.find(".wijmo-wijcalendar-week-num").unbind().bind({"click.wijcalendar":n.proxy(this._onWeekNumberClicked,this),"mouseenter.wijcalendar":n.proxy(this._onWeekNumberMouseEnter,this),"mouseleave.wijcalendar":n.proxy(this._onWeekNumberMouseLeave,this)})):this.element.find(".wijmo-wijcalendar-day-selectable").unbind().bind({"click.wijcalendar":n.proxy(this._onMyGridClicked,this),"mouseenter.wijcalendar":n.proxy(this._onMyGridMouseEnter,this),"mouseleave.wijcalendar":n.proxy(this._onMyGridMouseLeave,this)}))},t.prototype._isSelectable=function(e){var t=this.options;return t.showOtherMonthDays&&e&i.otherMonth||!(e&(i.outOfRange|i.disabled|i.otherMonth))},t.prototype._getCellClassName=function(e,t,n){var r=this.options,s="",o=r.wijCSS.stateDefault,u=!!r.selectionMode.day||!!r.selectionMode.days;return n=n||!1,!n&&!r.disabledState&&!r.disabled&&u&&this._isSelectable(e)&&(s+=" wijmo-wijcalendar-day-selectable"),e&i.weekEnd&&(s+=" "+r.wijCSS.datepickerWeekEnd),e&i.otherMonth&&(s+=" "+r.wijCSS.datepickerOtherMonth,o+=" "+r.wijCSS.prioritySecondary),e&i.outOfRange&&(s+=" wijmo-wijcalendar-outofrangeday",o+=" "+r.wijCSS.prioritySecondary),e&i.gap?s+=" wijmo-wijcalendar-gap":(e&i.disabled&&(s+=" "+r.wijCSS.datepickerUnselectable,o+=" "+r.wijCSS.stateDisabled),e&i.today&&(s+=" "+r.wijCSS.datepickerDaysCellOver+" "+r.wijCSS.datepickerToday,o+=" "+r.wijCSS.stateHighlight),e&i.selected&&(e&(i.outOfRange|i.disabled))===0&&(s+=" "+r.wijCSS.datepickerCurrentDay,o+=" "+r.wijCSS.stateActive),e&i.gap&&(s+=" wijmo-wijcalendar-gap"),e&i.custom&&(s+=" wijmo-wijcalendar-customday")),{cssCell:s,cssText:o}},t.prototype._onNavButtonClicked=function(e){if(this._isAnimating())return!1;var t=1,r=n(e.currentTarget).attr("id"),i=this.getDisplayDate(),s=i;if(this._myGrid===undefined)t=r.indexOf("quick")>=0?this.options.quickNavStep:1,t=r.indexOf("next")>=0?t:-t,t=t*this.options.monthRows*this.options.monthCols,s=a.addMonths(i,t);else{t=r.indexOf("next")>=0?1:-1;switch(this._myGrid.gridType){case"month":s=a.addYears(i,t);break;case"year":s=a.addYears(i,t*10);break;case"decade":s=a.addYears(i,t*100)}}return this._slideToDate(s),!1},t.prototype._getMonthGroupHtml=function(){var e=this.getDisplayDate(),t,n,r,i=this.options.wijCSS,s,o;if(this._isSingleMonth())return t=this._getMonthView(e),t.showPreview=this.options.allowPreview&&!this.element.data("preview.wijcalendar"),t.getHtml();n=100/this.options.monthCols+"%",r=new u;for(s=0;s<this.options.monthRows;s++){for(o=0;o<this.options.monthCols;o++)r.writeBeginTag("div"),r.writeAttribute("class",i.datepickerGroup+(o===0?" "+i.datepickerGroupFirst:"")+(o===this.options.monthCols-1?" "+i.datepickerGroupLast:"")),r.writeAttribute("style","width:"+n),r.writeTagRightChar(),t=this._getMonthView(e),t.showPreview=!1,r.write(t.getHtml()),r.writeEndTag("div"),e=a.addMonths(e,1);r.writeBeginTag("div"),r.writeAttribute("class",i.datepickerRowBreak),r.writeTagRightChar(),r.writeEndTag("div")}return r.toString()},t.prototype._getCalendarHtml=function(){this._createMonthViews();var e=new u;return e.write(this._getMonthGroupHtml()),e.toString()},t.prototype._customizeDayCell=function(e){e.attr("state")===undefined&&e.attr("state","normal");if(e.attr("daytype")===undefined)return;if(e.attr("date")===undefined)return;var t=parseInt(e.attr("daytype"),10),n=new Date(e.attr("date")),r=e.attr("state")==="hover";this.options.customizeDate(e,n,t,r)},t.prototype._customize=function(e){var t=this.options,r=this,i=n(e);return n.isFunction(t.customizeDate)?(n.each(i.find(".wijmo-wijcalendar-day-selectable"),function(e,t){r._customizeDayCell(n(t))}),i):i},t.prototype._createCalendar=function(){return this._customize(n(n.parseHTML(this._getCalendarHtml())))},t.prototype._createMonthGroup=function(){return this._customize(n(this._getMonthGroupHtml()))},t.prototype._getMonthID=function(e){return e.getFullYear()+"_"+(e.getMonth()+1)},t.prototype._createMonthViews=function(){this._monthViews={};var e="",t=this.getDisplayDate(),n,r,i,s;for(n=0;n<this.options.monthRows;n++)for(r=0;r<this.options.monthCols;r++)e=this._getMonthID(t),this._monthViews[e]=new f(this,t),n===0&&(r===0&&(this._monthViews[e].isFirst=!0),r===this.options.monthCols-1&&(this._monthViews[e].isLast=!0)),t=a.addMonths(t,1);t=this.getDisplayDate(),e=this._getMonthID(t),i=this._monthViews[e],i&&(this._groupStartDate=i.getStartDate()),s=this.options.monthRows*this.options.monthCols,s>1&&(t=a.addMonths(t,s-1),e=this._getMonthID(t),i=this._monthViews[e]),i&&(this._groupEndDate=i.getEndDate())},t.prototype._getMonthView=function(e){var t=this._getMonthID(e);return this._monthViews[t]},t.prototype._getId=function(){return this.element.attr("id")},t.prototype._getChildElement=function(e){var t=this.element.find("[id*='"+e+"']");return t.length===0?undefined:t},t.prototype._refreshDayCell=function(e){var t=n(e),r=this.options,s,o,u,a;t.attr("state")===undefined&&t.attr("state","normal");if(t.attr("daytype")===undefined)return;if(t.attr("date")===undefined)return;s=parseInt(t.attr("daytype"),10),o=new Date(t.attr("date")),u=t.attr("state")==="hover",t.attr("class",this._getCellClassName(s,o,undefined).cssCell),t.removeAttr("aria-selected"),s&i.selected&&t.attr("aria-selected",!0);if(n.isFunction(r.customizeDate)&&this._customizeDayCell(t))return;a=t.find("a"),a.length>0&&(a.toggleClass(this.options.wijCSS.stateHover,u),a.toggleClass(this.options.wijCSS.stateActive,(s&i.selected)!==0))},t.prototype._isSingleMonth=function(){return this.options.monthCols*this.options.monthRows===1},t.prototype._splitString=function(e,t,n){if(n===undefined)return e.split(t);var r=[],i=e.split(t),s;for(s=0;s<i.length;s++)s>=n?r[n-1]=r[n-1]+t+i[s]:r.push(i[s]);return r},t.prototype._getNavButtonHtml=function(e,t,n,r){var i=new u;return i.writeBeginTag("a"),i.writeAttribute("id",e),i.writeAttribute("class",t),i.writeAttribute("role","button"),i.writeAttribute("href","#"),r&&(i.writeAttribute("title",r),i.writeAttribute("aria-label",r)),i.writeTagRightChar(),i.writeBeginTag("span"),i.writeAttribute("class",n),i.writeTagRightChar(),r&&i.write(r),i.writeEndTag("span"),i.writeEndTag("a"),i.toString()},t.prototype._getTitleText=function(e){if(this._myGrid!==undefined)return this._myGrid.getTitle();var t=e||this.getDisplayDate(),r=this.options.titleFormat||"MMMM yyyy";return n.isFunction(this.options.title)?this.options.title(t,r)||this._formatDate(r,t):this._formatDate(r,t)},t.prototype._refreshTitle=function(){this.element.find("."+this.options.wijCSS.datepickerTitle).html(this._getTitleText(undefined))},t.prototype._fillTitle=function(e,t){var n=this.options.wijCSS;e.writeBeginTag("div"),e.writeAttribute("class",n.datepickerTitle+" wijmo-wijcalendar-title"+" "+n.stateDefault+" "+n.cornerAll),e.writeTagRightChar(),e.write(this._getTitleText(t)),e.writeEndTag("div")},t.prototype._getHeaderHtml=function(e,t,n){var r=!!this.element.data("preview.wijcalendar"),i=this.options.wijCSS,s=r?"none":this._isSingleMonth()?this.options.navButtons:"default",o=this.element.is("."+i.datepickerRtl),a=new u;return s==="quick"?(a.writeBeginTag("div"),a.writeAttribute("class",i.header+" wijmo-wijcalendar-header "+i.helperClearFix+" "+i.cornerAll),a.writeAttribute("role","heading"),a.writeTagRightChar(),!t||a.write(this._getNavButtonHtml("quickprev","wijmo-wijcalendar-navbutton "+i.datepickerPrev+" "+i.cornerAll,i.icon+" ui-icon-seek-"+(o?"next":"prev")+" "+(o?this.options.wijCSS.iconArrowRight:this.options.wijCSS.iconArrowLeft),this.options.quickPrevTooltip.replace("#",this.options.quickNavStep))),a.writeBeginTag("div"),a.writeAttribute("class",i.datepickerHeader+" wijmo-wijcalendar-header-inner"),a.writeTagRightChar(),!t||a.write(this._getNavButtonHtml("prev","wijmo-wijcalendar-navbutton "+i.datepickerPrev+" "+i.cornerAll,i.icon+" ui-icon-circle-triangle-"+(o?"e":"w")+" "+(o?this.options.wijCSS.iconArrowRight:this.options.wijCSS.iconArrowLeft),this.options.prevTooltip)),this._fillTitle(a,e),!n||a.write(this._getNavButtonHtml("next","wijmo-wijcalendar-navbutton "+i.datepickerNext+" "+i.cornerAll,i.icon+" ui-icon-circle-triangle-"+(o?"w":"e")+" "+(o?this.options.wijCSS.iconArrowLeft:this.options.wijCSS.iconArrowRight),this.options.nextTooltip)),a.writeEndTag("div"),!n||a.write(this._getNavButtonHtml("quicknext","wijmo-wijcalendar-navbutton "+i.datepickerNext+" "+i.cornerAll,i.icon+" ui-icon-seek-"+(o?"prev":"next")+" "+(o?this.options.wijCSS.iconArrowLeft:this.options.wijCSS.iconArrowRight),this.options.quickNextTooltip.replace("#",this.options.quickNavStep))),a.writeEndTag("div")):(a.writeBeginTag("div"),a.writeAttribute("class",i.datepickerHeader+" "+i.header+" "+i.datepickerHeader+" "+i.helperClearFix+" "+i.cornerAll),a.writeAttribute("role","heading"),a.writeTagRightChar(),s!=="none"&&!!t&&a.write(this._getNavButtonHtml("prev","wijmo-wijcalendar-navbutton "+i.datepickerPrev+" "+i.cornerAll,i.icon+" ui-icon-circle-triangle-"+(o?"e":"w")+" "+(o?this.options.wijCSS.iconArrowRight:this.options.wijCSS.iconArrowLeft),this.options.prevTooltip)),this._fillTitle(a,e),s!=="none"&&!!n&&a.write(this._getNavButtonHtml("next","wijmo-wijcalendar-navbutton "+i.datepickerNext+" "+i.cornerAll,i.icon+" ui-icon-circle-triangle-"+(o?"w":"e")+" "+(o?this.options.wijCSS.iconArrowLeft:this.options.wijCSS.iconArrowRight),this.options.nextTooltip)),a.writeEndTag("div")),a.toString()},t.prototype._formatDate=function(e,t){return a.getTicks(t)?Globalize.format(t,e,this._getCulture(null)):"&nbsp;"},t}(e.wijmoWidget);t.wijcalendar=s;var o=function(){function e(){this.initSelector=":jqmData(role='wijcalendar')",this.wijCSS={datepickerInline:"ui-datepicker-inline",datepicker:"ui-datepicker",datepickerCalendar:"ui-datepicker-calendar",datepickerMulti:"ui-datepicker-multi",datepickerRtl:"datepicker-rtl",datepickerOtherMonth:"ui-datepicker-other-month",prioritySecondary:"ui-priority-secondary",effectsWrapper:"ui-effects-wrapper",datepickerNextHover:"ui-datepicker-next-hover",datepickerPrevHover:"ui-datepicker-prev-hover",datepickerNext:"ui-datepicker-next",datepickerPrev:"ui-datepicker-prev",datepickerTitle:"ui-datepicker-title",datepickerWeekDay:"ui-datepicker-week-day",datepickerWeekEnd:"ui-datepicker-week-end",datepickerUnselectable:"ui-datepicker-unselectable",datepickerDaysCellOver:"ui-datepicker-days-cell-over",datepickerToday:"ui-datepicker-today",stateHighlight:"ui-state-highlight",datepickerCurrentDay:"ui-datepicker-current-day",datepickerGroup:"ui-datepicker-group",datepickerGroupFirst:"ui-datepicker-group-first",datepickerGroupLast:"ui-datepicker-group-last",datepickerRowBreak:"ui-datepicker-row-break",datepickerHeader:"ui-datepicker-header",uiIconGripDottedVertical:"ui-icon-grip-dotted-vertical",uiDatepickerWeekCol:"ui-datepicker-week-col"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body ui-body-b",stateDefault:"ui-btn ui-btn-b",stateHighlight:"ui-btn-down-e"},this.culture="",this.monthCols=1,this.monthRows=1,this.titleFormat="MMMM yyyy",this.showTitle=!0,this.displayDate=undefined,this.dayRows=6,this.dayCols=7,this.weekDayFormat="short",this.showWeekDays=!0,this.showWeekNumbers=!1,this.calendarWeekRule="firstDay",this.minDate=new Date(1900,0,1),this.maxDate=new Date(2099,11,31),this.showOtherMonthDays=!0,this.showDayPadding=!1,this.selectionMode={day:!0,days:!0},this.allowPreview=!1,this.allowQuickPick=!0,this.toolTipFormat="dddd, MMMM dd, yyyy",this.prevTooltip="Previous",this.nextTooltip="Next",this.quickPrevTooltip="Quick Previous",this.quickNextTooltip="Quick Next",this.prevPreviewTooltip="",this.nextPreviewTooltip="",this.navButtons="default",this.quickNavStep=12,this.direction="horizontal",this.duration=250,this.easing="easeInQuad",this.popupMode=!1,this.autoHide=!0,this.customizeDate=null,this.title=null,this.beforeSlide=null,this.afterSlide=null,this.beforeSelect=null,this.afterSelect=null,this.selectedDatesChanged=null}return e}();s.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new o),n.wijmo.registerWidget("wijcalendar",s.prototype);var u=function(){function e(){this._html=[]}return e.prototype.writeTagLeftChar=function(){this._html[this._html.length]="<"},e.prototype.writeTagRightChar=function(){this._html[this._html.length]=">"},e.prototype.write=function(e){this._html[this._html.length]=" "+e+" "},e.prototype.writeBeginTag=function(e){this._html[this._html.length]="<"+e},e.prototype.writeEndTag=function(e){this._html[this._html.length]="</"+e+">"},e.prototype.writeFullBeginTag=function(e){this._html[this._html.length]="<"+e+">"},e.prototype.writeSelfClosingTagEnd=function(){this._html[this._html.length]="/>"},e.prototype.writeAttribute=function(e,t){if(t===undefined||t===null)return;this._html[this._html.length]=" "+e+'="',this._html[this._html.length]=t,this._html[this._html.length]='"'},e.prototype.clean=function(){this._html=[]},e.prototype.toString=function(){return this._html.join("")},e}();t.htmlTextWriter=u;var a={addDays:function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t);return t&&n.getDate()===e.getDate()&&(n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n.setTime(n.getTime()+t*24*3600*1e3)),n},addMonths:function(e,t){return new Date(e.getFullYear(),e.getMonth()+t,1)},addYears:function(e,t){return this.addMonths(e,t*12)},getDate:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},getTicks:function(e){return e.valueOf()},isSameDate:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},isSameMonth:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()},getDaysInMonth:function(e){return(new Date(e.getFullYear(),e.getMonth()+1,0)).getDate()},getWeekStartDate:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()-(e.getDay()-t+7)%7)},getDayOfYear:function(e){var t=new Date(e.getFullYear(),0,1),n=this.getTicks(e)-this.getTicks(t),r=n/864e5;return Math.floor(r)+1},getFirstDayWeekOfYear:function(e,t){var n=this.getDayOfYear(e)-1,r=e.getDay()-n%7,i;return r=(r-t+14)%7,i=(n+r)/7,Math.floor(i)+1},getDayOfWeek:function(e,t){return(e.getDay()-t+7)%7},getWeekOfYearFullDays:function(e,t,n,r){var i=this.getDayOfYear(e)-1,s=this.getDayOfWeek(e,n)-i%7;return s=(n-s+14)%7,s&&s>=r&&(s-=7),s=i-s,s>=0?Math.floor(s/7)+1:this.getWeekOfYearFullDays(this.addDays(e,-(i+1)),t,n,r)},getWeekOfYear:function(e,t,n){switch(t){case"firstDay":return this.getFirstDayWeekOfYear(e,n);case"firstFullWeek":return this.getWeekOfYearFullDays(e,t,n,7);case"firstFourDayWeek":return this.getWeekOfYearFullDays(e,t,n,4)}return this.getFirstDayWeekOfYear(e,n)},getDateToken:function(e){return e.getFullYear()+"_"+e.getMonth()+"_"+e.getDate()}},f=function(){function e(e,t){this.calendar=e;if(t===undefined||a.isSameDate(t,new Date(1900,0,1)))t=new Date;this.displayDate=t,this.id=this.calendar._getId()+"_"+this.calendar._getMonthID(t),this.isFirst=!1,this.isLast=!1,this.showPreview=!1,this.culture=this.calendar._getCulture(),this._calcDates(this.displayDate)}return e.prototype._calcDates=function(e){var t=a.getDaysInMonth(e);this._startDateInMonth=new Date(e.getFullYear(),e.getMonth(),1),this._endDateInMonth=a.addDays(this._startDateInMonth,t-1),this._startDate=a.getWeekStartDate(this._startDateInMonth,this.culture.calendar.firstDay),this._endDate=a.addDays(this._startDate,this.calendar.options.dayRows*this.calendar.options.dayCols-1)},e.prototype._isFirstMonth=function(){var e=this.calendar.getDisplayDate();return a.isSameMonth(this._startDateInMonth,e)},e.prototype._isLastMonth=function(){var e=this.calendar.getDisplayDate();return e=new Date(e.getFullYear(),e.getMonth(),1),e=a.addMonths(e,this.calendar.options.monthCols*this.calendar.options.monthRows-1),a.isSameMonth(this._startDateInMonth,e)},e.prototype.getStartDate=function(){return this._startDate},e.prototype.getEndDate=function(){return this._endDate},e.prototype._getMonthDate=function(){return this._startDateInMonth===undefined,this._startDateInMonth},e.prototype._setMonthDate=function(e){this._calcDates(e)},e.prototype._getWeekDayText=function(e,t){t=t||"short";var n=this.culture.calendar.days,r="";switch(t){case"full":r=n.names[e];break;case"firstLetter":r=n.names[e].substring(0,1);break;case"abbreviated":r=n.namesAbbr[e];break;default:r=n.namesShort[e]}return r},e.prototype._getRowCount=function(){var e=this.calendar.options;return e.showWeekDays?e.dayRows+1:e.dayRows},e.prototype._getColCount=function(){var e=this.calendar.options;return e.showWeekNumbers?e.dayCols+1:e.dayCols},e.prototype._getDayType=function(e){var t=this.calendar.options,n=i.general,r=e.getDay(),s=r===6||r===0,o=e<t.minDate||e>t.maxDate,u=e<this._startDateInMonth||e>this._endDateInMonth,f=o||this.calendar._getDisabledDates().contains(e),l=this.calendar._getSelectedDates().contains(e),c=new Date,h=a.isSameDate(e,c),p=!1;return s&&(n|=i.weekEnd),h&&(n|=i.today),f&&(n|=i.disabled),u&&(n|=i.otherMonth),o&&(n|=i.outOfRange),l&&(n|=i.selected),p&&(n|=i.custom),u&&!t.showOtherMonthDays&&(n|=i.gap),n},e.prototype._refreshDate=function(e){if(e<this._startDate||e>this._endDate)return;var t=this.calendar.options,r=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),i=Date.UTC(this._startDate.getFullYear(),this._startDate.getMonth(),this._startDate.getDate()),s=Math.floor(Math.abs(r-i)/864e5),o=Math.floor(s/this.calendar.options.dayCols),u=Math.floor(s%this.calendar.options.dayCols),a,f,l,c;t.showWeekNumbers&&u++,t.showWeekDays&&o++,a=n("#"+this.id,this.calendar.element).get(0),a&&o<a.rows.length&&(f=a.rows[o],u<f.cells.length&&(l=f.cells[u],c=this._getDayType(e),n(l).attr("daytype",c.toString()),this.calendar._refreshDayCell(l)))},e.prototype._fillDayCell=function(e,t,n){var r=this.calendar.options,s=null,o=t.getDate().toString(),u=this.calendar._formatDate(r.toolTipFormat||"dddd, MMMM dd, yyyy",t),a=this._getDayType(t),f=this.calendar._isSelectable(a),l=this.calendar._getCellClassName(a,t,n);o=r.showDayPadding&&o.length===1?"0"+o:o,e.writeBeginTag("td"),e.writeAttribute("daytype",a.toString()),f&&(e.writeAttribute("title",u),e.writeAttribute("aria-label",u)),e.writeAttribute("date",t.toDateString()),e.writeAttribute("class",l.cssCell),e.writeAttribute("role","gridcell"),f||e.writeAttribute("aria-disabled","true"),e.writeTagRightChar(),a&i.gap?e.write("&#160;"):s&&s.content?e.write(s.content):(e.writeBeginTag("a"),e.writeAttribute("class",l.cssText),e.writeAttribute("href","#"),e.writeAttribute("onclick","return false;"),e.writeTagRightChar(),e.write(o),e.writeEndTag("a")),e.writeEndTag("td")},e.prototype.getHtml=function(e){e=!!e;var t=this.calendar.options,n=t.wijCSS,r=!!this.calendar.element.data("preview.wijcalendar"),i=new u,s,o,f,l,c,h,p,d,v,m,g,y;!e&&t.showTitle&&i.write(this.calendar._getHeaderHtml(this._startDateInMonth,this.isFirst,this.isLast)),!e&&!r&&this.showPreview&&(i.writeBeginTag("div"),i.writeAttribute("class","wijmo-wijcalendar-prevpreview-button"),i.writeAttribute("role","button"),i.writeAttribute("aria-haspopup","true"),i.writeAttribute("id","prevPreview"),i.writeTagRightChar(),i.writeBeginTag("a"),i.writeAttribute("class",n.icon+" "+n.uiIconGripDottedVertical),i.writeAttribute("href","#"),i.writeAttribute("title",t.prevPreviewTooltip),i.writeAttribute("aria-label",t.prevPreviewTooltip),i.writeAttribute("onclick","return false;"),i.writeTagRightChar(),i.write("&#160;"),i.writeEndTag("a"),i.writeEndTag("div")),i.writeBeginTag("table"),i.writeAttribute("id",this.id),i.writeAttribute("class",n.datepickerCalendar+" wijmo-wijcalendar-table"),i.writeAttribute("role","grid"),i.writeAttribute("summary",this.calendar._getTitleText(this._startDateInMonth)),i.writeAttribute("onselectstart","return false;"),i.writeTagRightChar();if(t.showWeekDays){i.writeFullBeginTag("thead"),i.writeBeginTag("tr"),i.writeTagRightChar(),t.showWeekNumbers&&(i.writeBeginTag("th"),i.writeAttribute("id",this.id+"_ms"),i.writeAttribute("class",n.uiDatepickerWeekCol+" wijmo-wijcalendar-monthselector"+(t.selectionMode.month?" wijmo-wijcalendar-selectable":"")),i.writeAttribute("role","columnheader"),i.writeTagRightChar(),!!t.selectionMode.month&&!r?(i.writeBeginTag("a"),i.writeAttribute("class",n.icon+" "+n.iconArrowRightDown),i.writeAttribute("style","display: block;"),i.writeSelfClosingTagEnd()):i.write(t.weekString?t.weekString:"Wk"),i.writeEndTag("th")),f=this._startDate.getDay(),l=this._startDate;for(s=0;s<t.dayCols;s++)c=f===6||f===0,h=s+(t.showWeekNumbers?1:0),p=this._getWeekDayText(f,t.weekDayFormat),d=this._getWeekDayText(f,"full"),i.writeBeginTag("th"),i.writeAttribute("id",this.id+"_cs_"+h),i.writeAttribute("class",n.datepickerWeekDay+(c?" "+n.datepickerWeekEnd:"")+(t.selectionMode.weekDay?" wijmo-wijcalendar-selectable":"")),i.writeAttribute("role","columnheader"),i.writeTagRightChar(),i.writeBeginTag("span"),i.writeAttribute("title",d),i.writeAttribute("aria-label",d),i.writeTagRightChar(),i.write(p),i.writeEndTag("span"),i.writeEndTag("th"),f=(f+1)%7,l=a.addDays(l,1);i.writeEndTag("tr"),i.writeEndTag("thead")}i.writeFullBeginTag("tbody"),v=this._startDate,m=this._startDateInMonth;for(s=0;s<t.dayRows;s++){i.writeBeginTag("tr"),i.writeTagRightChar(),t.showWeekNumbers&&(g=s+(t.showWeekDays?1:0),i.writeBeginTag("td"),i.writeAttribute("id",this.id+"_rs_"+g),i.writeAttribute("class",n.uiDatepickerWeekCol+" wijmo-wijcalendar-week-num"+(t.selectionMode.weekNumber?" wijmo-wijcalendar-selectable":"")),i.writeAttribute("role","rowheader"),i.writeTagRightChar(),y=a.getWeekOfYear(m,t.calendarWeekRule,this.culture.calendar.firstDay),i.write(y),i.writeEndTag("td"),m=a.addDays(m,t.dayCols));for(o=0;o<t.dayCols;o++)this._fillDayCell(i,v,r),v=a.addDays(v,1);i.writeEndTag("tr")}return i.writeEndTag("tbody"),i.writeEndTag("table"),!e&&!r&&this.showPreview&&(i.writeBeginTag("div"),i.writeAttribute("class","wijmo-wijcalendar-nextpreview-button"),i.writeAttribute("role","button"),i.writeAttribute("aria-haspopup","true"),i.writeAttribute("id","nextPreview"),i.writeTagRightChar(),i.writeBeginTag("a"),i.writeAttribute("class",n.icon+" "+n.uiIconGripDottedVertical),i.writeAttribute("href","#"),i.writeAttribute("title",t.nextPreviewTooltip),i.writeAttribute("aria-label",t.nextPreviewTooltip),i.writeAttribute("onclick","return false;"),i.writeTagRightChar(),i.write("&#160;"),i.writeEndTag("a"),i.writeEndTag("div")),i.toString()},e}();t.wijMonthView=f;var l=function(){function e(e,t){this._calendar=e,this._optionName=t?t:"selectedDates",this._normalize()}return e.prototype.getDates=function(){return this._calendar.options[this._optionName]===undefined&&(this._calendar.options[this._optionName]=[]),this._calendar.options[this._optionName]},e.prototype.setDates=function(e){this._calendar.options[this._optionName]=e,this._normalize()},e.prototype.getCount=function(){return this.getDates().length},e.prototype.clear=function(){this.setDates([])},e.prototype.add=function(e){this.addRange(e,e)},e.prototype.remove=function(e){this.removeRange(e,e)},e.prototype.indexOf=function(e){return this.getCount()?this._findRangeBound(e,!0,!1):-1},e.prototype.contains=function(e){return this.indexOf(e)!==-1},e.prototype.removeRange=function(e,t){if(!this.getCount())return;var n=this._findRangeBound(e,!1,!0),r=this._findRangeBound(t,!1,!1),i,s,o;if(n<0||r<0)return;if(n>r)return;i=this.getDates();if(i[r]>t)return;s=n?i.slice(0,n):[],o=r>=i.length-1?[]:i.slice(r+1),this.setDates(s.concat(o))},e.prototype.addRange=function(e,t){this.removeRange(e,t);var n=this.getDates(),r=this._findRangeBound(e,!1,!0),i=r?n.slice(0,r):[],s=n.slice(r),o=[],u;e=a.getDate(e),t=a.getDate(t);for(u=e;u<=t;u=a.addDays(u,1))o[o.length]=u;this.setDates(i.concat(o.concat(s)))},e.prototype._findRangeBound=function(e,t,n){var r=this.getDates(),i=0,s=r.length,o;while(i<s){o=i+s>>1;if(a.isSameDate(e,r[o]))return o;e<r[o]?s=o:i=o+1}return t?-1:n?i:s},e.prototype._parseDate=function(e){var t;e?typeof e=="string"&&(t=e):e=new Date;if(t){t=t.replace(/-/g,"/");try{e=new Date(t),isNaN(e)&&(e=new Date)}catch(n){e=new Date}}return e},e.prototype._normalize=function(){var e=this._calendar.options[this._optionName],t=this,r;n.isArray(e)&&(r=n.map(e,function(e,n){return t._parseDate(e)}),this._calendar.options[this._optionName]=r.sort(function(e,t){return e.getTime()-t.getTime()}))},e}();t.wijDateCollection=l;var c=function(){function e(e){this.gridType="month",this.calendar=e,e&&(this.culture=e._getCulture())}return e.prototype.select=function(e,t){var n=this.calendar.getDisplayDate();switch(this.gridType){case"month":n.setMonth(t);break;case"year":n.setFullYear(t);break;case"decade":n.setFullYear(t)}this.calendar.options.displayDate=n},e.prototype.getSelectedIndex=function(){var e=this.calendar.getDisplayDate(),t=e.getFullYear(),n=Math.floor(t/10)*10-1,r=Math.floor(t/100)*100-10;switch(this.gridType){case"month":return e.getMonth();case"year":return t-n;case"decade":return Math.floor((t-r)/10)}return 0},e.prototype.getTitle=function(){var e=this.calendar.getDisplayDate(),t=e.getFullYear(),n=Math.floor(t/10)*10-1,r=Math.floor(t/100)*100-10;switch(this.gridType){case"month":return t.toString();case"year":return n+1+" - "+(n+10);case"decade":return r+10+" - "+(r+109)}return""},e.prototype.getHtml=function(e,t){e===undefined?e=this.calendar.getDisplayDate():typeof e=="boolean"&&(t=e,e=this.calendar.getDisplayDate()),t=!!t;var n=this.calendar.options,r=3,i=4,s=new u,o=n.wijCSS,a,f,l,c,h,p,d,v,m,g,y,b,w,E;n.showTitle&&!t&&s.write(this.calendar._getHeaderHtml(null,!0,!0)),a=100/r+"%",a="30%",s.writeBeginTag("table"),s.writeAttribute("class",o.datepickerCalendar+" wijmo-wijcalendar-mygrid"),s.writeAttribute("role","grid"),s.writeAttribute("onselectstart","return false;"),s.writeTagRightChar(),f=e.getFullYear(),l=e.getFullYear()*12,c=Math.floor(f/10)*10-1,h=Math.floor(f/100)*100-10,p=this.culture.calendar.months;for(d=0;d<r;d++){s.writeBeginTag("tr"),s.writeAttribute("height",a),s.writeTagRightChar();for(v=0;v<i;v++){m=d*4+v,g=!1,y=!1,b="",w=null;switch(this.gridType){case"month":e.getMonth()===m&&(g=!0),w=m,b=p.namesAbbr[m],y=l+m<n.minDate.getFullYear()*12+n.minDate.getMonth()||l+m>n.maxDate.getFullYear()*12+n.maxDate.getMonth();break;case"year":if(m===0||m===11)y=!0;w=c+m,w<n.minDate.getFullYear()||w>n.maxDate.getFullYear()?y=!0:g=f===w,b=w.toString();break;case"decade":if(m===0||m===11)y=!0;w=h+m*10,w+10<n.minDate.getFullYear()||w>n.maxDate.getFullYear()?y=!0:g=f>=w&&f<w+10,b=w.toString()+"-<br/>"+(w+9).toString()}E=o.datepickerWeekDay,y?E=E+" "+o.datepickerOtherMonth+" "+o.prioritySecondary+" "+o.datepickerUnselectable:!n.disabledState&&!n.disabled&&(E+=" wijmo-wijcalendar-day-selectable"),E+=" "+o.stateDefault+(y?" "+o.stateDisabled:"")+(g?" "+o.stateActive+" "+o.stateHighlight:""),s.writeBeginTag("td"),s.writeAttribute("class",E),s.writeAttribute("role","gridcell"),s.writeAttribute("index",m.toString()),s.writeAttribute("value",w.toString()),s.writeAttribute("other",y.toString()),s.writeTagRightChar(),s.writeBeginTag("a"),s.writeAttribute("href","#"),s.writeTagRightChar(),s.write(b),s.writeEndTag("a"),s.writeEndTag("td")}s.writeEndTag("tr")}return s.writeEndTag("table"),s.toString()},e}();t.wijMyGrid=c})(e.calendar||(e.calendar={}));var t=e.calendar})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijexpander",i=function(t){function r(){t.apply(this,arguments)}return __extends(r,t),r.prototype._setOption=function(e,t){switch(e){case"contentUrl":t?this.element.find("> ."+this.options.wijCSS.content).wijContent(t):this.element.find("> ."+this.options.wijCSS.content).html("");break;case"disabled":t?(this.element.addClass(this.options.wijCSS.stateDisabled).find("> .ui-expander-header").addClass(this.options.wijCSS.stateDisabled),this.element.find("> ."+this.options.wijCSS.content).addClass(this.options.wijCSS.stateDisabled)):(this.element.removeClass(this.options.wijCSS.stateDisabled).find("> .ui-expander-header").removeClass(this.options.wijCSS.stateDisabled),this.element.find("> ."+this.options.wijCSS.content).removeClass(this.options.wijCSS.stateDisabled));break;case"expandDirection":this._onDirectionChange(t,!0,this.options.expandDirection);break;case"expanded":t?this.expand():this.collapse();return;default:}n.wijmo.widget.prototype._setOption.apply(this,arguments)},r.prototype._create=function(){var t=this.options,r=this.element.children(),i,s,o=t.wijCSS;window.wijmoApplyWijTouchUtilEvents&&(n=window.wijmoApplyWijTouchUtilEvents(n)),this.element.addClass("wijmo-wijexpander ui-expander "+t.wijCSS.widget+" ui-expander-icons"),i=n(r[0]),s=n(r[1]);if(t.expandDirection==="left"||t.expandDirection==="top")i.remove(),i.insertAfter(s);i.addClass("ui-expander-header"),i.attr("role","tab"),s.attr("role","tabpanel"),i.find("> a").length===0&&i.wrapInner('<a href="javascript:void(null)"></a>'),i.find("> ."+e.getCSSSelector(o.icon)).length===0&&n("<span></span>").addClass(o.icon).insertBefore(n("> a",i)[0]),s.addClass("ui-expander-content "+o.content)},r.prototype._init=function(){var t=this.options;this._onDirectionChange(t.expandDirection,!1),t.contentUrl&&n("."+t.wijCSS.content,this.element).wijContent(this.options.contentUrl),t.expanded?(this.element.find("> .ui-expander-header").addClass(t.wijCSS.stateDefault+" "+t.wijCSS.stateActive).attr({"aria-expanded":"true",tabIndex:0}).addClass(this._headerCornerOpened).find("> ."+e.getCSSSelector(t.wijCSS.icon)).addClass(this._triangleIconOpened),this.element.find("> .ui-expander-content").addClass("ui-expander-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility()):(this.element.find("> .ui-expander-content").hide(),this.element.find("> .ui-expander-header").addClass(t.wijCSS.stateDefault+" "+t.wijCSS.cornerAll).attr({"aria-expanded":"false",tabIndex:-1}).find("> ."+e.getCSSSelector(t.wijCSS.icon)).addClass(this._triangleIconClosed)),t.disabled&&(this.element.addClass(t.wijCSS.stateDisabled).find("> .ui-expander-header").addClass(t.wijCSS.stateDisabled),this.element.find("> .ui-expander-content").addClass(t.wijCSS.stateDisabled)),this._bindLiveEvents()},r.prototype.destroy=function(){var e=this.options;this._unbindLiveEvents(),this.element.removeClass("wijmo-wijexpander ui-expander "+e.wijCSS.widget+" ui-helper-reset ui-expander-icons"),n.wijmo.widget.prototype.destroy.apply(this,arguments)},r.prototype._bindLiveEvents=function(){var e=this.options;this.element.on("click.wijexpander",">.ui-expander-header",jQuery.proxy(this._onHeaderClick,this)),this.element.on("mouseenter.wijexpander",".ui-expander-header",function(){n(this).addClass(e.wijCSS.stateHover)}),this.element.on("mouseleave.wijexpander",".ui-expander-header",function(){n(this).removeClass(e.wijCSS.stateHover)}),this.element.on("focus.wijexpander",".ui-expander-header",function(){n(this).addClass(e.wijCSS.stateFocus)}),this.element.on("blur.wijexpander",".ui-expander-header",function(){n(this).removeClass(e.wijCSS.stateFocus)})},r.prototype._unbindLiveEvents=function(){this.element.off(".wijexpander",".ui-expander-header")},r.prototype._onDirectionChange=function(e,t,r){typeof r=="undefined"&&(r=null);var i,s,o,u,a,f,l,c,h=this.options;r&&r!==e&&this.element.removeClass("ui-expander-"+r),t&&(s=this.element.find(".ui-expander-header."+this._headerCornerOpened),s.removeClass(this._headerCornerOpened),o=this.element.find(".ui-expander-content."+this._contentCornerOpened),o.removeClass(this._contentCornerOpened),u=this.element.find("."+this._triangleIconOpened),a=this.element.find("."+this._triangleIconClosed),u.removeClass(this._triangleIconOpened),a.removeClass(this._triangleIconClosed));switch(e){case"top":this._headerCornerOpened="ui-corner-bottom",this._contentCornerOpened="ui-corner-top",this._triangleIconOpened=h.wijCSS.iconArrowUp,this._triangleIconClosed=h.wijCSS.iconArrowRight,i=!0,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("ui-expander-top");break;case"right":this._headerCornerOpened="ui-corner-left",this._contentCornerOpened="ui-corner-right",this._triangleIconOpened=h.wijCSS.iconArrowRight,this._triangleIconClosed=h.wijCSS.iconArrowDown,i=!1,this.element.addClass("ui-helper-horizontal"),this.element.addClass("ui-expander-right");break;case"left":this._headerCornerOpened="ui-corner-right",this._contentCornerOpened="ui-corner-left",this._triangleIconOpened=h.wijCSS.iconArrowLeft,this._triangleIconClosed=h.wijCSS.iconArrowDown,i=!0,this.element.addClass("ui-helper-horizontal"),this.element.addClass("ui-expander-left");break;default:this._headerCornerOpened="ui-corner-top",this._contentCornerOpened="ui-corner-bottom",this._triangleIconOpened=h.wijCSS.iconArrowDown,this._triangleIconClosed=h.wijCSS.iconArrowRight,i=!1,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("ui-expander-bottom")}f=this.element.data("rightToLeft"),this.element.data("rightToLeft",i),t&&(u.addClass(this._triangleIconOpened),a.addClass(this._triangleIconClosed),s.addClass(this._headerCornerOpened),o.addClass(this._contentCornerOpened)),t&&i!==f&&this.element.children(".ui-expander-header").each(function(e,t){c=n(this),i?(l=c.next(".ui-expander-content"),c.remove(),c.insertAfter(l)):(l=c.prev(".ui-expander-content"),c.remove(),c.insertBefore(l))})},r.prototype.collapse=function(){var t=this.options,r,i,s,o;if(!t.allowExpand)return;return this.element.hasAllClasses(t.wijCSS.stateDisabled)?!1:this._trigger("beforeCollapse")?(t.animated?(r={expand:!1,content:this.element.find("> .ui-expander-content"),complete:jQuery.proxy(function(){this.element.find("> .ui-expander-content").removeClass("ui-expander-content-active"),this._trigger("afterCollapse"),this.element.find("> .ui-expander-content").css("display","")},this),horizontal:this.element.hasClass("ui-helper-horizontal")},i=n.wijmo.wijexpander.animations,s=t.duration,o=t.animated,o&&!i[o]&&!n.easing[o]&&(o="slide"),i[o]||(i[o]=function(e){this.slide(e,{easing:o,duration:s||700})}),i[o](r)):(this.element.find("> .ui-expander-content").hide(),this._trigger("afterCollapse")),this.element.find("> .ui-expander-header").removeClass(t.wijCSS.stateActive).removeClass(this._headerCornerOpened).attr({"aria-expanded":"false",tabIndex:-1}).addClass(t.wijCSS.stateDefault+" "+t.wijCSS.cornerAll).find("> ."+e.getCSSSelector(t.wijCSS.icon)).removeClass(this._triangleIconOpened).addClass(this._triangleIconClosed),this.options.expanded=!1,!0):!1},r.prototype.expand=function(){var t=this.options,r,i,s,o;if(!t.allowExpand)return;return this.element.hasAllClasses(t.wijCSS.stateDisabled)?!1:this._trigger("beforeExpand")?(t.animated?(r={expand:!0,content:this.element.find("> .ui-expander-content"),complete:jQuery.proxy(function(){this.element.find("> .ui-expander-content").addClass("ui-expander-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility(),this._trigger("afterExpand"),this.element.find("> .ui-expander-content").css("display","")},this),horizontal:this.element.hasClass("ui-helper-horizontal")},i=n.wijmo.wijexpander.animations,s=t.duration,o=t.animated,o&&!i[o]&&!n.easing[o]&&(o="slide"),i[o]||(i[o]=function(e){this.slide(e,{easing:o,duration:s||700})}),i[o](r)):(this.element.find("> .ui-expander-content").show(),this._trigger("afterExpand")),this.element.find("> .ui-expander-header").removeClass(t.wijCSS.cornerAll).addClass(t.wijCSS.stateActive).addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> ."+e.getCSSSelector(t.wijCSS.icon)).removeClass(this._triangleIconClosed).addClass(this._triangleIconOpened),this.options.expanded=!0,!0):!1},r.prototype._onHeaderClick=function(e){this.option("expanded",!this.options.expanded)},r}(e.wijmoWidget);t.wijexpander=i;var s=function(){function e(){this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-content ui-body ui-body-b"},this.initSelector=":jqmData(role='wijexpander')",this.allowExpand=!0,this.animated="slide",this.contentUrl="",this.expanded=!0,this.expandDirection="bottom",this.beforeCollapse=null,this.beforeExpand=null,this.afterCollapse=null,this.afterExpand=null}return e}();i.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new s),n.wijmo.registerWidget(r,i.prototype),n.extend(n.wijmo.wijexpander,{animations:{slide:function(e,t){var r;e=n.extend({easing:"swing",duration:300},e,t),e.expand?(e.horizontal?r={width:"show",opacity:"show"}:r={height:"show",opacity:"show"},e.content.stop(!0,!0).animate(r,e)):(e.horizontal?r={width:"hide",opacity:"hide"}:r={height:"hide",opacity:"hide"},e.content.stop(!0,!0).animate(r,e))}}})})(e.expander||(e.expander={}));var t=e.expander})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijmenu",i=function(t){function r(){t.apply(this,arguments)}return __extends(r,t),r._itemWidgetName="wijmenuitem",r.prototype._preventEvent=function(e){e.preventDefault(),e.stopImmediatePropagation()},r.prototype._initState=function(){var e=this;e.options.items||(e.options.items=[])},r.prototype._create=function(){var e=this,t=e.options,r=e.element,i=t.disabled;e._initState(),r.is(":hidden")&&r.wijAddVisibilityObserver&&r.wijAddVisibilityObserver(function(){e.refresh(),r.wijRemoveVisibilityObserver&&r.wijRemoveVisibilityObserver()},"wijmenu"),r.data("wijmomenu",n.camelCase(e.widgetFullName)),e.clickNameSpace="click.wijmenudoc"+e._newId(),r.hide(),e.cssPre="wijmo-wijmenu",e.nowIndex=9999,e.activeItem=null,e.refresh(),r.attr("tabIndex",0),e._getDisabled()&&(e.disable(),t.disabledState===!0&&(t.disabled=i)),e._bindKeyDownEvent()},r.prototype._bindKeyDownEvent=function(){var t=this,n=t.options,i=n.direction,s=n.mode,o=e.getKeyCodeEnum(),u,a;t.element.on("keydown.wijmenuEvent",function(e){if(t._getDisabled())return;s==="sliding"&&t._getSublist().stop(!0,!0);var f=t.activeItem,l,c,h=n.orientation;f?(l=f._isRoot(),u=f._getSublist()):l=!0;switch(e.keyCode){case o.PAGE_UP:t.previousPage(e),t._preventEvent(e);break;case o.PAGE_DOWN:t.nextPage(e),t._preventEvent(e);break;case o.UP:if(h==="vertical"||s==="sliding"||!l)t.previous(e),t._preventEvent(e);break;case o.DOWN:h==="vertical"||s==="sliding"||!l?(t.next(e),t._preventEvent(e)):f&&s==="flyout"&&r._hasVisibleSubMenus(f)&&u.is(":hidden")&&f._showFlyoutSubmenu(e,function(){t.activate(e,f._getFirstSelectableSubItem())});break;case o.RIGHT:h==="horizontal"&&l&&s==="flyout"?(i==="rtl"?t.previous(e):t.next(e),t._preventEvent(e)):f&&(a=f.getParent(),i==="rtl"?t._keyDownToCloseSubmenu(s,e,a):t._keyDownToOpenSubmenu(f,s,e,u));break;case o.LEFT:h==="horizontal"&&l&&s==="flyout"?(i==="rtl"?t.next(e):t.previous(e),t._preventEvent(e)):(f&&(a=f.getParent()),i==="rtl"?t._keyDownToOpenSubmenu(f,s,e,u):t._keyDownToCloseSubmenu(s,e,a));break;case o.ENTER:if(!f)return;c=f._getLink();if(s==="flyout")break;t.select(),c.is("a")&&c.attr("href")==="#"&&t._preventEvent(e);break;case o.TAB:t.next(e),t._preventEvent(e)}})},r.prototype._keyDownToOpenSubmenu=function(e,t,n,i){var s=this;t==="flyout"&&r._hasVisibleSubMenus(e)?i.is(":hidden")&&e._showFlyoutSubmenu(n,function(){s.activate(n,e._getFirstSelectableSubItem())}):t==="sliding"&&i.length>0&&e._getLink().trigger("click",e._getFirstSelectableSubItem())},r.prototype._keyDownToCloseSubmenu=function(e,t,r){var i=this,s=i.options,o;e==="flyout"?r&&(r._hideCurrentSubmenu(t),i.activate(t,r)):(s.backLink&&i._backLink&&i._backLink.is(":visible")&&i._backLink.trigger("click",function(){r&&i.activate(t,r)}),o=n("."+s.wijCSS.wijmenuBreadcrumb,i.domObject.menucontainer).find("li a"),o.length>0&&o.eq(o.length-2).trigger("click",function(){r&&i.activate(t,r)}))},r.prototype._createMenuItems=function(){var e=this,t=[],i=e.options,s=e.options.items.length,o=e._getSublist().children("li").length,u,a,f;for(u=0;u<s-o;u++)e._getSublist().append("<li>");return i.ensureSubmenuOnBody&&i.mode==="flyout"&&(e._submenuContainer=n("<div>").addClass(i.wijCSS.helperReset).addClass(i.wijCSS.widget).addClass(i.wijCSS.header).addClass(i.wijCSS.wijmenu).addClass(i.wijCSS.wijmenuSubmenuContainer),i.orientation==="horizontal"&&i.mode==="flyout"&&e._submenuContainer.addClass(i.wijCSS.wijmenuHorizontal),f=n("<ul>").addClass(i.wijCSS.wijmenuList).addClass(i.wijCSS.helperReset).data(n.camelCase(e.widgetFullName),e).data("wijmomenu",n.camelCase(e.widgetFullName))),n(">li",e._getSublist()).each(function(s,o){var u=n(this),l=r._getMenuItemOptions(i,s),c,h;return a=e._createItemWidget(u,l),t.push(a),i.items[s]=a.options,i.ensureSubmenuOnBody&&i.mode==="flyout"&&(h=a._getSublist(),e._bindMousehoverEvent(h),h.children().length>0&&(c=n("<li>").addClass(i.wijCSS.widget).addClass(i.wijCSS.wijmenuItem).addClass(i.wijCSS.stateDefault).addClass(i.wijCSS.cornerAll).addClass(i.wijCSS.wijmenuParent).addClass(i.wijCSS.header).append(h),n(c).appendTo(f))),i.ensureSubmenuOnBody&&i.mode==="flyout"&&n(e._submenuContainer).append(f).appendTo("body"),this}),t},r.prototype._createItemWidget=function(e,t){var i=r._itemWidgetName;return n.fn[i]&&e[i](t),r._getItemWidget(e)},r.prototype._handleDisabledOption=function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo(n.domObject.menucontainer)):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},r.prototype._getDisabled=function(){var e=this.options;return e.disabledState===!0||e.disabled===!0},r.prototype._createDisabledDiv=function(e){return n("<div></div>").css({"z-index":"99999",position:"absolute",width:"100%",height:"100%",left:0,top:0})},r.prototype._innerDestroy=function(){var e=this,t=e.options;e.destroying=!0,e[t.mode==="flyout"?"_killFlyout":"_killDrilldown"](),e._killMenuItems(),e._killtrigger(),e._killElement(),t.ensureSubmenuOnBody&&t.mode==="flyout"&&e._submenuContainer&&e._submenuContainer.remove(),e.destroying=!1},r.prototype.destroy=function(){var e=this;e._handleDisabledOption(!1,e.domObject.menucontainer),e._innerDestroy(),t.prototype.destroy.call(this)},r.prototype.activate=function(e,t){if(!t)return;var n=this,i=n.options,s=n.domObject.scrollcontainer,o,u,a=!1,f=!0;o=(t.jquery?t:t.element).eq(0);if(n.activeItem&&n.activeItem.element.get(0)===o.get(0))return;n.deactivate(e),n.activeItem=r._getItemWidget(o),u=o.children(":first"),n._trigger("focus",e,{item:n.activeItem}),n.options.mode==="sliding"&&(f=o.parent().is("."+i.wijCSS.wijmenuCurrent),a=f&&n._hasScroll()&&s.wijsuperpanel("needToScroll",o),a&&(n._linkContainer.link=u,n._linkContainer.needToFocus=!0,s.wijsuperpanel("scrollChildIntoView",o))),u.addClass(i.wijCSS.stateFocus).end(),u.attr("id")||(u.attr("id",this._newId()),u.data("generatedID",!0)),n.element.attr("aria-activedescendant",u.attr("id")),f&&!a&&u.is("a")&&u.focus()},r.prototype.deactivate=function(e){var t=this,n=t.options,r=t.activeItem;if(!r)return;t.element.removeAttr("aria-activedescendant"),setTimeout(function(){r._getLink().removeClass(n.wijCSS.stateFocus),r._getLink().data("generatedID")&&r._getLink().removeAttr("id"),t._trigger("blur")},0),t.activeItem=null},r.prototype.next=function(e){this._move("next",function(e){return e._getFirstSelectableSubItem()},e)},r.prototype.previous=function(e){this._move("previous",function(e){return e._getLastSelectableSubItem()},e)},r.prototype.first=function(){var e=this,t,n,r;return e.activeItem?(t=e._getActiveItemElement(),n=e.activeItem._getParentOrMenu(),r=n._getFirstSelectableSubItem(),r&&t[0]===r.element[0]):!1},r.prototype.last=function(){var e=this,t,n,r;return e.activeItem?(t=e._getActiveItemElement(),n=e.activeItem._getParentOrMenu(),r=n._getLastSelectableSubItem(),r&&t[0]===r.element[0]):!1},r.prototype.nextPage=function(e){var t=this,i=t._getActiveItemElement(),s,o,u,a,f;i?a=t.activeItem._getParentOrMenu():(a=t,i=t._getFirstSelectableSubItem());if(t.options.mode==="sliding"&&t._hasScroll()){if(!i||t.last()){t.activate(e,a._getFirstSelectableSubItem());return}s=i.offset().top,o=t.options.maxHeight,u=r._getSelectableSubItems(a,function(e){var t=n(e.element),r=o-(t.offset().top-s+t.height()),i=t.height();return r<i&&r>-i}),u.length?u=u[u.length-1]:u=a._getLastSelectableSubItem(),t.activate(e,u)}else!i||t.last()?f=a._getFirstSelectableSubItem():f=a._getLastSelectableSubItem(),t.activate(e,f)},r.prototype.previousPage=function(e){var t=this,i=t._getActiveItemElement(),s,o,u,a,f;i?a=t.activeItem._getParentOrMenu():(a=t,i=t._getFirstSelectableSubItem());if(t.options.mode==="sliding"&&t._hasScroll()){if(!i||t.first()){t.activate(e,a._getLastSelectableSubItem());return}s=i.offset().top,o=t.options.maxHeight,u=r._getSelectableSubItems(a,function(e){var t=n(e.element),r=t.offset().top-s+o-t.height(),i=t.height();return r<i&&r>-i}),u.length?u=u[0]:u=a._getFirstSelectableSubItem(),t.activate(e,u)}else!i||t.first()?f=a._getLastSelectableSubItem():f=a._getFirstSelectableSubItem(),t.activate(e,f)},r.prototype.select=function(e){var t=this,n=t.activeItem,r;t._trigger("select",e,{item:n}),t.options.checkable&&(r=!n.options.selected,n._setOption("selected",r))},r.prototype._getActiveItemElement=function(){return this.activeItem?this.activeItem.element:null},r.prototype.setItemDisabled=function(e,t){var r=n(e,this.element),i=this.options;r.find("."+i.wijCSS.wijmenuItem+">a").attr("disabled",t),r.find(">a").toggleClass(i.wijCSS.stateDisabled,t)},r.prototype._setOption=function(e,t){var n=this;if(n.destroying)return;n["_set_"+e]&&n["_set_"+e](t),n.options[e]=t,e==="disabled"&&n._handleDisabledOption(t,n.domObject.menucontainer)},r.prototype._set_items=function(e){var t=this;t._getSublist().children().remove(),t.options.items=e,t.refresh()},r.prototype._set_mode=function(e){var t=this;t._innerDestroy(),t.options.mode=e,t.refresh()},r.prototype._set_backLink=function(e){var t=this,r=t.options,i;this.options.backLink=e,t.options.mode==="sliding"&&(t._killDrilldown(),t._drilldown(),i=n("."+r.wijCSS.wijmenuBreadcrumb,t.domObject.menucontainer),t._resetDrilldownMenu(i))},r.prototype._set_direction=function(e){var t=this;t._innerDestroy(),t.refresh()},r.prototype._set_orientation=function(e){var t=this,r=t.domObject.menucontainer,i=t.options.direction,s="ui-icon-triangle-1-",o=i==="rtl"?"w":"e",u=e==="horizontal"?o:"s",a=e==="horizontal"?"s":o;r.removeClass(t.cssPre+"-vertical "+t.cssPre+"-horizontal"),t.options.mode==="flyout"?(r.addClass(t.cssPre+"-"+e),n.each(t.getItems(),function(e,t){if(t.getItems().length===0)return;t._getLink().find("."+s+u).removeClass(s+u+" "+s+a).addClass(s+a)})):r.addClass(t.cssPre+"-vertical")},r.prototype._getTriggerEle=function(){return r._getOuterElement(this.options.trigger,"."+this.options.wijCSS.wijmenu)},r.prototype._set_triggerEvent=function(e){var t=this,n=t.options,r=t._getTriggerEle();t._killtrigger(),n.triggerEvent=e,r.length>0&&t._initTrigger(r),n.mode==="flyout"&&(t._killFlyout(),t._flyout())},r.prototype._set_trigger=function(e){var t=this,n=t.options,r;t._killtrigger(),n.trigger=e,r=t._getTriggerEle(),r.length>0&&t._initTrigger(r),n.mode==="flyout"&&(t._killFlyout(),t._flyout())},r.prototype._initTrigger=function(e){var t=this,r=t.options,i=r.triggerEvent,s=t.domObject.menucontainer,o=".wijmenuEvent";e.is("iframe")&&(e=n(e.get(0).contentWindow.document));switch(i){case"click":e.on(i+o,function(e){r.mode!=="popup"&&t._displayMenu(e),e.stopPropagation()});break;case"mouseenter":e.on(i+o,function(e){t._displayMenu(e),e.stopPropagation()});break;case"dblclick":e.on(i+o,function(e){t._displayMenu(e),e.stopPropagation()});break;case"rtclick":e.on("contextmenu"+o,function(e){s.hide(),t._displayMenu(e),e.preventDefault(),e.stopPropagation()})}},r.prototype._killtrigger=function(){var e=this.options,t;e.trigger!==""&&(t=n(e.trigger),t.is("iframe")&&(t=n(t.get(0).contentWindow.document)),t&&t.length>0&&t.off(".wijmenuEvent").off("wijmenuEvent"))},r.prototype._move=function(e,t,n){var i=this,s=i._getActiveItemElement(),o,u,a;if(!s||!s.length){i.activate(n,t(i));return}a=r._getItemWidget(s),o=a[e](),u=a._getParentOrMenu(),o?i.activate(n,o):i.activate(n,t(u))},r.prototype._bindMousehoverEvent=function(e){var t=this,r=t.options;e.delegate("li>."+r.wijCSS.wijmenuLink,"mouseenter.wijmenuEvent",function(){var e=n(this),i=e.hasAllClasses(r.wijCSS.stateDisabled);if(t._getDisabled()||i)return;e.addClass(r.wijCSS.stateHover).addClass(r.wijCSS.stateDefault)}).delegate("li>."+r.wijCSS.wijmenuLink,"mouseleave.wijmenuEvent",function(){var e=n(this),i=e.hasAllClasses(r.wijCSS.stateDisabled);if(t._getDisabled()||i)return;e.removeClass(r.wijCSS.stateHover).removeClass(r.wijCSS.stateDefault),e.data("subMenuOpened")&&e.addClass(r.wijCSS.stateActive)})},r.prototype.refresh=function(){var e=this,t=e.element,r=e.options,i=r.direction,s,o,u,a;e.domObject&&e._innerDestroy();if(t.is("ul"))e._rootMenu=t,s=t.wrap("<div></div>").parent(),o=s.wrap("<div></div>").parent();else{if(!t.is("div"))return;e._rootMenu=n("ul:first",t),s=t,o=t.wrap("<div></div>").parent()}i==="rtl"&&e._rootMenu.addClass(r.wijCSS.wijmenuRtl),s.addClass("scrollcontainer checkablesupport"),o.addClass(r.wijCSS.widget).addClass(r.wijCSS.header).addClass(r.wijCSS.wijmenu).addClass(r.wijCSS.cornerAll).addClass(r.wijCSS.helperClearFix),r.orientation==="horizontal"&&r.mode==="flyout"&&o.addClass(r.wijCSS.wijmenuHorizontal),u={scrollcontainer:s,menucontainer:o},e.domObject=u,e._getSublist().data("topmenu",!0),e._getSublist().hasAllClasses(r.wijCSS.wijmenuList)||e._getSublist().addClass(r.wijCSS.wijmenuList).addClass(r.wijCSS.helperReset),e._items=e._createMenuItems(),t.show(),e._bindMousehoverEvent(t),this[r.mode==="flyout"?"_flyout":"_drilldown"](),r.trigger!==""&&(a=e._getTriggerEle(),a.length>0&&(o.hide(),e._initTrigger(a))),e._bindDocClick()},r.prototype._bindDocClick=function(){var e=this;n(document).on(e.clickNameSpace,function(t){var r=e.options,i=r.trigger,s=e.domObject.menucontainer,o=e._getTriggerEle(),u,a;if(n(t.target).parent().is("."+r.wijCSS.wijmenuAllLists))return;if(n(t.target).closest(i).is(i))return;a=n(t.target).closest("."+r.wijCSS.wijmenu);if(a.length>0)return;if(r.mode==="sliding"){u=n("."+r.wijCSS.wijmenuBreadcrumb,s);if(i==="")return;e._resetDrilldownMenu(u)}else if(r.mode==="flyout"&&r.triggerEvent!=="mouseenter"){e._hideAllMenus(t);return}o&&o.length>0&&e._hideMenu(t)})},r.prototype._flyout=function(){var e=this,t=e.domObject.menucontainer,r=e.options,i=e.getItems();t.attr("role","menu"),r.orientation==="horizontal"&&t.attr("role","menubar"),n.each(i,function(e,t){t._flyout()})},r.prototype._hideAllMenus=function(e){var t=this,r,i,s=function(t){t.getItems&&t.getItems().length>0&&(n.each(t.getItems(),function(e,t){s(t)}),t._hideSubmenu(!1,e))};n.each(t._items,function(e,t){s(t)});if(t.options.trigger!==""){r=t.domObject.menucontainer;if(r.data("isAnimated"))return;i=t._getTriggerEle();if(i.length===0)return;t._hideMenu(e)}},r.prototype.hideAllMenus=function(e){this._hideAllMenus(e)},r.prototype._killFlyout=function(){n.each(this.getItems(),function(){this._killFlyout()})},r.prototype._killElement=function(){var e=this,t=e.options,r=e._getSublist();r.removeClass(t.wijCSS.wijmenuList).removeClass(t.wijCSS.helperReset).removeClass(t.wijCSS.wijmenuContent).removeClass(t.wijCSS.helperClearFix),n(document).off(e.clickNameSpace),e.element.is("ul")?e.element.unwrap().unwrap():e.element.unwrap(),e.domObject=null,e.element.removeData("topmenu").removeData("firstLeftValue").removeData("domObject"),r.undelegate(".wijmenuEvent")},r.prototype._killMenuItems=function(){var e=this,t=e.getItems(),n;for(n=t.length-1;n>=0;n--)t[n].destroy(!0);e._items.length=0},r.prototype._sroll=function(){var e=this.domObject.scrollcontainer,t=n.extend({hScroller:{scrollBarVisibility:"hidden"}},this.options.superPanelOptions);e.height(this.options.maxHeight),e.wijsuperpanel(t)},r.prototype._initScrollCallback=function(){var e=this,t=e.domObject.scrollcontainer;e._linkContainer={link:null,needToFocus:!1},t.wijsuperpanel({scrolled:function(){var t=e._linkContainer.link;e._linkContainer.needToFocus&&t&&t.is("a")&&(t.focus(),e._linkContainer.needToFocus=!1)}})},r.prototype._resetScroll=function(e){var t=this,n=t._rootMenu.parent(),r=5,i=t.domObject.scrollcontainer,s=e._getSublist();n.height(s.height()),i.wijsuperpanel("option","hScroller",{scrollValue:0}),i.wijsuperpanel("option","vScroller",{scrollValue:0}),i.wijsuperpanel("paintPanel"),t._hasScroll()&&(s.prev().length>0&&(r=s.prev().css("padding-left").replace(/px/g,"")),s.width(i.find(".wijmo-wijsuperpanel-contentwrapper:first").width()-r),n.height(s.height()),i.wijsuperpanel("paintPanel"))},r.prototype._hasScroll=function(){var e=this.domObject.scrollcontainer;return e.data("wijmo-wijsuperpanel").vNeedScrollBar},r.prototype._resetDrillChildMenu=function(e){var t=this.options.wijCSS;e.removeClass(t.wijmenuScroll).removeClass(t.wijmenuCurrent).height("auto")},r.prototype._resetDrilldownMenu=function(e,t){var r=this,i=r.options,s=r._getSublist(),o=r.domObject.menucontainer,u=n("<li>"+i.crumbDefaultText+"</li>").addClass(i.wijCSS.wijmenuBreadcrumbText),a=function(e){n.each(e,function(e,t){var n=t._getSublist(),i=t.getItems();n.hide(),r._resetDrillChildMenu(n),i.length>0&&a(i)})};n("."+i.wijCSS.wijmenuCurrent,o).removeClass(i.wijCSS.wijmenuCurrent),s.animate({left:0},i.showDuration,null,function(){a(r.getItems()),s.addClass(i.wijCSS.wijmenuCurrent),t&&t()}),n("."+i.wijCSS.wijmenuAllLists,o).find("span").remove(),e.empty().append(u),n("."+i.wijCSS.wijmenuFooter,o).empty().hide(),r._resetScroll(r)},r.prototype._drilldown=function(){var e=this,t=e._getSublist(),r=e.domObject.menucontainer.attr("role","menu"),i,s=e.options,o=n("<ul></ul>").addClass(s.wijCSS.wijmenuBreadcrumb).addClass(s.wijCSS.stateDefault).addClass(s.wijCSS.cornerAll).addClass(s.wijCSS.helperClearFix),u=n("<li>"+s.crumbDefaultText+"</li>").addClass(s.wijCSS.wijmenuBreadcrumbText);t.wrap("<div>").parent().css("position","relative"),r.addClass(s.wijCSS.wijmenuIpod).addClass(s.wijCSS.wijmenuContainer),s.backLink?o.addClass(s.wijCSS.wijmenuFooter).appendTo(r).hide():o.addClass(s.wijCSS.wijmenuHeader).prependTo(r),s.backLink||o.append(u),i=r.width(),t.addClass(s.wijCSS.wijmenuContent).addClass(s.wijCSS.wijmenuCurrent).addClass(s.wijCSS.content).addClass(s.wijCSS.helperClearFix).css({width:i}),n.each(e.getItems(),function(e,t){t._setDrilldownUlStyle()}),e._sroll(),e._initScrollCallback(),e._resetScroll(e),e.element.data("firstLeftValue",parseFloat(t.css("left"))),e._bindDrillDownClick(o)},r.prototype._bindDrillDownClick=function(e){var t=this,i=t.options,s="li>."+i.wijCSS.wijmenuLink,o=t._getSublist();o.delegate(s,"click",function(s,u){var a=n(this).parent(),f=a.attr("disabled"),l,c,h,p,d,v,m,g,y,b=r._getItemWidget(a),w,E,S=i.direction,x=t.domObject.menucontainer,T=n('<li><a href="#">'+i.topLinkText+"</a></li>").addClass(i.wijCSS.wijmenuAllLists);if(t._getDisabled()||f)return;if(t._isSliding)return;o.stop(!0,!0),y=r._hasVisibleSubMenus(b);if(!y){t._leafNodeClick(s,b,e);return}l=b._getSublist();if(l.hasAllClasses(i.wijCSS.wijmenuCurrent))return;if(!t._trigger("showing",s,b))return;t._isSliding=!0,c=b._getParentOrMenu()._getSublist(),h=c.data("topmenu")?0:parseFloat(o.css("left")),S==="rtl"?v=Math.round(h+parseFloat(x.width().toString())):v=Math.round(h-parseFloat(x.width().toString())),m=n("."+i.wijCSS.wijmenuFooter,x),g=function(e,s){var o=e,u=n("."+i.wijCSS.wijmenuCurrent,x),a,f;if(u.get(0)===t._getSublist().get(0))return;s?(a=s._getSublist(),f=s):(a=u.parent().closest("ul",x[0]),f=r._getItemWidget(u.parent())._getParentOrMenu()),u.hide().attr("aria-expanded","false"),t._resetDrillChildMenu(u),t._resetScroll(f),a.addClass(i.wijCSS.wijmenuCurrent).attr("aria-expanded","true"),a.hasAllClasses(i.wijCSS.wijmenuContent)&&(o.remove(),m.hide())},t._resetDrillChildMenu(c),t._resetScroll(b),t._slidingAnimation(o,v,function(){t._trigger("shown",s,b),t.activate(s,u||b),t.select(s),t._isSliding=!1}),l.show().addClass(i.wijCSS.wijmenuCurrent).attr("aria-expanded","true"),i.backLink?m.find("a").length===0&&(m.show(),w=n("<span></span>").addClass(i.wijCSS.icon).addClass(i.wijCSS.iconArrowLeft),E=n("<span></span>").addClass(i.wijCSS.wijmenuBacklinktext),t._backLink=n('<a href="#"></a>').append(w).append(E).appendTo(m).click(function(e,r){if(t._getDisabled())return;var i=t._getCurrentItemInSliding(),s=n(this),u;if(!t._trigger("hidding",e,i))return;o.stop(!0,!0);if(S==="rtl")u=Math.round(o.css("left").replace("px",""))-Math.round(x.width());else{u=Math.round(o.css("left").replace("px",""))+Math.round(x.width());if(u>h)return}t._slidingAnimation(o,u,function(){t._trigger("hidden",e,i),g(s),r&&r()}),e.preventDefault()}),E.width(m.width()-w.width()),E.text(i.backLinkText)):(e.find("li").length===1&&(e.empty().append(T),T.find("a").click(function(r,i){var s=n(this).parent(),o=t._getCurrentItemInSliding();t._slidingMenu(r,s,o,null,function(n){n?(g(null,n),i&&i()):t._resetDrilldownMenu(e,i)}),r.preventDefault()})),n("."+i.wijCSS.wijmenuCurrentCrumb,x).removeClass(i.wijCSS.wijmenuCurrentCrumb),p=b._getLink().text(),d=n("<li></li>").addClass(i.wijCSS.wijmenuCurrentCrumb).append(n('<a href="#">'+p+"</a>").addClass(i.wijCSS.wijmenuCrumb)),d.appendTo(e).find("a").click(function(e,r){if(t._getDisabled())return;var s=n(this).parent(),o;s.is("."+i.wijCSS.wijmenuCurrentCrumb)||(o=t._getCurrentItemInSliding(),t._slidingMenu(e,s,o,b,function(e){g(null,e),r&&r()})),e.preventDefault()}),d.prev().append(n("<span></span>").addClass(i.wijCSS.icon).addClass(i.wijCSS.iconCaratRight))),n(this).attr("href")==="#"&&s.preventDefault()})},r.prototype._slidingMenu=function(e,t,n,r,i){var s=this,o=s._getSublist(),u=s.options.direction,a=s.domObject.menucontainer,f=a.width(),l=t.parent().children().length-1,c,h,p,d,v=function(e,t,n){c=(u==="rtl"?1:-1)*t*f,s._slidingAnimation(o,c,function(){n&&n(e)})},m=function(t,n){var r;if(t!==n){r=s._trigger("hidding",e,t);if(r)return l--,d&&d(),d=function(){s._trigger("hidden",e,t)},m(t.getParent(),n)}return t};h=m(n,r),h!==n&&(v(h,l,function(){d&&d(),i&&i(h)}),p=t.parent().children().eq(l),p.addClass("wijmo-wijmenu-current-crumb").find("span").remove(),p.nextAll().remove())},r.prototype._getCurrentItemInSliding=function(){var e=this,t=e.domObject.menucontainer,i=n(".wijmo-wijmenu-current",t),s=r._getItemWidget(i.parent());return s},r.prototype._leafNodeClick=function(e,t,n){var r=this,i=r.options,s;r.activate(e,t),r.select(e),i.trigger&&(s=r._getTriggerEle(),s.length&&(r._hideMenu(e),r._resetDrilldownMenu(n))),t._getLink().attr("href")==="#"&&e.preventDefault()},r.prototype._slidingAnimation=function(e,t,n){var r=this.options.slidingAnimation;r&&!r.disabled?e.stop(!0,!0).animate({left:t},r.duration,r.easing,n):(e.css("left",t),n.call(this))},r.prototype._killDrilldown=function(){var e=this._getSublist(),t=this.options,r=this.domObject,i={width:"",height:""};e.css(i).removeClass(t.wijCSS.content),r.scrollcontainer&&r.scrollcontainer.parent().length>0&&(r.scrollcontainer.css(i),r.scrollcontainer.wijsuperpanel("destroy"),r.scrollcontainer.removeClass("wijmo-wijsuperpanel").append(e)),e.prevAll().remove(),r.menucontainer.removeClass(t.wijCSS.wijmenuIpod).removeClass(t.wijCSS.wijmenuContainer),n("."+t.wijCSS.wijmenuCurrent,r.menucontainer).removeClass(t.wijCSS.wijmenuCurrent),n("."+t.wijCSS.wijmenuBreadcrumb,r.menucontainer).remove(),e.undelegate("li>."+t.wijCSS.wijmenuLink,"click"),n("ul",e).css({left:"",width:""}),e.css("left",""),r.scrollcontainer=r.menucontainer.children(":first")},r.prototype._displayMenu=function(e){var t=this,i=t.options,s,o,u,a=t.domObject.menucontainer,f=n(e.target),l=!r._hasVisibleSubMenus(t);if(a.is(":visible")||l)return;if(!t._trigger("showing",e,t))return;a.show(),t._setPosition(f),t.nowIndex++,t._setZindex(a,t.nowIndex),a.hide(),s={context:a,show:!0},o=i.direction==="rtl"?"right":"left",u=n.extend({},{option:{direction:o}},i.animation,i.showAnimation),r._animateFlyoutMenu(u,s,function(){t._trigger("shown",e,t)}),t._isClickToOpen=i.triggerEvent==="click",this.element.data("shown",!0)},r.prototype._hideMenu=function(e){var t=this,i=t.options,s=this.domObject.menucontainer,o=r.animations,u,a;if(!this.element.data("shown"))return;if(!t._trigger("hidding",e,t))return;this.element.data("shown",!1),n.fn.wijhide?(u={context:s,show:!1},a=n.extend({},i.animation,i.hideAnimation),s.wijhide(a,o,u,null,function(){t._setZindex(s,null),s.attr("aria-hidden",!0),t._trigger("hidden",e,t)})):(s.hide().attr("aria-hidden",!0),t._setZindex(s,null),t._trigger("hidden",e,t))},r.prototype._setZindex=function(e,t){var r=this.domObject,i;if(!r)return;i=r.menucontainer;if(e.get(0)===i.get(0)){t?i.css("z-index",t):i.css("z-index","");return}t?(e.parent().css("z-index",999),e.css("z-index",t),n.browser.msie&&parseInt(n.browser.version)<8&&i.css("z-index")===0&&i.css("z-index",9950)):(e.css("z-index",""),e.parent().css("z-index",""),n.browser.msie&&parseInt(n.browser.version)<8&&n("ul:visible",this._getSublist()).length===0&&i.css("z-index")===9950&&i.css("z-index",""))},r.prototype._setPosition=function(e){var t=this._getPosition(),r={of:e},i=this.domObject.menucontainer;i.css({left:"0",top:"0",position:"absolute"}),i.position(n.extend(r,t))},r.prototype._getPosition=function(){var e=this.options,t=e.direction,r=t==="rtl"?{my:"right top",at:"right bottom"}:{my:"left top",at:"left bottom"};return r=n.extend(r,e.position),r},r.prototype._getFirstSelectableSubItem=function(){return r._getFirstSelectableSubItem(this)},r.prototype._getLastSelectableSubItem=function(){return r._getLastSelectableSubItem(this)},r.prototype.add=function(e,t){r._add(this,e,t)},r.prototype._getSublist=function(){return this._rootMenu},r.prototype.getItems=function(){return this._items},r.prototype.remove=function(e){r._remove(this,e)},r.prototype._newId=function(){var e=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t="",n;for(n=0;n<16;n++)t+=e[Math.round(Math.random()*25)];return t},r.animations={slide:function(e,t){e=n.extend({duration:400,easing:"swing"},e,t),e.show?e.context.stop(!0,!0).animate({height:"show"},e,function(){e.context.attr("aria-hidden",!1)}):e.context.stop(!0,!0).animate({height:"hide"},e,function(){e.context.attr("aria-hidden",!0)})}},r._animateFlyoutMenu=function(t,i,s){var o=i.context;n.fn.wijshow?(o.data("isAnimated",!0),o.wijshow(t,r.animations,i,null,function(){o.data("isAnimated",!1);var e=n.browser;e.msie&&e.version==="9.0"?(o.wrap("<div></div>"),o.unwrap()):e.msie&&e.version==="6.0"&&o.css("overflow",""),o.attr("aria-hidden",!1),s&&s()})):o.show().attr("aria-hidden",!1)},r._getMenuItemOptions=function(t,r){return t?!t.items||!n.isArray(t.items)?{}:r>=t.items.length?{}:t.items[r]:{}},r._getOuterElement=function(t,r){return n(t).filter(function(){return n(this).closest(r).length===0})},r._hasVisibleSubMenus=function(t){var n,r,i;t.jquery?t.data("wijmomenu")?n=t.data(t.data("wijmomenu")):t.data("wijmomenuitem")&&(n=t.data(t.data("wijmomenuitem"))):n=t;if(!n)throw"the arugment 'menuItem' must be an wijmenu or wijmenuitem";r=n.getItems();if(!r.length)return!1;for(i=0;i<r.length;i++)if(r[i].options.displayVisible)return!0;return!1},r._getFirstSelectableSubItem=function(t){var n,r,i=t.getItems();for(n=0;n<i.length;n++){r=i[n].options;if(r.displayVisible!==!1&&!r.header&&!r.separator)return i[n]}return null},r._getLastSelectableSubItem=function(t){var n,r=t.getItems(),i;for(n=r.length-1;n>=0;n--){i=r[n].options;if(i.displayVisible!==!1&&!i.header&&!i.separator)return r[n]}return null},r._getSelectableSubItems=function(t,r){return n.grep(t.getItems(),function(e,t){var n=e.options;return n.header||n.separator||n.displayVisible===!1?!1:r(e,t)},!1)},r._add=function(t,i,s){var o=null,u=n("<li></li>"),a=t._getSublist(),f=t.getItems(),l,c,h=!1;typeof i=="string"?/<(h[1-5]|a)[\s\S]*>[\s\S]*<\/\1>/.test(i)&&u.append(i):n.isPlainObject(i)&&(c=jQuery.extend(!0,{},i));if(!a||a.length<=0)a=n("<ul></ul>"),t.element.append(a),h=!0;(!s||isNaN(s)||s>f.length)&&s!==0&&(s=f.length),f.length>0&&f.length!==s?(l=f[s].element,u.insertBefore(l)):a.append(u),o=t._createItemWidget(u,c);if(o===null||o===undefined)return;r._changeCollection(s,t.getItems(),t.options.items,o),t._bindModeEvents?t._bindModeEvents(o,h):o._bindModeEvents(o,h),h&&t._initUlCssClass()},r._changeCollection=function(t,n,r,i){if(!i){n.splice(t,1),r.splice(t,1);return}n.splice(t,0,i),r.splice(t,0,i.options)},r._remove=function(t,n){var r=t.getItems()[n];r&&r.element&&r.element.remove()},r._getItemWidget=function(t){return t.data(t.data("wijmomenuitem"))},r}(e.wijmoWidget);t.wijmenu=i;var s=function(){function e(){this.initSelector=":jqmData(role='wijmenu')",this.wijCSS={wijmenu:"wijmo-wijmenu",wijmenuHorizontal:"wijmo-wijmenu-horizontal",wijmenuCurrent:"wijmo-wijmenu-current",wijmenuCurrentCrumb:"wijmo-wijmenu-current-crumb",wijmenuBreadcrumb:"wijmo-wijmenu-breadcrumb",wijmenuBreadcrumbText:"wijmo-wijmenu-breadcrumb-text",wijmenuItem:"wijmo-wijmenu-item",wijmenuLink:"wijmo-wijmenu-link",wijmenuList:"wijmo-wijmenu-list",wijmenuScroll:"wijmo-wijmenu-scroll",wijmenuContent:"wijmo-wijmenu-content",wijmenuFooter:"wijmo-wijmenu-footer",wijmenuHeader:"wijmo-wijmenu-header",wijmenuContainer:"wijmo-wijmenu-container",wijmenuIpod:"wijmo-wijmenu-ipod",wijmenuCrumb:"wijmo-wijmenu-crumb",wijmenuAllLists:"wijmo-wijmenu-all-lists",wijmenuPrevList:"wijmo-wijmenu-prev-list",wijmenuRtl:"wijmo-wijmenu-rtl",wijmenuBacklinktext:"wijmo-wijmenu-backlinktext",wijmenuSubmenuContainer:"wijmo-wijmenu-submenu-container",wijmenuParent:"wijmo-wijmenu-parent"},this.wijMobileCSS={header:"ui-header ui-bar-b",content:"ui-body ui-body-b",stateDefault:"ui-btn ui-btn-b",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},this.trigger="",this.triggerEvent="click",this.position={},this.animation={animated:"slide",duration:400,easing:null,option:null},this.showAnimation={},this.hideAnimation={animated:"fade",duration:400,easing:null,option:null},this.showDelay=400,this.hideDelay=400,this.slidingAnimation={duration:400,easing:null},this.mode="flyout",this.superPanelOptions=null,this.checkable=!1,this.orientation="horizontal",this.direction="ltr",this.maxHeight=200,this.backLink=!0,this.backLinkText="Back",this.topLinkText="All",this.crumbDefaultText="Choose an option",this.select=null,this.focus=null,this.blur=null,this.showing=null,this.shown=null,this.hidding=null,this.hidden=null,this.items=null,this.ensureSubmenuOnBody=!1}return e}();i.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new s),function(e){e._map=[],e.link=0,e.separator=1,e.header=2,e.other=3}(t.MarkupType||(t.MarkupType={}));var o=t.MarkupType,u=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._initState=function(){this._items=[],this._resetMarkupValue(),this.options.items||(this.options.items=[])},t.prototype._create=function(){var t=this;t._isMobile&&n.extend(!0,t.options.wijCSS,t.options.wijMobileCSS),t.element.data("wijmomenuitem",n.camelCase(t.widgetFullName)),t._initState(),t._getOrSetOptionsValues(),t._createChildMenuItems(),t._initCssClass(),e.prototype._create.call(this)},t.prototype._refresh=function(){var e=this,t=e.options;e._set_navigateUrl(t.navigateUrl),e._set_target(t.target),e._set_displayVisible(t.displayVisible),e._createChildMenuItems(),e._initCssClass()},t.prototype._setOption=function(t,r){var i=this,s=i.options,o;if(t==="items"){e.prototype._setOption.call(this,t,r),i._set_items(r);return}if(r===s[t])return;e.prototype._setOption.call(this,t,r);if(!n.isFunction(i["_set_"+t]))return;i["_set_"+t](r,!0);switch(t){case"header":case"separator":i._resetMarkupValue(),i._refresh();break;case"displayVisible":o=i.getParent(),o&&o._setSubmenuIcon();break;default:}},t.prototype.index=function(){return this.element.index()},t.prototype._set_selected=function(e){var t=this,n=t.options,r=t._getMenuItemType();r===o.link?t._getLink().toggleClass(n.wijCSS.stateActive,e):n.selected=!1},t.prototype._set_items=function(e){var t=this;t._getSublist().remove(),t._items=[],e.length>0&&(t._createChildMenuItems(),t._initUlCssClass()),t._setSubmenuIcon(e.length>0),t._bindModeEvents(t,!0),t._resetMarkupValue()},t.prototype._bindModeEvents=function(e,t){var n=this,r=e._getMenu(),i=r.options;t&&(n._initUlCssClass(),n._setSubmenuIcon(),n._resetMarkupValue()),i.mode==="flyout"?t?(n._killFlyout(),n._flyout()):e._flyout():(n._setDrilldownUlStyle(),e.element.parent().is(":visible")&&r._resetScroll(e._getParentOrMenu()))},t.prototype._set_text=function(e,t){var n=this,r=n.options;e||t?n._setText(e):r.text=n._getText()},t.prototype._set_navigateUrl=function(e,t){var n=this,r=n.options,i=n._getLink();i.is("a")&&(e||t?i.attr("href",e):r.navigateUrl=i.attr("href"))},t.prototype._set_target=function(e,t){var n=this,r=n.options,i=n._getLink();i.is("a")&&(r.target||t?i.attr("target",e):r.target=i.attr("target")||"")},t.prototype._createIconSpan=function(){var e=this,t=e.options,r=e._getLink(),i,s;return i=n("<span>"),s=r.children("."+t.wijCSS.wijmenuText).wrap("<span>").parent(),s.addClass(t.wijCSS.wijmenuText),s.prepend(i),i},t.prototype._set_iconClass=function(e,t){var n=this,r=n.options,i,s,u,a;if(r.header===!0||r.separator===!0)return;i=n._getLink(),s=i.find("span."+r.wijCSS.wijmenuitemIcon),e?(s.length===0&&(s=n._createIconSpan()),s.addClass(e).addClass(r.wijCSS.wijmenuIconLeft).addClass(r.wijCSS.wijmenuitemIcon),t&&n._set_imagePosition(r.imagePosition)):s.length!==0&&(s.remove(),u=i.children("."+r.wijCSS.wijmenuText),a=u.text(),u.html(""),u.text(a)),n._getMenuItemType()===o.other&&i.addClass(r.wijCSS.wijmenuLink).addClass(r.wijCSS.cornerAll)},t.prototype._set_imagePosition=function(e,t){var n=this,r=n.options,i=n._getLink(),s=i.find(">span>span."+r.wijCSS.wijmenuitemIcon),o=e==="right"?r.wijCSS.wijmenuIconRight:r.wijCSS.wijmenuIconLeft;if(s.length===0)return;s.removeClass(r.wijCSS.wijmenuIconRight).removeClass(r.wijCSS.wijmenuIconLeft).addClass(o)},t.prototype._set_separator=function(e,t){var n=this,r=n.element,i=n.options,s=n._getLink();t&&e===!1?(r.html("").removeClass(i.wijCSS.wijmenuSeparator).removeClass(i.wijCSS.widget).removeClass(i.wijCSS.wijmenuItem).removeClass(i.wijCSS.stateDefault).removeClass(i.wijCSS.cornerAll),n._createMenuItemMarkup(o.link).appendTo(r)):e===!0||s.length===0?(i.separator=!0,i.header=!1,r.html(n._createMenuItemMarkup(o.separator))):i.separator=!1},t.prototype._set_header=function(e,t){var n=this,r=n.element,i=n.options,s=n._getLink();t&&e===!1?(r.html("").removeClass(i.wijCSS.header).removeClass(i.wijCSS.cornerAll).removeClass(i.wijCSS.widget).removeClass(i.wijCSS.wijmenuItem).removeClass(i.wijCSS.stateDefault),n._createMenuItemMarkup(o.link).appendTo(r)):e===!0||s.is("h1,h2,h3,h4,h5")?(i.header=!0,i.separator=!1,s.is("h1,h2,h3,h4,h5")||(s.remove(),s=n._createMenuItemMarkup(o.header),r.append(s))):i.header=!1},t.prototype._set_displayVisible=function(e){var t=this,n=t.element;e?n.show():n.hide()},t.prototype._createMenuItemMarkup=function(e){var t=this,r=t.options,i;return e===o.separator?i=n('<span class="'+r.wijCSS.wijmenuSeparatorContent+'">&nbsp;</span>'):e===o.header?i=n("<h3></h3>").text(r.text):i=n("<a>").text(r.text),i},t.prototype._getMenuItemType=function(e){var t=this,r=t.options,i=t._getLink();return e&&(r=n.extend({},r,e)),r.separator===!0?o.separator:r.header===!0?o.header:i.length===0?r.text?o.link:o.separator:i.is("a")?o.link:i.is("h1,h2,h3,h4,h5")?o.header:o.other},t.prototype._getOrSetOptionsValues=function(){var e=this,t=e.element,n=e.options,r=e._getLink(),i=e._getMenuItemType();i===o.header?(e._set_header(n.header),e._set_text(n.text)):i===o.separator?e._set_separator(n.separator):(r.length===0?(r=e._createMenuItemMarkup(i),t.append(r)):e._set_text(n.text),e._resetMarkupValue(),e._set_navigateUrl(n.navigateUrl),e._set_target(n.target)),e._set_displayVisible(n.displayVisible),e._set_selected(n.selected)},t.prototype._getText=function(){return this._getLink().text()},t.prototype._setText=function(e){var t=this.element,n=this.options,r;r=t.find(":not(ul)a ."+n.wijCSS.wijmenuText+":first");if(r.length!==0){r.text(e);return}r=t.children("h1,h2,h3,h4,h5").filter(":first");if(r.length!==0){r.text(e);return}r=t.children("a:first");if(r.length!==0){r.text(e);return}},t.prototype._createChildMenuItems=function(){var e=this,t=e.element,r=e._items,s=e.options,o,u,a,f,l,c;if(s.header===!0||s.separator===!0)return;o=s.items.length,u=e._getSublist(),a=u.children("li").length;if(o>a){u.length===0&&(u=n("<ul>").appendTo(t),e._resetMarkupValue());for(f=0;f<o-a;f++)u.append("<li>")}n.each(e._getChildren(),function(t,s){var o=n(s),u=i._getMenuItemOptions(e.options,t);l=e._createItemWidget(o,u),r.push(l),e.options.items[t]=l.options})},t.prototype._createItemWidget=function(e,t){var r=this,i=r.widgetName;return e[i](t),e.data(n.camelCase(r.widgetFullName))},t.prototype._initCssClass=function(){var e=this,t=e.element,n=e.options,r=e._getLink(),i=e._getMenuItemType();i!==o.separator&&t.attr("role","menuitem"),i===o.separator?t.addClass(n.wijCSS.wijmenuSeparator).addClass(n.wijCSS.stateDefault).addClass(n.wijCSS.cornerAll):i===o.header?t.addClass(n.wijCSS.header).addClass(n.wijCSS.cornerAll):(i===o.link?t.hasAllClasses(n.wijCSS.wijmenuItem)||(t.addClass(n.wijCSS.widget).addClass(n.wijCSS.wijmenuItem).addClass(n.wijCSS.stateDefault).addClass(n.wijCSS.cornerAll),r.addClass(n.wijCSS.wijmenuLink).addClass(n.wijCSS.cornerAll),r.wrapInner("<span>").children("span").addClass(n.wijCSS.wijmenuText)):t.addClass(n.wijCSS.widget).addClass(n.wijCSS.wijmenuItem).addClass(n.wijCSS.stateDefault).addClass(n.wijCSS.cornerAll),e._setSubmenuIcon()),e._set_iconClass(n.iconClass),e._set_imagePosition(n.imagePosition),e._initUlCssClass()},t.prototype._initUlCssClass=function(){var e=this.options.wijCSS;this._getSublist().addClass(e.wijmenuList).addClass(e.content).addClass(e.cornerAll).addClass(e.helperClearFix).addClass(e.wijmenuChild).addClass(e.helperReset).hide()},t.prototype._setSubmenuIcon=function(e){var t=this,r=t.options,s=t._getLink(),o=t._getMenu(),u=o.options.direction,a=u==="rtl"?s.children("span."+r.wijCSS.icon+":first"):s.children("span."+r.wijCSS.icon+":last");e===undefined&&(e=i._hasVisibleSubMenus(t)),e&&!s.is(":input")?(a.length===0&&(u==="rtl"?a=n("<span>").prependTo(s):a=n("<span>").appendTo(s)),t._isRoot()&&o.options.orientation==="horizontal"&&o.options.mode==="flyout"?a.addClass(r.wijCSS.icon).addClass(r.wijCSS.iconArrowDown):u==="rtl"?a.addClass(r.wijCSS.icon).addClass(r.wijCSS.iconArrowLeft):a.addClass(r.wijCSS.icon).addClass(r.wijCSS.iconArrowRight)):a.remove()},t.prototype._killFlyout=function(){var e=this.element.attr("role",""),t=this.options;e.removeClass(t.wijCSS.wijmenuParent).off(".wijmenuEvent").off(".wijmenuitem").children(":first").off(".wijmenuEvent").off(".wijmenuitem").attr("aria-haspopup",""),this._getSublist().off(".wijmenuEvent").off(".wijmenuitem"),n.each(this.getItems(),function(){this._killFlyout()})},t.prototype._getItemTriggerEvent=function(){var e=this,t=e.element,r=e._getMenu(),i=r.options,s="default";return i.trigger!==""&&(t.is(i.trigger)||r.element.is(i.trigger)?s=i.triggerEvent:(t.parents("."+i.wijCSS.wijmenuParent).each(function(e,t){if(n(t).is(i.trigger))return s=i.triggerEvent,!1}),s==="default"&&e._isOuterTirggerEle()&&(s=i.triggerEvent))),t.data("triggerEvent",s),s},t.prototype._isOuterTirggerEle=function(){var e=this._getMenu();return i._getOuterElement(e.options.trigger,"."+e.options.wijCSS.wijmenu).length>0},t.prototype._flyout=function(){var e=this,t=e._getMenu(),r=t.options,i=".wijmenuitem",s=n(e.element).attr("aria-haspopup",!0),o=e._getItemTriggerEvent(),u=s.children("a."+r.wijCSS.wijmenuLink),a=e._getSublist(),f,l,c;if(e.getItems().length>0){a.on("mouseleave"+i,function(t){if(r.disabled)return;c=setTimeout(function(){e._hideCurrentSubmenu(t)},r.hideDelay)}),s.addClass(e.options.wijCSS.wijmenuParent);if(o!=="default"&&r.triggerEvent!=="mouseenter"){switch(r.triggerEvent){case"click":u.on("click"+i,function(t){if(r.disabled||n(this).hasAllClasses(r.wijCSS.stateDisabled))return;e._showFlyoutSubmenu(t)});break;case"dblclick":u.on("dblclick"+i,function(t){if(r.disabled||n(this).hasAllClasses(r.wijCSS.stateDisabled))return;e._showFlyoutSubmenu(t)});break;case"rtclick":u.on("contextmenu"+i,function(t){if(r.disabled||n(this).hasAllClasses(r.wijCSS.stateDisabled))return;e._showFlyoutSubmenu(t),t.preventDefault()})}a.data("notClose",!0)}else u.on("mouseenter.wijmenuEvent",function(t){if(r.disabled||n(this).hasAllClasses(r.wijCSS.stateDisabled))return;clearTimeout(c),l=setTimeout(function(){e._displaySubmenu(t,null)},r.showDelay)}).on("mouseleave"+i,function(t){if(r.disabled||n(this).hasAllClasses(r.wijCSS.stateDisabled))return;clearTimeout(l),a.is("ul")||(a=a.children("ul:first")),c=setTimeout(function(){e._hideSubmenu(!1,t)},r.hideDelay)}),e.getItems().length>0&&e._getSublist().on("mouseenter"+i,function(e){if(r.disabled)return;clearTimeout(c)}),a.data("notClose",!1)}u.on("click.wijmenuEvent",function(n){f=u.hasAllClasses(r.wijCSS.stateDisabled);if(r.disabled||f)return!1;if(u.is("a")){if(e._getSublist().length===0)t._hideAllMenus(n);else if(r.trigger===""||s.data("triggerEvent")==="default"||r.triggerEvent==="mouseenter")t._hideAllMenus(n);else{var i=t._currentMenuList,o,a;if(i!==undefined){o=s;if(e._getSublist().length===0)for(a=i.length;a>0;a--){if(i[a-1]===e)break;i[a-1]._hideSubmenu(!1,n)}}}t.activate(n,e)}t.select(n),u.attr("href")==="#"&&n.preventDefault()}).on("focusin.wijmenuEvent",function(n){f=u.hasAllClasses(r.wijCSS.stateDisabled);if(r.disabled||f)return;u.is("a")&&t.activate(n,e)}),n.each(e.getItems(),function(){this._flyout()})},t.prototype._hideSubmenu=function(e,t){var r=this,s=r._getMenu(),o=s.options,u=i.animations,a,f,l,c=r._getSublist(),h=r._getLink(),p=n.browser.msie?r.element.children("iframe.bgiframe"):null,d;if(!h.data("subMenuOpened"))return;if(!s._trigger("hidding",t,r))return;h.is("."+o.wijCSS.wijmenuLink)&&(h.data("subMenuOpened",!1),h.removeClass(o.wijCSS.stateActive)),c.is(":animated")&&c.stop(!0,!0),n.fn.wijhide&&e!==!0?(a={context:c,show:!1},f=n.extend({},o.animation,o.hideAnimation),c.wijhide(f,u,a,null,function(){s._setZindex(c,null),c.attr("aria-hidden",!0),n.browser.msie&&p.remove(),s._trigger("hidden",t,r)})):(c.hide({complete:function(){n.browser.msie&&p.remove()}}).attr("aria-hidden",!0),s._setZindex(c,null),s._trigger("hidden",t,r)),l=s._currentMenuList,l&&(l=n.makeArray(n.map(l,function(e){return e&&e===r?null:e})),s._currentMenuList=n.makeArray(l))},t.prototype._displaySubmenu=function(e,t){var r=this,s=r._getMenu(),o=s.options,u,a,f,l=i.animations,c,h=r._getLink(),p=r._getSublist(),d,v;n.browser.msie&&(d=r.element.children("iframe.bgiframe"),d.length===0&&(d=n('<iframe class="bgiframe" frameborder="0" tabindex="-1" src="javascript: false;" style="display:none;position:absolute;z-index:-1;top:0px;left:0px;opacity:0;filter:alpha(opacity = 0);" />'),r.element.append(d))),c=!i._hasVisibleSubMenus(r);if(p.is(":visible")||c)return;if(!s._trigger("showing",e,r))return;h.is("a."+o.wijCSS.wijmenuLink)&&h.data("subMenuOpened",!0),p.show(),r._setMenuItemPosition(),n.browser.msie&&r._setIframeBounds(p,d),s.nowIndex++,s._setZindex(p,s.nowIndex),p.hide(),u={context:p,show:!0},a=o.direction==="rtl"?"right":"left",o.orientation==="horizontal"&&r._isRoot()&&(a="up"),n.browser.msie&&d.css("display",""),f=n.extend({},{option:{direction:a}},o.animation,o.showAnimation),i._animateFlyoutMenu(f,u,function(){p.is(":hidden")&&r._hideSubmenu(!0,e),s._trigger("shown",e,r),t&&t()}),s._isClickToOpen=o.triggerEvent==="click",s._currentMenuList===undefined&&(s._currentMenuList=[]),s._currentMenuList.push(r)},t.prototype._setMenuItemPosition=function(){var e=this,t=e._getSublist(),r=e._getMenuItemPosition(),i={of:this._getLink()};t.css({left:"0",top:"0",position:"absolute"}),t.position(n.extend(i,r))},t.prototype._getMenuItemPosition=function(){var e=this,t=this._getMenu(),r=t.options,i=r.direction,s=i==="rtl"?{my:"right top",at:"left top"}:{my:"left top",at:"right top"};return r.orientation==="horizontal"&&e._isRoot()&&(s=i==="rtl"?{my:"right top",at:"right bottom"}:{my:"left top",at:"left bottom"}),s=n.extend(s,r.position),s},t.prototype._getChildren=function(){return this._getSublist().children("li")},t.prototype._setDrilldownUlStyle=function(){var e=this,t=e.options,r=e._getSublist(),i=e._getMenu(),s=i.domObject.menucontainer.width();i.options.direction==="rtl"?r.css({width:s,left:-s}):r.css({width:s,left:s}),r.addClass(t.wijCSS.content),n.each(e.getItems(),function(e,t){t.getItems().length&&this._setDrilldownUlStyle()})},t.prototype._getMenu=function(){var e=this,t=e._menu,n,r;if(!t){n=e.element.parent();while(!n.is("body")&&n.length>0){r=n.data("wijmomenu");if(r)return t=n.data(r),e._menu=t,t;n=n.parent()}throw"An menuitem must be a child of menu"}return t},t.prototype.getParent=function(){var e=this,t=e.element,n=e._parent,r,s;if(n!==undefined)return n;r=e._getMenu(),s=t.parent().closest("li",r.element[0]);if(s.length>0){n=i._getItemWidget(s);if(n!==undefined)return e._parent=n,n}if(r._getSublist().get(0)===t.parent().get(0))return e._parent=null,null;throw"An menuitem must be a child of menu or another menuitem"},t.prototype._getParentOrMenu=function(){return this.getParent()||this._getMenu()},t.prototype._getField=function(e){return this.element.data(e)},t.prototype._setField=function(e,t){return this.element.data(e,t)},t.prototype._innerDestroy=function(e){var t=this,n=t.options,r=t.element,i,s=t.getItems(),o=s.length-1;r.removeClass(n.wijCSS.widget).removeClass(n.wijCSS.wijmenuItem).removeClass(n.wijCSS.stateDefault).removeClass(n.wijCSS.cornerAll).removeClass(n.wijCSS.wijmenuParent).removeClass(n.wijCSS.header).removeClass(n.wijCSS.wijmenuSeparator),i=r.children("."+n.wijCSS.wijmenuLink),i.removeClass(n.wijCSS.wijmenuLink).removeClass(n.wijCSS.cornerAll).removeClass(n.wijCSS.stateFocus).removeClass(n.wijCSS.stateHover).removeClass(n.wijCSS.stateActive).html(i.children("."+n.wijCSS.wijmenuText).html()).off(".wijmenuitem").off(".wijmenuEvent"),r.children("ul").removeClass(n.wijCSS.wijmenuList).removeClass(n.wijCSS.content).removeClass(n.wijCSS.cornerAll).removeClass(n.wijCSS.helperClearFix).removeClass(n.wijCSS.wijmenuChild).removeClass(n.wijCSS.helperReset).attr("role","").attr("aria-activedescendant","").show().css({left:"",top:"",position:""}).attr("hidden",""),r.removeAttr("role"),i.removeAttr("aria-haspopup"),e||t._removeFromParentCollection(),r.removeData("menu").removeData("parent"),r.children("iframe.bgiframe").length!==0&&r.children("iframe.bgiframe").remove();for(;o>=0;o--)s[o].destroy(!0);t._items.length=0,t._resetMarkupValue()},t.prototype.destroy=function(t){this._innerDestroy(t),e.prototype.destroy.call(this)},t.prototype._getFirstSelectableSubItem=function(){return i._getFirstSelectableSubItem(this)},t.prototype._getLastSelectableSubItem=function(){return i._getLastSelectableSubItem(this)},t.prototype.next=function(){var e=this,t=e._getParentOrMenu().getItems(),r,i,s=n.inArray(e,t);if(s===-1)throw"cannot find item from the parent collection";for(r=s+1;r<t.length;r++){i=t[r].options;if(i.displayVisible!==!1&&!i.header&&!i.separator)return t[r].element}return null},t.prototype.previous=function(){var e=this,t=e._getParentOrMenu().getItems(),r,i,s=n.inArray(e,t);if(s===-1)throw"cannot find item from the parent collection";for(r=s-1;r>=0;r--){i=t[r].options;if(i.displayVisible!==!1&&!i.header&&!i.separator)return t[r].element}return null},t.prototype._removeFromParentCollection=function(){var e=this,t,r=!1,s;t=e.getParent(),t===null&&(t=e._getMenu(),r=!0),s=n.inArray(e,t.getItems());if(s===-1)return;i._changeCollection(s,t.getItems(),t.options.items,null),t.getItems().length===0&&(r||(t._setSubmenuIcon(!1),t._resetMarkupValue()),t.element.children("ul").remove())},t.prototype._resetMarkupValue=function(){this._sublist=null,this._link=null},t.prototype._hideCurrentSubmenu=function(e){var t=this,r=t._getSublist();if(r.length===0)return;r.data("notClose")||t._hideSubmenu(!1,e),n.each(t.getItems(),function(){this._hideCurrentSubmenu(e)})},t.prototype._showFlyoutSubmenu=function(e,t){var n=this,r=n._getMenu(),i=r._currentMenuList,s;if(i!==undefined)for(s=i.length;s>0;s--){if(i[s-1]===n.getParent())break;i[s-1]._hideSubmenu(!1,e)}n._displaySubmenu(e,t)},t.prototype.getItems=function(){return this._items},t.prototype._getSublist=function(){var e=this;return e._sublist||(e._sublist=e.element.children("ul:first")),e._sublist},t.prototype._getLink=function(){var e=this;return e._link||(e._link=e.element.children(":first")),e._link},t.prototype._isRoot=function(){return this.getParent()===null},t.prototype.add=function(e,t){i._add(this,e,t)},t.prototype.remove=function(e){i._remove(this,e)},t.prototype._setIframeBounds=function(e,t){var r=this,i=0,s=0,o=0,u=0,a,f,l,c,h,p,d=n.browser;if(!d.msie)return;parseFloat(n.browser.version)>=9&&(a=e.css("box-shadow").split(" "),p=a.length,p>1&&(p<4?f=0:f=r._parsePxToNumber(a[3]),p<3?l=0:l=.3*r._parsePxToNumber(a[2]),c=r._parsePxToNumber(a[1]),h=r._parsePxToNumber(a[0]),i=l+f-h,i=i>=0?i:0,s=l+f+h,s=s>=0?s:0,o=l+f-c,o=o>=0?o:0,u=l+f+c,u=u>=0?u:0)),t.css({width:e.outerWidth(!0)+i+s+"px",height:e.outerHeight(!0)+o+u+"px",left:r._parsePxToNumber(e.css("left"))-i+"px",top:r._parsePxToNumber(e.css("top"))-o+"px"})},t.prototype._parsePxToNumber=function(e){var t=e.indexOf("px");return!t||t===-1?0:parseFloat(e.substr(0,t))},t}(e.wijmoWidget);t.wijmenuitem=u,u.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,{initSelector:":jqmData(role='wijmenuitem')",wijCSS:{wijmenuitemIcon:"wijmenuitem-icon",wijmenuParent:"wijmo-wijmenu-parent",wijmenuLink:"wijmo-wijmenu-link",wijmenuText:"wijmo-wijmenu-text",wijmenuList:"wijmo-wijmenu-list",wijmenuItem:"wijmo-wijmenu-item",wijmenuSeparator:"wijmo-wijmenu-separator",wijmenuIconLeft:"wijmo-wijmenu-icon-left",wijmenuIconRight:"wijmo-wijmenu-icon-right",wijmenuChild:"wijmo-wijmenu-child",wijmenuSeparatorContent:"wijmo-wijmenu-separator-content"},wijMobileCSS:{header:"ui-header ui-bar-c",content:"ui-body ui-body-c",stateDefault:"ui-btn ui-btn-b",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},header:!1,separator:!1,value:"",text:"",navigateUrl:"",target:"",iconClass:"",imagePosition:"",displayVisible:!0,selected:!1,items:null}),n.wijmo.registerWidget(r,i.prototype),n.widget("wijmo.wijmenuitem",n.wijmo.widget,u.prototype)})(e.menu||(e.menu={}));var t=e.menu})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r=0,i=0,s=n.effects?n.effects:n,o=s.save,u=s.restore,a=s.createWrapper,f=s.removeWrapper,l=function(){return++r},c=function(){return++i},h=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._setOption=function(t,n){e.prototype._setOption.call(this,t,n);switch(t){case"selected":if(this.options.collapsible&&n===this.options.selected)return;this.select(n);break;case"alignment":this._innerDestroy(!0),this._tabify(!0);break;case"scrollable":n||this._removeScroller(),this._tabify(!1);break;default:this._tabify(!1)}},t.prototype._create=function(){var t=this,n=this.options;this.element.is(":hidden")&&this.element.wijAddVisibilityObserver&&this.element.wijAddVisibilityObserver(function(){t.element.wijRemoveVisibilityObserver&&t.element.wijRemoveVisibilityObserver();var e=t.element.data("wijtabs"),n=t.element.data("wijmo-wijtabs");t._innerDestroy(!0),t.element.data("wijtabs",e),t.element.data("wijmo-wijtabs",n),t._tabify(!0)},"wijtabs"),this._tabify(!0),(n.disabledstate||n.disabled)&&this.disable(),e.prototype._create.call(this)},t.prototype.destroy=function(){this._innerDestroy(),e.prototype.destroy.call(this)},t.prototype._tabify=function(e){this.list=this.element.children("ol,ul").eq(0),this.lis=n("li:has(a)",this.list),this.anchors=this.lis.map(function(){return n("a",this)[0]}),this.panels=n([]);var t=this,r=t.options,i=/^#.+/,s,o,u,a,f,l,c,h,p;n.each(t.anchors,function(e,s){var o=n(s).attr("href")||"",u=o.split("#")[0],a,f,l;u&&(u===location.toString().split("#")[0]||(a=n("base")[0])&&u===a.href)&&(o=s.hash,s.href=o),i.test(o)?t.panels=t.panels.add(t._sanitizeSelector(o),t.element):o!=="#"?(n.data(s,"href.tabs",o),n.data(s,"load.tabs",o.replace(/#.*$/,"")),f=t._tabId(s),s.href="#"+f,l=n("#"+f),l.length||(l=n(r.panelTemplate||t._defaults.panelTemplate).attr("id",f).addClass(r.wijCSS.tabsPanel).addClass(r.wijCSS.content).addClass(r.wijCSS.cornerBottom).insertAfter(t.panels[e-1]||t.list),l.data("destroy.tabs",!0)),t.panels=t.panels.add(l)):r.disabledIndexes.push(e),n(s).prop("tabindex","-1")}),s=this._getAlignment(!0),o=this._getAlignment(!1);if(e){this.list.attr("role","tablist"),this.lis.attr("role","tab"),this.panels.attr("role","tabpanel"),this.element.addClass(r.wijCSS.tabs).addClass(r.wijCSS.wijtabs).addClass(r.wijCSS.widget).addClass(r.wijCSS.content).addClass(r.wijCSS.cornerAll).addClass(r.wijCSS.helperClearFix).addClass(r.wijCSS.tabsPanel).addClass(r.wijCSS.tabsPanel).addClass(r.wijCSS["tabs"+s]),this.list.addClass(r.wijCSS.tabsNav).addClass(r.wijCSS.helperReset).addClass(r.wijCSS.helperClearFix).addClass(r.wijCSS.header).addClass(r.wijCSS.cornerAll),this.lis.addClass(r.wijCSS.stateDefault).addClass(r.wijCSS["corner"+s]),this.panels.addClass(r.wijCSS.tabsPanel).addClass(r.wijCSS.content).addClass(r.wijCSS["corner"+o]);switch(s){case"Bottom":this.list.appendTo(this.element);break;case"Left":u=n("<div/>").addClass(r.wijCSS.wijtabsContent).appendTo(this.element),this.panels.appendTo(u);break;case"Right":u=n("<div/>").addClass(r.wijCSS.wijtabsContent).insertBefore(this.list),this.panels.appendTo(u);break;case"Top":this.list.prependTo(this.element)}r.sortable&&this.list.sortable&&this._createSortable(s),r.selected===undefined?(location.hash&&n.each(this.anchors,function(e,t){if(t.hash===location.hash)return r.selected=e,!1}),typeof r.selected!="number"&&r.cookie&&(r.selected=parseInt(t._cookie(undefined,undefined),10)),typeof r.selected!="number"&&this.lis.filter("."+r.wijCSS.tabsActive).length&&(r.selected=this.lis.index(this.lis.filter("."+r.wijCSS.tabsActive))),r.selected=r.selected||(this.lis.length?0:-1)):r.selected===null&&(r.selected=-1),r.selected=r.selected>=0&&this.anchors[r.selected]||r.selected<0?r.selected:0,r.disabledIndexes=n.unique(r.disabledIndexes.concat(n.map(this.lis.filter("."+r.wijCSS.stateDisabled),function(e,n){return t.lis.index(e)}))).sort(),n.inArray(r.selected,r.disabledIndexes)!==-1&&r.disabledIndexes.splice(n.inArray(r.selected,r.disabledIndexes),1),this.panels.addClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!0),this.lis.removeClass(r.wijCSS.tabsActive).removeClass(r.wijCSS.stateActive).attr("aria-selected",!1),r.selected>=0&&this.anchors.length&&(this.panels.eq(r.selected).removeClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!1),this.lis.eq(r.selected).addClass(r.wijCSS.tabsActive).addClass(r.wijCSS.stateActive).attr("aria-selected",!0),t.element.queue("tabs",function(){t.element.wijTriggerVisibility&&n(t.panels[r.selected]).wijTriggerVisibility(),t._trigger("show",null,t._ui(t.anchors[r.selected],t.panels[r.selected]))}),this.load(r.selected)),n(window).bind("unload.wijtabs",function(){t.lis&&t.lis.add(t.anchors).unbind(".tabs"),t.lis=t.anchors=t.panels=null})}else r.selected=this.lis.index(this.lis.filter("."+r.wijCSS.tabsActive)),this.list.data("ui-sortable")?this.list.sortable&&(r.sortable?this.list.sortable("enable"):this.list.sortable("disable")):r.sortable&&this.list.sortable&&this._createSortable(s);this.element[r.collapsible?"addClass":"removeClass"](r.wijCSS.tabsCollapsible),r.cookie&&this._cookie(r.selected,r.cookie);for(a=0;a<this.lis.length;a++)f=this.lis[a],n(f)[n.inArray(a,r.disabledIndexes)!==-1&&!n(f).hasAllClasses(r.wijCSS.tabsActive)?"addClass":"removeClass"](r.wijCSS.stateDisabled),n(f).hasAllClasses(r.wijCSS.stateDisabled)&&n(f).attr("aria-disabled",!0);r.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),!r.disabledState&&!r.disabled&&r.event!=="mouseover"&&(l=function(e,t){t.is(":not(."+r.wijCSS.stateDisabled+")")&&t.addClass(e)},c=function(e,t){t.removeClass(e)},this.lis.bind("mouseover.tabs",function(){l(r.wijCSS.stateHover,n(this))}),this.lis.bind("mouseout.tabs",function(){c(r.wijCSS.stateHover,n(this))}),this.anchors.bind("focus.tabs",function(){t.lis.filter("."+r.wijCSS.stateFocus).removeClass(r.wijCSS.stateFocus),l(r.wijCSS.stateFocus,n(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){c(r.wijCSS.stateFocus,n(this).closest("li"))}));if(r.showOption===undefined||r.showOption===null)r.showOption={};this._normalizeBlindOption(r.showOption);if(r.hideOption===undefined||r.hideOption===null)r.hideOption={};this._normalizeBlindOption(r.hideOption),h=(r.showOption.blind||r.showOption.fade)&&r.showOption.duration>0?function(e,i){n(e).closest("li").addClass(r.wijCSS.tabsActive).addClass(r.wijCSS.stateActive).attr("aria-selected",!0),t._showContent(),i.removeClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!1);if(s==="Top"||s==="Bottom"){var o={duration:r.showOption.duration,height:"toggle",opacity:"toggle"};r.showOption.blind||delete o.height,r.showOption.fade||delete o.opacity,i.hide().removeClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!1).animate(o,r.showOption.duration||"normal",function(){t._resetStyle(i),i.wijTriggerVisibility&&i.wijTriggerVisibility(),t._trigger("show",null,t._ui(e,i[0]))})}else t._showContent(),t._blindPanel(i,"show")}:function(e,i){n(e).closest("li").addClass(r.wijCSS.tabsActive).addClass(r.wijCSS.stateActive).attr("aria-selected",!0),t._showContent(),i.removeClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!1),i.wijTriggerVisibility&&i.wijTriggerVisibility(),t._trigger("show",null,t._ui(e,i[0]))},p=(r.hideOption.blind||r.hideOption.fade)&&r.hideOption.duration>0?function(e,n){if(s==="Top"||s==="Bottom"){var i={duration:r.hideOption.duration,height:"toggle",opacity:"toggle"};r.hideOption.blind||delete i.height,r.hideOption.fade||delete i.opacity,n.animate(i,r.hideOption.duration||"normal",function(){t.lis.removeClass(r.wijCSS.tabsActive).removeClass(r.wijCSS.stateActive).attr("aria-selected",!1),n.addClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!0),t._resetStyle(n),t.element.dequeue("tabs")})}else t._saveLayout(),t._blindPanel(n,"hide")}:function(e,n,i){t.lis.removeClass(r.wijCSS.tabsActive).removeClass(r.wijCSS.stateActive).attr("aria-selected",!1),t._hideContent(),n.addClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!0),t.element.dequeue("tabs")},!r.disabledState&&!r.disabled&&this.anchors.bind(r.event+".tabs",function(){var e=this,i=n(this).closest("li"),s=t.panels.filter(":not(."+r.wijCSS.wijtabsHide+")"),o=n(t._sanitizeSelector(this.hash),t.element);if(i.hasAllClasses(r.wijCSS.tabsActive)&&!r.collapsible||i.hasAllClasses(r.wijCSS.stateDisabled)||i.hasAllClasses(r.wijCSS.tabsLoading)||t._trigger("select",null,t._ui(this,o[0]))===!1)return this.blur(),!1;r.selected=t.anchors.index(this),t.abort();if(r.collapsible){if(i.hasAllClasses(r.wijCSS.tabsActive))return r.selected=-1,r.cookie&&t._cookie(r.selected,r.cookie),t.element.queue("tabs",function(){p(e,s)}).dequeue("tabs"),this.blur(),!1;if(!s.length)return r.cookie&&t._cookie(r.selected,r.cookie),t.element.queue("tabs",function(){h(e,o)}),t.load(t.anchors.index(this)),this.blur(),!1}r.cookie&&t._cookie(r.selected,r.cookie);if(!o.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";s.length&&t.element.queue("tabs",function(){p(e,s)}),t.element.queue("tabs",function(){h(e,o)}),t.load(t.anchors.index(this)),n.browser.msie&&this.blur()}),this._initScroller(),this.anchors.bind("click.tabs",function(){return!1})},t.prototype._createSortable=function(e){var t=this;t.list.sortable({update:function(e,r){t.lis=n("li:has(a)",t.list),t.anchors=t.lis.map(function(){return n("a",this)[0]});var i=r.item.find("a").attr("href"),s=t.panels.filter(i),o=t.panels.index(s),u=t.lis.index(r.item);o>u?n(t.panels[u]).before(s):n(t.panels[u]).after(s),t.panels=n("."+t.options.wijCSS.tabsPanel,t.element)},axis:e==="Top"||e==="Bottom"?"x":"y"})},t.prototype._blindPanel=function(e,t){var r=this,i=r.options,s=e.parent("."+i.wijCSS.wijtabsContent),u=["position","top","left","width"],l=t==="show"?i.showOption:i.hideOption,c,h,p;if(!s.length)return;r.list.width(r.list.width()),o&&o(e,u),e.show(),t==="show"?(e.removeClass(i.wijCSS.wijtabsHide).attr("aria-hidden",!1),e.width(r.element.data("panel.width"))):e.width(e.width()),a?c=a(e).css({overflow:"hidden"}):c=n("<div></div>"),t==="show"&&c.css(n.extend({width:0},l.fade?{opacity:0}:{})),h=n.extend({width:t==="show"?r.element.data("panel.outerWidth"):0},l.fade?{opacity:t==="show"?1:0}:{}),p=r.list.outerWidth(!0),c.animate(h,{duration:l.duration,step:function(){var e=c.outerWidth(!0);r.element.width(p+e),s.width(Math.max(0,r.element.innerWidth()-p-6))},complete:function(){t==="hide"?(r.lis.removeClass(i.wijCSS.tabsActive).removeClass(i.wijCSS.stateActive).attr("aria-selected",!1),e.addClass(i.wijCSS.wijtabsHide).attr("aria-hidden",!0)):e.css("width",""),f&&f(e),t==="show"&&r._restoreLayout(),r._resetStyle(e),e.dequeue(),r.element.dequeue("tabs")}})},t.prototype._hideContent=function(){var e=this.options.wijCSS,t=this.element.find("."+e.wijtabsContent);t.length&&(this._saveLayout(),t.addClass(e.wijtabsHide).attr("aria-hidden",!0),this.element.width(this.list.outerWidth(!0)))},t.prototype._showContent=function(){var e=this.options.wijCSS,t=this.element.find("."+e.wijtabsContent);t.length&&(this._restoreLayout(),t.removeClass(e.wijtabsHide).attr("aria-hidden",!1))},t.prototype._saveLayout=function(){var e=this.options.wijCSS,t=["width","height","overflow"],n=this.panels.filter(":not(."+e.wijtabsHide+")");o&&(o(this.element,t),o(this.list,t),o(this.element.find("."+e.wijtabsContent),t)),this.list.width(this.list.width()),this.element.data("panel.width",n.width()),this.element.data("panel.outerWidth",n.outerWidth(!0))},t.prototype._restoreLayout=function(){var e=this.options.wijCSS,t=["width","height","overflow"];u&&(u(this.element,t),u(this.list,t),u(this.element.find("."+e.wijtabsContent),t))},t.prototype._resetStyle=function(e){e.css({display:""}),n.support.opacity||e[0].style.removeAttribute("filter")},t.prototype._normalizeBlindOption=function(e){e.blind===undefined&&(e.blind=!1),e.fade===undefined&&(e.fade=!1),e.duration===undefined&&(e.duration=200);if(typeof e.duration=="string")try{e.duration=parseInt(e.duration,10)}catch(t){e.duration=200}},t.prototype._initScroller=function(){var e=this,t=n.inArray(this._getAlignment(!0),["Top","Bottom"])!==-1,r=0;if(!t)return;n.each(this.lis,function(t,i){var s=n(i),o,u=0,a=0;n.browser.msie&&!!e.options.scrollable&&(n.each(s.children(),function(e,t){var r=n(t);r.is("a")&&r.width(r.width()),u+=r.outerWidth(!0)}),a=u-s.width(),s.width(u)),r+=e._getLiWidth(n(i))+a}),!!this.options.scrollable&&this.element.innerWidth()<r?(this.scrollWrap===undefined&&(this.list.wrap("<div class='scrollWrap'></div>"),this.scrollWrap=this.list.parent(),o&&o(this.list,["width","height","overflow"])),this.list.width(Math.ceil(r)+2),this.scrollWrap.height(this.list.outerHeight(!0)),this.scrollWrap.wijsuperpanel({allowResize:!1,hScroller:{scrollMode:"edge"},vScroller:{scrollBarVisibility:"hidden"}})):this._removeScroller()},t.prototype._ui=function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},t.prototype._tabId=function(e){var t=n(e),r,i;if(t.data&&t.data("tabid"))return t.data("tabid");if(e.href&&e.href.length){i=this._getURLParameters(e.href);if(i.tabId)return r=i.tabId,t.data("tabid",r),r}return r=e.title&&e.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+l(),t.data("tabid",r),r},t.prototype._getURLParameters=function(e){var t={},r,i;return e.indexOf("?")>-1&&(r=e.split("?")[1],i=r.split("&"),n.each(i,function(e,n){var r=n.split("=");r.length>1&&(t[r[0]]=r[1])})),t},t.prototype._getAlignment=function(e){var t=this.options.alignment||"top";if(e)return t.charAt(0).toUpperCase()+t.substr(1);switch(t){case"top":t="Bottom";break;case"bottom":t="Top";break;case"left":t="Right";break;case"right":t="Left"}return t},t.prototype._sanitizeSelector=function(e){return e.replace(/:/g,"\\:")},t.prototype._innerDestroy=function(e){var t=this.options,r=n("."+t.wijCSS.wijtabsContent);return this.abort(),this._removeScroller(),this.element.unbind(".tabs").removeClass(t.wijCSS.wijtabs).removeClass(t.wijCSS.tabsTop).removeClass(t.wijCSS.tabsBottom).removeClass(t.wijCSS.tabsLeft).removeClass(t.wijCSS.tabsRight).removeClass(t.wijCSS.tabs).removeClass(t.wijCSS.widget).removeClass(t.wijCSS.content).removeClass(t.wijCSS.cornerAll).removeClass(t.wijCSS.tabsCollapsible).removeClass(t.wijCSS.helperClearFix).removeData("tabs").removeAttr("role"),this.list.removeClass(t.wijCSS.tabsNav).removeClass(t.wijCSS.helperReset).removeClass(t.wijCSS.helperClearFix).removeClass(t.wijCSS.header).removeClass(t.wijCSS.cornerAll).removeAttr("role"),n.each(this.anchors,function(e,t){var r=n(t),i=r.data("href.tabs");i&&(t.href=i),r.unbind(".tabs"),n.each(["href","load","cache"],function(e,t){r.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(r,i){var s=n(i);s.data("destroy.tabs")&&!e?s.remove():s.removeClass(t.wijCSS.stateDefault).removeClass(t.wijCSS.cornerTop).removeClass(t.wijCSS.cornerBottom).removeClass(t.wijCSS.cornerLeft).removeClass(t.wijCSS.cornerRight).removeClass(t.wijCSS.tabsActive).removeClass(t.wijCSS.stateActive).removeClass(t.wijCSS.stateHover).removeClass(t.wijCSS.stateFocus).removeClass(t.wijCSS.stateDisabled).removeClass(t.wijCSS.tabsPanel).removeClass(t.wijCSS.content).removeClass(t.wijCSS.wijtabsHide).css({position:"",left:"",top:""}).removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-selected").removeAttr("aria-disabled")}),r.length&&r.replaceWith(r.contents()),t.cookie&&this._cookie(null,t.cookie),this.list=null,this.anchors=null,this.lis=null,this.panels=null,n(window).unbind("unload.wijtabs"),this},t.prototype._cleanup=function(){var e=this.options.wijCSS;this.lis.filter("."+e.tabsLoading).removeClass(e.tabsLoading).find("span:data(label.tabs)").each(function(){var e=n(this);e.html(e.data("label.tabs")).removeData("label.tabs")})},t.prototype._removeScroller=function(){if(!this.scrollWrap)return;this.scrollWrap.wijsuperpanel("destroy").replaceWith(this.scrollWrap.contents()),this.scrollWrap=undefined,u&&u(this.list,["width","height","overflow"])},t.prototype._cookie=function(e,t){var r=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+c());return n.cookie.apply(null,[r].concat(n.makeArray(arguments)))},t.prototype._getLiWidth=function(e){return this._parsePxToNumber(e.css("margin-left"))+this._parsePxToNumber(e.css("border-left-width"))+this._parsePxToNumber(e.css("padding-left"))+this._parsePxToNumber(e.css("width"))+this._parsePxToNumber(e.css("margin-right"))+this._parsePxToNumber(e.css("border-right-width"))+this._parsePxToNumber(e.css("padding-right"))},t.prototype._parsePxToNumber=function(e){var t=e.indexOf("px");return!t||t===-1?0:parseFloat(e.substr(0,t))},t.prototype.abort=function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},t.prototype.select=function(e){return typeof e=="string"?e=this.anchors.index(this.anchors.filter("[href$="+e+"]")):e===null&&(e=-1),e===-1&&this.options.collapsible&&(e=this.options.selected),this.anchors.eq(e).trigger(this.options.event+".tabs"),this},t.prototype.load=function(e){var t=this,r=t.options,i=t.anchors.eq(e)[0],s=n.data(i,"load.tabs"),o=n("span",i);t.abort();if(!1===t._trigger("beforeShow",null,t._ui(t.anchors[e],t.panels[e]))){t.element.dequeue("tabs");return}if(!s||t.element.queue("tabs").length!==0&&n.data(i,"cache.tabs")){t.element.dequeue("tabs");return}return t.lis.eq(e).addClass(r.wijCSS.tabsLoading),(r.spinner||t._defaults.spinner)&&o.data("label.tabs",o.html()).html(r.spinner||t._defaults.spinner),t.xhr=n.ajax(n.extend({},r.ajaxOptions,{url:s,success:function(s,o){n(t._sanitizeSelector(i.hash),t.element).html(s),t._cleanup(),r.cache&&n.data(i,"cache.tabs",!0),t._trigger("load",null,t._ui(t.anchors[e],t.panels[e]));try{r.ajaxOptions.success(s,o)}catch(u){}},error:function(n,s,o){t._cleanup(),t._trigger("load",null,t._ui(t.anchors[e],t.panels[e]));try{r.ajaxOptions.error(n,s,e,i)}catch(u){}}})),t.element.dequeue("tabs"),t},t.prototype.add=function(e,t,r){r===undefined&&(r=this.anchors.length);var i=this,s=i.options,o=n((s.tabTemplate||i._defaults.tabTemplate).replace(/#\{href\}/g,e).replace(/#\{label\}/g,t)),u=e.indexOf("#")?i._tabId(n("a",o)[0]):e.replace("#",""),a=i._getAlignment(!0),f=i._getAlignment(!1),l=n("#"+u),c;return o.addClass(s.wijCSS.stateDefault).addClass(s.wijCSS["corner"+a]).data("destroy.tabs",!0).attr("role","tab").attr("aria-selected",!1),l.length||(l=n(s.panelTemplate||i._defaults.panelTemplate).attr("id",u).data("destroy.tabs",!0).attr("role","tabpanel")),l.addClass(s.wijCSS.tabsPanel).addClass(s.wijCSS.content).addClass(s.wijCSS["corner"+f]+" "+s.wijCSS.wijtabsHide).attr("aria-hidden",!0),r>=i.lis.length?(o.appendTo(i.list),i.panels.length>0?l.insertAfter(i.panels[i.panels.length-1]):(c=i.element.find("."+s.wijCSS.wijtabsContent),c.length===0&&(c=i.element),l.appendTo(c))):(o.insertBefore(i.lis[r]),l.insertBefore(i.panels[r])),s.disabledIndexes=n.map(s.disabledIndexes,function(e,t){return e>=r?++e:e}),i._removeScroller(),i._tabify(!1),i.anchors.length===1&&(s.selected=0,o.addClass(s.wijCSS.tabsActive).addClass(s.wijCSS.stateActive).attr("aria-selected",!0),l.removeClass(s.wijCSS.wijtabsHide).attr("aria-hidden",!1),i.element.queue("tabs",function(){i.element.wijTriggerVisibility&&n(i.panels[0]).wijTriggerVisibility(),i._trigger("show",null,i._ui(i.anchors[0],i.panels[0]))}),i.load(0)),i._trigger("add",null,i._ui(i.anchors[r],i.panels[r])),i},t.prototype.remove=function(e){var t=this.options,r=this.lis.eq(e).remove(),i=this.panels.eq(e).remove();return r.hasAllClasses(t.wijCSS.tabsActive)&&this.anchors.length>1&&this.select(e+(e+1<this.anchors.length?1:-1)),t.disabledIndexes=n.map(n.grep(t.disabledIndexes,function(t,n){return t!==e},!1),function(t,n){return t>=e?--t:t}),this._removeScroller(),this._tabify(!1),this._trigger("remove",null,this._ui(r.find("a")[0],i[0])),this},t.prototype.enableTab=function(e){var t=this.options;if(n.inArray(e,t.disabledIndexes)===-1)return;return this.lis.eq(e).removeClass(t.wijCSS.stateDisabled).removeAttr("aria-disabled"),t.disabledIndexes=n.grep(t.disabledIndexes,function(t,n){return t!==e},!1),this._trigger("enable",null,this._ui(this.anchors[e],this.panels[e])),this},t.prototype.disableTab=function(e){var t=this.options;return e!==t.selected&&(this.lis.eq(e).addClass(t.wijCSS.stateDisabled).attr("aria-disabled",!0),t.disabledIndexes.push(e),t.disabledIndexes.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},t.prototype.url=function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},t.prototype.length=function(){return this.anchors.length},t}(e.wijmoWidget);t.wijtabs=h,h.prototype._defaults={panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'};var p=function(){function e(){this.wijCSS={wijtabs:"wijmo-wijtabs",wijtabsContent:"wijmo-wijtabs-content",wijtabsHide:"wijmo-wijtabs-hide"},this.wijMobileCSS={header:"ui-header ui-bar-b",content:"ui-content ui-body ui-body-b",stateDefault:"ui-btn ui-btn-a",stateActive:"ui-btn-down-b"},this.alignment="top",this.sortable=!1,this.scrollable=!1,this.ajaxOptions=null,this.cache=!1,this.cookie=null,this.collapsible=!1,this.hideOption=null,this.showOption=null,this.disabledIndexes=[],this.event="click",this.idPrefix="ui-tabs-",this.panelTemplate="",this.spinner="",this.tabTemplate="",this.add=null,this.remove=null,this.select=null,this.beforeShow=null,this.show=null,this.load=null,this.disable=null,this.enable=null}return e}();h.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new p),n.wijmo.registerWidget("wijtabs",h.prototype)})(e.tabs||(e.tabs={}));var t=e.tabs})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijvideo",i="wijmo-wijvideo",s="wijmo-wijvideo-wrapper",o="wijmo-wijvideo-controls",u="wijmo-wijvideo-play",a="wijmo-wijvideo-index",f="wijmo-wijvideo-index-slider",l="wijmo-wijvideo-timer",c="wijmo-wijvideo-volume",h="wijmo-wijvideo-volume-container",p="wijmo-wijvideo-volumeslider",d="wijmo-wijvideo-fullscreen",v="wijmo-wijvideo-container-fullscreen",m=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._create=function(){var e=this,t,r,v,m,g,y=e.options,b=e.options.wijCSS;n(this.element).is("video")?this.$video=n(this.element):this.$video=n(this.element).find("video");if(!this.$video||this.$video.length===0||n.browser.msie&&parseInt(n.browser.version,10)<9)return;v=this.$video[0].canPlayType;if(!v)return;this.$video.wrap(n("<div></div>").addClass(i).addClass(b.wijvideo).addClass(b.content).addClass(b.widget)).after(n("<div></div>").addClass(s).addClass(b.wijvideoWrapper).append(n("<ul></ul>").addClass(o).addClass(b.wijvideoControls).addClass(b.header).addClass(b.helperClearFix).addClass(b.helperReset).append(n("<li></li>").addClass(u).addClass(b.wijvideoPlay).addClass(b.stateDefault).addClass(b.cornerAll).append(n("<span></span>").addClass(b.icon).addClass(b.iconPlay))).append(n("<li></li>").addClass(a).addClass(b.wijvideoIndex).append(n("<div></div>").addClass(f).addClass(b.wijvideoIndexSlider))).append(n("<li>00:00</li>").addClass(l).addClass(b.wijvideoTimer).addClass(b.stateDefault)).append(n("<li></li>").addClass(c).addClass(b.wijvideoVolume).addClass(b.stateDefault).addClass(b.cornerAll).append(n("<div></div>").addClass(h).addClass(b.wijvideoVolumeContainer).append(n("<div></div>").addClass(p).addClass(b.wijvideoVolumeSlider).addClass(b.stateDefault).addClass(b.cornerTop))).append(n("<span></span>").addClass(b.icon).addClass(b.iconVolumeOn))).append(n("<li></li>").addClass(d).addClass(b.wijvideoFullScreen).addClass(b.stateDefault).addClass(b.cornerAll).append(n("<span></span>").addClass(b.icon).addClass(b.iconArrow4Diag))))),this.$vidParent=this.$video.parent("."+i),this.$vidParent.width(this.$video.outerWidth()).height(this.$video.outerHeight()),this.$seekSlider=this.$vidParent.find("."+f),e._volumnOn=!0,e.$volumeBtn=this.$vidParent.find("."+c),g=e.$video.parent().find("."+o),m=window.setInterval(function(){e._getVideoAttribute("readyState")&&(window.clearInterval(m),e.$vidParent.width(e.$video.outerWidth()).height(e.$video.outerHeight()),g.show(),t=e.$vidParent.find("."+l).position().left,e.$seekSlider.width(t-e.$seekSlider.position().left-15),e.$seekSlider.slider({value:0,step:.01,max:e._getVideoAttribute("duration"),range:"min",stop:function(t,n){e.seek=!1,e._setVideoAttribute("currentTime",n.value)},slide:function(){e.seek=!0}}).slider("widget").addClass(y.wijCSS.stateDefault),e._updateTime(),e.$volumeSlider=e.$vidParent.find("."+p),e.$volumeSlider.slider({min:0,max:1,value:e._getVideoAttribute("volume"),step:.1,orientation:"vertical",range:"min",slide:function(t,n){e._setVideoAttribute("volume",n.value),n.value===0?(e._volumnOn=!1,e.$volumeBtn.find("span").removeClass(b.iconVolumeOn).addClass(b.iconVolumeOff)):(e._volumnOn=!0,e.$volumeBtn.find("span").removeClass(b.iconVolumeOff).addClass(b.iconVolumeOn))}}).slider("widget").addClass(y.wijCSS.stateDefault),g.css("display","none"),e._initialToolTip(),y.showControlsOnHover||(g.show(),e.$vidParent.height(e.$video.outerHeight()+g.height())))},200),this.$video.bind("click."+e.widgetName,function(){e._togglePlay()}),y.showControlsOnHover&&e.$vidParent.hover(function(){g.stop(!0,!0).fadeIn()},function(){g.delay(300).fadeOut()}),r=this.$vidParent.find("."+u+" > span"),r.click(function(){e._togglePlay()}).parent().hover(function(){n(this).addClass(b.stateHover)},function(){n(this).removeClass(b.stateHover)}),this.$vidParent.find("."+c).hover(function(){n("."+h).stop(!0,!0).slideToggle()}),this.$fullScreenBtn=this.$vidParent.find("."+d+" > span"),this.$fullScreenBtn.click(function(){e._toggleFullScreen()}).parent().hover(function(){n(this).addClass(b.stateHover)},function(){n(this).removeClass(b.stateHover)}),e.options.fullScreenButtonVisible||this.$vidParent.find("."+d).hide(),this.$volumeBtn.hover(function(){n(this).addClass(b.stateHover)},function(){n(this).removeClass(b.stateHover)}).click(function(){e._getVideoAttribute("readyState")&&(e._volumnOn=!e._volumnOn,e._volumnOn?(e.$volumeSlider.slider("value",e.currentVolumn?e.currentVolumn:1),e._setVideoAttribute("volume",e.currentVolumn?e.currentVolumn:1),e.$volumeBtn.find("span").removeClass(b.iconVolumeOff).addClass(b.iconVolumeOn)):(e.currentVolumn=e.$volumeSlider.slider("value"),e.$volumeSlider.slider("value",0),e._setVideoAttribute("volume",0),e.$volumeBtn.find("span").removeClass(b.iconVolumeOn).addClass(b.iconVolumeOff)))}),this.$video.bind("play."+e.widgetName,function(){r.removeClass(b.icon+" "+b.iconPlay).addClass(b.icon+" "+b.iconPause)}),this.$video.bind("pause."+e.widgetName,function(){r.removeClass(b.icon+" "+b.iconPause).addClass(b.icon+" "+b.iconPlay)}),this.$video.bind("ended."+e.widgetName,function(){e.pause()}),this.$video.bind("timeupdate."+e.widgetName,function(){e._updateTime()}),e._videoIsControls=!1,e._getVideoAttribute("controls")&&(e._videoIsControls=!0),this.$video.removeAttr("controls"),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e._refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijvideo"),e.options.disabled&&e._handleDisabledOption(!0,e.element)},t.prototype._setOption=function(t,n){var r=this,i=r.options,s=r.$video.parent().find("."+o),u=r.$video.parent().find("."+u);e.prototype._setOption.call(this,t,n),t==="fullScreenButtonVisible"?(i.fullScreenButtonVisible=n,n?u.show():u.hide()):t==="disabled"?r._handleDisabledOption(n,r.element):t==="showControlsOnHover"&&(n?(this.$vidParent.height(this.$video.outerHeight()),s.hide(),r.$vidParent.hover(function(){s.stop(!0,!0).fadeIn()},function(){s.delay(300).fadeOut()})):(r.$vidParent.unbind("mouseenter mouseleave"),window.setTimeout(function(){s.show(),r.$vidParent.height(r.$video.outerHeight()+s.height())},200)))},t.prototype._handleDisabledOption=function(e,t){var r=this,i=r.$video.parent().find("."+o);e?(r.disabledDiv||(r.disabledDiv=r._createDisabledDiv(t)),r.disabledDiv.appendTo("body"),n.browser.msie&&(r.$vidParent.unbind("mouseenter mouseleave"),this.$video.unbind("click."+r.widgetName))):r.disabledDiv&&(r.disabledDiv.remove(),r.disabledDiv=null,n.browser.msie&&(r.$vidParent.hover(function(){i.stop(!0,!0).fadeIn()},function(){i.delay(300).fadeOut()}),this.$video.bind("click."+r.widgetName,function(){r._togglePlay()})))},t.prototype._createDisabledDiv=function(e){var t=this.$vidParent,r=t.offset(),i=t.outerWidth(),s=t.outerHeight();return n("<div></div>").addClass(this.options.wijCSS.stateDisabled).css({"z-index":"99999",position:"absolute",width:i,height:s,left:r.left,top:r.top})},t.prototype._getVideoAttribute=function(e){if(e==="")return;return this.$video.prop(e)},t.prototype._setVideoAttribute=function(e,t){if(e==="")return;return this.$video.prop(e,t)},t.prototype._initialToolTip=function(){var e=this,t=e.options.wijCSS;this.$seekSlider.wijtooltip({mouseTrailing:!0,showCallout:!1,position:{offset:"-60 -60"}}),this.$seekSlider.bind("mousemove",function(t,n){e._changeToolTipContent(t)}),this.$volumeBtn.wijtooltip({content:e._localizeString("volumeToolTip","Volume"),showCallout:!1}),this.$fullScreenBtn.wijtooltip({content:e._localizeString("fullScreenToolTip","Full Screen"),showCallout:!1}),this.$seekSlider.wijtooltip("widget").addClass(i).addClass(t.wijvideo),this.$volumeBtn.wijtooltip("widget").addClass(i).addClass(t.wijvideo),this.$volumeBtn.wijtooltip("widget").addClass(i).addClass(t.wijvideo)},t.prototype._updateTime=function(){var e=this,t=e._getVideoAttribute("duration"),n=e._getVideoAttribute("currentTime"),r,i,s="",o="";r=this._truncate((t-n)/60),i=this._truncate(t-n-r*60),r<10&&(s="0"),i<10&&(o="0"),this.$vidParent.find("."+l).html(s+r+":"+o+i),!this.seek&&this.$seekSlider.data("ui-slider")&&this.$seekSlider.slider("value",n)},t.prototype._truncate=function(e){return Math[e>0?"floor":"ceil"](e)},t.prototype._togglePlay=function(){var e=this;if(!e._getVideoAttribute("readyState"))return;e._getVideoAttribute("paused")?this.play():this.pause()},t.prototype._toggleFullScreen=function(){var e=this,t=e.options.wijCSS,r=e._getVideoAttribute("paused"),i=0,s=n(window).width(),o=n(window).height();this.fullScreen=!this.fullScreen,this.fullScreen?(e._oriVidParentStyle=this.$vidParent.attr("style"),e._oriWidth=this.$video.outerWidth(),e._oriHeight=this.$video.outerHeight(),e._oriDocOverFlow=n(document.documentElement).css("overflow"),n(document.documentElement).css({overflow:"hidden"}),e._replacedDiv||(e._replacedDiv=n("<div />")),this.$vidParent.after(e._replacedDiv),this.$vidParent.addClass(v).addClass(t.wijvideoContainerFullScreen).css({width:s,height:o}).appendTo(n("body")),this.$video.attr("width",s).attr("height",o),n(window).bind("resize.wijvideo",function(){e._fullscreenOnWindowResize()}),i=s-e._oriWidth):(n(document.documentElement).css({overflow:e._oriDocOverFlow}),i=e._oriWidth-this.$video.width(),e._replacedDiv.after(this.$vidParent).remove(),this.$vidParent.removeClass(v).removeClass(t.wijvideoContainerFullScreen).attr("style","").attr("style",e._oriVidParentStyle),this.$video.attr("width",e._oriWidth).attr("height",e._oriHeight),n(window).unbind("resize.wijvideo")),e._positionControls(i),e._hideToolTips(),r?e.pause():e.play()},t.prototype._fullscreenOnWindowResize=function(){var e=this,t=n(window).width(),r=n(window).height(),i=t-this.$vidParent.width();this.$vidParent.css({width:t,height:r}),this.$video.attr("width",t).attr("height",r),e._positionControls(i)},t.prototype._positionControls=function(e){var t=this.$vidParent.find("."+f);t.width(t.width()+e)},t.prototype._showToolTip=function(e){var t=this,n=e.pageX,r=e.pageY,i=this.$seekSlider.offset().left,s=this.$seekSlider.width(),o=n-i,u=t._getVideoAttribute("duration"),a;a=u*(o/s),this.$seekSlider.wijtooltip("option","content",t._getToolTipContent(a)),this.$seekSlider.wijtooltip("showAt",{x:n,y:r-10})},t.prototype._changeToolTipContent=function(e){var t=this,n=e.pageX,r=this.$seekSlider.offset().left,i=this.$seekSlider.width(),s=n-r,o=t._getVideoAttribute("duration"),u;u=o*(s/i),this.$seekSlider.wijtooltip("option","content",t._getToolTipContent(u))},t.prototype._hideToolTips=function(){this.$seekSlider.data("wijmo-wijtooltip")&&this.$seekSlider.wijtooltip("hide"),this.$volumeBtn.data("wijmo-wijtooltip")&&this.$volumeBtn.wijtooltip("hide"),this.$fullScreenBtn.data("wijmo-wijtooltip")&&this.$fullScreenBtn.wijtooltip("hide")},t.prototype._localizeString=function(e,t){var n=this.options;return n.localization&&n.localization[e]?n.localization[e]:t},t.prototype._getToolTipContent=function(e){var t,n,r="",i="";return t=parseInt((e/60).toString(),10),n=parseInt((e-t*60).toString(),10),t<10&&(r="0"),n<10&&(i="0"),r+t+":"+i+n},t.prototype._refresh=function(){var e,t=this.$video.parent().find("."+o);t.show(),e=this.$vidParent.find("."+l).position().left,this.$seekSlider.width(e-this.$seekSlider.position().left-15),t.css("display","none"),this.options.showControlsOnHover||(t.show(),this.$vidParent.height(this.$video.outerHeight()+t.height()))},t.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.$vidParent.after(this.$video).remove(),this.$video.unbind("."+t.widgetName),t._videoIsControls&&t._setVideoAttribute("controls",!0)},t.prototype.play=function(){this.$video[0].play()},t.prototype.pause=function(){this.$video[0].pause()},t.prototype.getWidth=function(){return this.$video.outerWidth()},t.prototype.setWidth=function(e){e=e||600;var t=this.getWidth();this.$video.attr("width",e),this.$vidParent.width(this.$video.outerWidth()),this._positionControls(this.getWidth()-t)},t.prototype.getHeight=function(){return this.$video.outerHeight()},t.prototype.setHeight=function(e){e=e||400,this.$video.attr("height",e),this.options.showControlsOnHover?this.$vidParent.height(this.$video.outerHeight()):this.$vidParent.height(this.$video.outerHeight()+this.$video.parent().find("."+o).height())},t}(e.wijmoWidget);t.wijvideo=m;var g=function(){function e(){this.initSelector=":jqmData(role='wijvideo')",this.wijCSS={iconVolumeOn:"ui-icon-volume-on",iconVolumeOff:"ui-icon-volume-off",wijvideo:"",wijvideoWrapper:"",wijvideoControls:"",wijvideoPlay:"",wijvideoIndex:"",wijvideoIndexSlider:"",wijvideoTimer:"",wijvideoVolume:"",wijvideoVolumeContainer:"",wijvideoVolumeSlider:"",wijvideoFullScreen:"",wijvideoContainerFullScreen:""},this.fullScreenButtonVisible=!0,this.showControlsOnHover=!0,this.localization=null}return e}();m.prototype.options=n.extend(!0,{},e.wijmoWidget.prototype.options,new g),n.wijmo.registerWidget("wijvideo",m.prototype)})(e.video||(e.video={}));var t=e.video})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){(function(t){"use strict";var n=jQuery,r="wijlistview",i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._baseWidget=function(){return n.mobile.listview},t.prototype._getListViewFromData=function(){return this.element.data("wijmo-wijlistview")},t.prototype._create=function(){var t=this._getListViewFromData();n.mobile.version.slice(0,4)=="1.2."?this.element.data("listview",t):this.element.data("mobile-listview",t),this.element.addClass("wijmo-wijlistview"),e.prototype._create.call(this);var r=this.element.closest("div[data-role='content']");r&&r.length>0||this.element.wrap("<div data-role='content' class='ui-content' />")},t.prototype._createSubPages=function(){var e=this.element.find("li").filter(function(){return n(this).find("ul, ol").length>0});n.mobile.listview.prototype._createSubPages.apply(this,arguments),e.length>0&&e.each(function(){var e=n(this),t=e.find("a");e.addClass("WijListviewNestedLink"),t.addClass("WijListviewNestedLink")})},t}(e.wijmoWidget);t.wijlistview=i;if(n.mobile){i.prototype.widgetName="wijlistview",i.prototype.widgetEventPrefix="listview",i.prototype.options=n.extend({},n.mobile.listview.prototype.options,e.wijmoWidget.prototype.options,{initSelector:":jqmData(role='wijlistview')"}),n.wijmo.registerWidget(r,n.mobile.listview,i.prototype);if(n.mobile.version.slice(0,4)=="1.2."){i.prototype.options.filter=!1,i.prototype.options.filterPlaceholder="Filter items...",i.prototype.options.filterTheme="c",i.prototype.options.filterReveal=!1;var s=function(e,t,n){return e.toString().toLowerCase().indexOf(t)===-1};i.prototype.options.filterCallback=s,n(document).delegate("ul.wijmo-wijlistview,ol.wijmo-wijlistview","listviewcreate",function(){var e=n(this),t=e.data("listview");if(!t.options.filter)return;t.options.filterReveal&&e.children().addClass("ui-screen-hidden");var r=n("<form>",{"class":"ui-listview-filter ui-bar-"+t.options.filterTheme,role:"search"}),i=n("<input>",{placeholder:t.options.filterPlaceholder}).attr("data-"+n.mobile.ns+"type","search").jqmData("lastval","").bind("keyup change",function(){var r=n(this),i=this.value.toLowerCase(),o=null,u=r.jqmData("lastval")+"",a=!1,f="",l,c=t.options.filterCallback!==s;t._trigger("beforefilter","beforefilter",{input:this}),r.jqmData("lastval",i),c||i.length<u.length||i.indexOf(u)!==0?o=e.children():(o=e.children(":not(.ui-screen-hidden)"),!o.length&&t.options.filterReveal&&(o=e.children(".ui-screen-hidden")));if(i){for(var h=o.length-1;h>=0;h--)l=n(o[h]),f=l.jqmData("filtertext")||l.text(),l.is("li:jqmData(role=list-divider)")?(l.toggleClass("ui-filter-hidequeue",!a),a=!1):t.options.filterCallback(f,i,l)?l.toggleClass("ui-filter-hidequeue",!0):a=!0;o.filter(":not(.ui-filter-hidequeue)").toggleClass("ui-screen-hidden",!1),o.filter(".ui-filter-hidequeue").toggleClass("ui-screen-hidden",!0).toggleClass("ui-filter-hidequeue",!1)}else o.toggleClass("ui-screen-hidden",!!t.options.filterReveal);t._refreshCorners()}).appendTo(r).textinput();t.options.inset&&r.addClass("ui-listview-filter-inset"),r.bind("submit",function(){return!1}).insertBefore(e)})}}})(e.listview||(e.listview={}));var t=e.listview})(wijmo||(wijmo={}));